"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/dockerfile-ast";
exports.ids = ["vendor-chunks/dockerfile-ast"];
exports.modules = {

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/argument.js":
/*!*****************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/argument.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Argument = void 0;\nclass Argument {\n    constructor(value, range) {\n        this.value = value;\n        this.range = range;\n    }\n    toString() {\n        return this.value;\n    }\n    getRange() {\n        return this.range;\n    }\n    getValue() {\n        return this.value;\n    }\n    isAfter(position) {\n        if (this.range.end.line < position.line) {\n            return false;\n        }\n        return this.range.start.line > position.line ? true : this.range.start.character > position.character;\n    }\n    isBefore(position) {\n        if (this.range.start.line < position.line) {\n            return true;\n        }\n        return this.range.end.line > position.line ? false : this.range.end.character < position.character;\n    }\n}\nexports.Argument = Argument;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2FyZ3VtZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvYXJndW1lbnQuanM/ZDdmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXJndW1lbnQgPSB2b2lkIDA7XG5jbGFzcyBBcmd1bWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIGdldFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZTtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICBpc0FmdGVyKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlLmVuZC5saW5lIDwgcG9zaXRpb24ubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlLnN0YXJ0LmxpbmUgPiBwb3NpdGlvbi5saW5lID8gdHJ1ZSA6IHRoaXMucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyID4gcG9zaXRpb24uY2hhcmFjdGVyO1xuICAgIH1cbiAgICBpc0JlZm9yZShwb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5yYW5nZS5zdGFydC5saW5lIDwgcG9zaXRpb24ubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2UuZW5kLmxpbmUgPiBwb3NpdGlvbi5saW5lID8gZmFsc2UgOiB0aGlzLnJhbmdlLmVuZC5jaGFyYWN0ZXIgPCBwb3NpdGlvbi5jaGFyYWN0ZXI7XG4gICAgfVxufVxuZXhwb3J0cy5Bcmd1bWVudCA9IEFyZ3VtZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/argument.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/comment.js":
/*!****************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/comment.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Comment = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst line_1 = __webpack_require__(/*! ./line */ \"(rsc)/./node_modules/dockerfile-ast/lib/line.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nclass Comment extends line_1.Line {\n    constructor(document, range) {\n        super(document, range);\n    }\n    toString() {\n        const content = this.getContent();\n        if (content) {\n            return \"# \" + content;\n        }\n        return \"#\";\n    }\n    /**\n     * Returns the content of this comment. This excludes leading and\n     * trailing whitespace as well as the # symbol. If the comment only\n     * consists of whitespace, the empty string will be returned.\n     */\n    getContent() {\n        let range = this.getContentRange();\n        if (range === null) {\n            return \"\";\n        }\n        return this.document.getText().substring(this.document.offsetAt(range.start), this.document.offsetAt(range.end));\n    }\n    /**\n     * Returns a range that includes the content of the comment\n     * excluding any leading and trailing whitespace as well as the #\n     * symbol. May return null if the comment only consists of whitespace\n     * characters.\n     */\n    getContentRange() {\n        let range = this.getRange();\n        const startOffset = this.document.offsetAt(range.start);\n        let raw = this.document.getText().substring(startOffset, this.document.offsetAt(range.end));\n        let start = -1;\n        let end = -1;\n        // skip the first # symbol\n        for (let i = 1; i < raw.length; i++) {\n            if (!util_1.Util.isWhitespace(raw.charAt(i))) {\n                start = i;\n                break;\n            }\n        }\n        if (start === -1) {\n            return null;\n        }\n        // go backwards up to the first # symbol\n        for (let i = raw.length - 1; i >= 1; i--) {\n            if (!util_1.Util.isWhitespace(raw.charAt(i))) {\n                end = i + 1;\n                break;\n            }\n        }\n        return vscode_languageserver_types_1.Range.create(this.document.positionAt(startOffset + start), this.document.positionAt(startOffset + end));\n    }\n}\nexports.Comment = Comment;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2NvbW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmLHNDQUFzQyxtQkFBTyxDQUFDLHFHQUE2QjtBQUMzRSxlQUFlLG1CQUFPLENBQUMsK0RBQVE7QUFDL0IsZUFBZSxtQkFBTyxDQUFDLCtEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFFBQVE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvY29tbWVudC5qcz9jNWU0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21tZW50ID0gdm9pZCAwO1xuY29uc3QgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEgPSByZXF1aXJlKFwidnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzXCIpO1xuY29uc3QgbGluZV8xID0gcmVxdWlyZShcIi4vbGluZVwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jbGFzcyBDb21tZW50IGV4dGVuZHMgbGluZV8xLkxpbmUge1xuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50LCByYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiIyBcIiArIGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiI1wiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb250ZW50IG9mIHRoaXMgY29tbWVudC4gVGhpcyBleGNsdWRlcyBsZWFkaW5nIGFuZFxuICAgICAqIHRyYWlsaW5nIHdoaXRlc3BhY2UgYXMgd2VsbCBhcyB0aGUgIyBzeW1ib2wuIElmIHRoZSBjb21tZW50IG9ubHlcbiAgICAgKiBjb25zaXN0cyBvZiB3aGl0ZXNwYWNlLCB0aGUgZW1wdHkgc3RyaW5nIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICovXG4gICAgZ2V0Q29udGVudCgpIHtcbiAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5nZXRDb250ZW50UmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpLCB0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJhbmdlLmVuZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZ2UgdGhhdCBpbmNsdWRlcyB0aGUgY29udGVudCBvZiB0aGUgY29tbWVudFxuICAgICAqIGV4Y2x1ZGluZyBhbnkgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBhcyB3ZWxsIGFzIHRoZSAjXG4gICAgICogc3ltYm9sLiBNYXkgcmV0dXJuIG51bGwgaWYgdGhlIGNvbW1lbnQgb25seSBjb25zaXN0cyBvZiB3aGl0ZXNwYWNlXG4gICAgICogY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBnZXRDb250ZW50UmFuZ2UoKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgbGV0IHJhdyA9IHRoaXMuZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cmluZyhzdGFydE9mZnNldCwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5lbmQpKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gLTE7XG4gICAgICAgIGxldCBlbmQgPSAtMTtcbiAgICAgICAgLy8gc2tpcCB0aGUgZmlyc3QgIyBzeW1ib2xcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdXRpbF8xLlV0aWwuaXNXaGl0ZXNwYWNlKHJhdy5jaGFyQXQoaSkpKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdvIGJhY2t3YXJkcyB1cCB0byB0aGUgZmlyc3QgIyBzeW1ib2xcbiAgICAgICAgZm9yIChsZXQgaSA9IHJhdy5sZW5ndGggLSAxOyBpID49IDE7IGktLSkge1xuICAgICAgICAgICAgaWYgKCF1dGlsXzEuVXRpbC5pc1doaXRlc3BhY2UocmF3LmNoYXJBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChzdGFydE9mZnNldCArIHN0YXJ0KSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHN0YXJ0T2Zmc2V0ICsgZW5kKSk7XG4gICAgfVxufVxuZXhwb3J0cy5Db21tZW50ID0gQ29tbWVudDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/comment.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/dockerfile.js":
/*!*******************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/dockerfile.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/* --------------------------------------------------------------------------------------------\n * Copyright (c) Remy Suen. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dockerfile = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst ast = __webpack_require__(/*! ./main */ \"(rsc)/./node_modules/dockerfile-ast/lib/main.js\");\nconst imageTemplate_1 = __webpack_require__(/*! ./imageTemplate */ \"(rsc)/./node_modules/dockerfile-ast/lib/imageTemplate.js\");\nconst from_1 = __webpack_require__(/*! ./instructions/from */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/from.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nconst main_1 = __webpack_require__(/*! ./main */ \"(rsc)/./node_modules/dockerfile-ast/lib/main.js\");\nclass Dockerfile extends imageTemplate_1.ImageTemplate {\n    constructor(document) {\n        super();\n        this.initialInstructions = new imageTemplate_1.ImageTemplate();\n        this.buildStages = [];\n        this.directives = [];\n        /**\n         * Whether a FROM instruction has been added to this Dockerfile or not.\n         */\n        this.foundFrom = false;\n        this.document = document;\n    }\n    getEscapeCharacter() {\n        for (const directive of this.directives) {\n            if (directive.getDirective() === ast.Directive.escape) {\n                const value = directive.getValue();\n                if (value === '\\\\' || value === '`') {\n                    return value;\n                }\n            }\n        }\n        return '\\\\';\n    }\n    getInitialARGs() {\n        return this.initialInstructions.getARGs();\n    }\n    getContainingImage(position) {\n        let range = vscode_languageserver_types_1.Range.create(vscode_languageserver_types_1.Position.create(0, 0), this.document.positionAt(this.document.getText().length));\n        if (!util_1.Util.isInsideRange(position, range)) {\n            // not inside the document, invalid position\n            return null;\n        }\n        if (this.initialInstructions.getComments().length > 0 || this.initialInstructions.getInstructions().length > 0) {\n            if (util_1.Util.isInsideRange(position, this.initialInstructions.getRange())) {\n                return this.initialInstructions;\n            }\n        }\n        for (const buildStage of this.buildStages) {\n            if (util_1.Util.isInsideRange(position, buildStage.getRange())) {\n                return buildStage;\n            }\n        }\n        return this;\n    }\n    addInstruction(instruction) {\n        if (instruction.getKeyword() === main_1.Keyword.FROM) {\n            this.currentBuildStage = new imageTemplate_1.ImageTemplate();\n            this.buildStages.push(this.currentBuildStage);\n            this.foundFrom = true;\n        }\n        else if (!this.foundFrom) {\n            this.initialInstructions.addInstruction(instruction);\n        }\n        if (this.foundFrom) {\n            this.currentBuildStage.addInstruction(instruction);\n        }\n        super.addInstruction(instruction);\n    }\n    setDirectives(directives) {\n        this.directives = directives;\n    }\n    getDirective() {\n        return this.directives.length === 0 ? null : this.directives[0];\n    }\n    getDirectives() {\n        return this.directives;\n    }\n    resolveVariable(variable, line) {\n        for (let from of this.getFROMs()) {\n            let range = from.getRange();\n            if (range.start.line <= line && line <= range.end.line) {\n                // resolve the FROM variable against the initial ARGs\n                let initialARGs = new imageTemplate_1.ImageTemplate();\n                for (let instruction of this.initialInstructions.getARGs()) {\n                    initialARGs.addInstruction(instruction);\n                }\n                return initialARGs.resolveVariable(variable, line);\n            }\n        }\n        let image = this.getContainingImage(vscode_languageserver_types_1.Position.create(line, 0));\n        if (image === null) {\n            return undefined;\n        }\n        let resolvedVariable = image.resolveVariable(variable, line);\n        if (resolvedVariable === null) {\n            // refers to an uninitialized ARG variable,\n            // try resolving it against the initial ARGs then\n            let initialARGs = new imageTemplate_1.ImageTemplate();\n            for (let instruction of this.initialInstructions.getARGs()) {\n                initialARGs.addInstruction(instruction);\n            }\n            return initialARGs.resolveVariable(variable, line);\n        }\n        return resolvedVariable;\n    }\n    getAvailableVariables(currentLine) {\n        if (this.getInstructionAt(currentLine) instanceof from_1.From) {\n            let variables = [];\n            for (let arg of this.getInitialARGs()) {\n                let property = arg.getProperty();\n                if (property) {\n                    variables.push(property.getName());\n                }\n            }\n            return variables;\n        }\n        let image = this.getContainingImage(vscode_languageserver_types_1.Position.create(currentLine, 0));\n        return image ? image.getAvailableVariables(currentLine) : [];\n    }\n    getParentStage(image) {\n        const templateFrom = image.getFROM();\n        const imageName = templateFrom === null ? null : templateFrom.getImageName();\n        if (imageName === null) {\n            return null;\n        }\n        for (const from of this.getFROMs()) {\n            if (from.getBuildStage() === imageName) {\n                const range = from.getRange();\n                // on the same line then it's an image that shares the name as the build stage\n                if (range.start.line === templateFrom.getRange().start.line) {\n                    return null;\n                }\n                return this.getContainingImage(range.start);\n            }\n        }\n        return null;\n    }\n    getStageHierarchy(line) {\n        const image = this.getContainingImage(vscode_languageserver_types_1.Position.create(line, 0));\n        if (image === null) {\n            return [];\n        }\n        const stages = [image];\n        let stage = this.getParentStage(image);\n        while (stage !== null) {\n            stages.splice(0, 0, stage);\n            stage = this.getParentStage(stage);\n        }\n        return stages;\n    }\n    getAvailableWorkingDirectories(line) {\n        const availableDirectories = new Set();\n        for (const image of this.getStageHierarchy(line)) {\n            for (const workdir of image.getWORKDIRs()) {\n                if (workdir.getRange().end.line < line) {\n                    let directory = workdir.getAbsolutePath();\n                    if (directory !== undefined && directory !== null) {\n                        if (!directory.endsWith(\"/\")) {\n                            directory += \"/\";\n                        }\n                        availableDirectories.add(directory);\n                    }\n                }\n            }\n        }\n        return Array.from(availableDirectories);\n    }\n    /**\n     * Internally reorganize the comments in the Dockerfile and allocate\n     * them to the relevant build stages that they belong to.\n     */\n    organizeComments() {\n        const comments = this.getComments();\n        for (let i = 0; i < comments.length; i++) {\n            if (util_1.Util.isInsideRange(comments[i].getRange().end, this.initialInstructions.getRange())) {\n                this.initialInstructions.addComment(comments[i]);\n            }\n            else {\n                for (const buildStage of this.buildStages) {\n                    if (util_1.Util.isInsideRange(comments[i].getRange().start, buildStage.getRange())) {\n                        buildStage.addComment(comments[i]);\n                    }\n                }\n            }\n        }\n    }\n    getRange() {\n        const comments = this.getComments();\n        const instructions = this.getInstructions();\n        let range = null;\n        if (comments.length === 0) {\n            if (instructions.length > 0) {\n                range = vscode_languageserver_types_1.Range.create(instructions[0].getRange().start, instructions[instructions.length - 1].getRange().end);\n            }\n        }\n        else if (instructions.length === 0) {\n            range = vscode_languageserver_types_1.Range.create(comments[0].getRange().start, comments[comments.length - 1].getRange().end);\n        }\n        else {\n            const commentStart = comments[0].getRange().start;\n            const commentEnd = comments[comments.length - 1].getRange().end;\n            const instructionStart = instructions[0].getRange().start;\n            const instructionEnd = instructions[instructions.length - 1].getRange().end;\n            if (commentStart.line < instructionStart.line) {\n                if (commentEnd.line < instructionEnd.line) {\n                    range = vscode_languageserver_types_1.Range.create(commentStart, instructionEnd);\n                }\n                range = vscode_languageserver_types_1.Range.create(commentStart, commentEnd);\n            }\n            else if (commentEnd.line < instructionEnd.line) {\n                range = vscode_languageserver_types_1.Range.create(instructionStart, instructionEnd);\n            }\n            else {\n                range = vscode_languageserver_types_1.Range.create(instructionStart, commentEnd);\n            }\n        }\n        if (range === null) {\n            if (this.directives.length === 0) {\n                return null;\n            }\n            return this.directives[0].getRange();\n        }\n        else if (this.directives.length === 0) {\n            return range;\n        }\n        return vscode_languageserver_types_1.Range.create(this.directives[0].getRange().start, range.end);\n    }\n}\nexports.Dockerfile = Dockerfile;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2RvY2tlcmZpbGUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsc0NBQXNDLG1CQUFPLENBQUMscUdBQTZCO0FBQzNFLFlBQVksbUJBQU8sQ0FBQywrREFBUTtBQUM1Qix3QkFBd0IsbUJBQU8sQ0FBQyxpRkFBaUI7QUFDakQsZUFBZSxtQkFBTyxDQUFDLHlGQUFxQjtBQUM1QyxlQUFlLG1CQUFPLENBQUMsK0RBQVE7QUFDL0IsZUFBZSxtQkFBTyxDQUFDLCtEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvZG9ja2VyZmlsZS5qcz85YzBjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIFJlbXkgU3Vlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbid1c2Ugc3RyaWN0Jztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRG9ja2VyZmlsZSA9IHZvaWQgMDtcbmNvbnN0IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xID0gcmVxdWlyZShcInZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlc1wiKTtcbmNvbnN0IGFzdCA9IHJlcXVpcmUoXCIuL21haW5cIik7XG5jb25zdCBpbWFnZVRlbXBsYXRlXzEgPSByZXF1aXJlKFwiLi9pbWFnZVRlbXBsYXRlXCIpO1xuY29uc3QgZnJvbV8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2Zyb21cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgbWFpbl8xID0gcmVxdWlyZShcIi4vbWFpblwiKTtcbmNsYXNzIERvY2tlcmZpbGUgZXh0ZW5kcyBpbWFnZVRlbXBsYXRlXzEuSW1hZ2VUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsSW5zdHJ1Y3Rpb25zID0gbmV3IGltYWdlVGVtcGxhdGVfMS5JbWFnZVRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMuYnVpbGRTdGFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGEgRlJPTSBpbnN0cnVjdGlvbiBoYXMgYmVlbiBhZGRlZCB0byB0aGlzIERvY2tlcmZpbGUgb3Igbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb3VuZEZyb20gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIH1cbiAgICBnZXRFc2NhcGVDaGFyYWN0ZXIoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZGlyZWN0aXZlIG9mIHRoaXMuZGlyZWN0aXZlcykge1xuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZS5nZXREaXJlY3RpdmUoKSA9PT0gYXN0LkRpcmVjdGl2ZS5lc2NhcGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRpcmVjdGl2ZS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ1xcXFwnIHx8IHZhbHVlID09PSAnYCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ1xcXFwnO1xuICAgIH1cbiAgICBnZXRJbml0aWFsQVJHcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbEluc3RydWN0aW9ucy5nZXRBUkdzKCk7XG4gICAgfVxuICAgIGdldENvbnRhaW5pbmdJbWFnZShwb3NpdGlvbikge1xuICAgICAgICBsZXQgcmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUG9zaXRpb24uY3JlYXRlKDAsIDApLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQodGhpcy5kb2N1bWVudC5nZXRUZXh0KCkubGVuZ3RoKSk7XG4gICAgICAgIGlmICghdXRpbF8xLlV0aWwuaXNJbnNpZGVSYW5nZShwb3NpdGlvbiwgcmFuZ2UpKSB7XG4gICAgICAgICAgICAvLyBub3QgaW5zaWRlIHRoZSBkb2N1bWVudCwgaW52YWxpZCBwb3NpdGlvblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbEluc3RydWN0aW9ucy5nZXRDb21tZW50cygpLmxlbmd0aCA+IDAgfHwgdGhpcy5pbml0aWFsSW5zdHJ1Y3Rpb25zLmdldEluc3RydWN0aW9ucygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh1dGlsXzEuVXRpbC5pc0luc2lkZVJhbmdlKHBvc2l0aW9uLCB0aGlzLmluaXRpYWxJbnN0cnVjdGlvbnMuZ2V0UmFuZ2UoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsSW5zdHJ1Y3Rpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgYnVpbGRTdGFnZSBvZiB0aGlzLmJ1aWxkU3RhZ2VzKSB7XG4gICAgICAgICAgICBpZiAodXRpbF8xLlV0aWwuaXNJbnNpZGVSYW5nZShwb3NpdGlvbiwgYnVpbGRTdGFnZS5nZXRSYW5nZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZFN0YWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhZGRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24uZ2V0S2V5d29yZCgpID09PSBtYWluXzEuS2V5d29yZC5GUk9NKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRCdWlsZFN0YWdlID0gbmV3IGltYWdlVGVtcGxhdGVfMS5JbWFnZVRlbXBsYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkU3RhZ2VzLnB1c2godGhpcy5jdXJyZW50QnVpbGRTdGFnZSk7XG4gICAgICAgICAgICB0aGlzLmZvdW5kRnJvbSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuZm91bmRGcm9tKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxJbnN0cnVjdGlvbnMuYWRkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZvdW5kRnJvbSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QnVpbGRTdGFnZS5hZGRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuYWRkSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pO1xuICAgIH1cbiAgICBzZXREaXJlY3RpdmVzKGRpcmVjdGl2ZXMpIHtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICB9XG4gICAgZ2V0RGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3RpdmVzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiB0aGlzLmRpcmVjdGl2ZXNbMF07XG4gICAgfVxuICAgIGdldERpcmVjdGl2ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZXM7XG4gICAgfVxuICAgIHJlc29sdmVWYXJpYWJsZSh2YXJpYWJsZSwgbGluZSkge1xuICAgICAgICBmb3IgKGxldCBmcm9tIG9mIHRoaXMuZ2V0RlJPTXMoKSkge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gZnJvbS5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LmxpbmUgPD0gbGluZSAmJiBsaW5lIDw9IHJhbmdlLmVuZC5saW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzb2x2ZSB0aGUgRlJPTSB2YXJpYWJsZSBhZ2FpbnN0IHRoZSBpbml0aWFsIEFSR3NcbiAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbEFSR3MgPSBuZXcgaW1hZ2VUZW1wbGF0ZV8xLkltYWdlVGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluaXRpYWxJbnN0cnVjdGlvbnMuZ2V0QVJHcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxBUkdzLmFkZEluc3RydWN0aW9uKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxBUkdzLnJlc29sdmVWYXJpYWJsZSh2YXJpYWJsZSwgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGltYWdlID0gdGhpcy5nZXRDb250YWluaW5nSW1hZ2UodnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUG9zaXRpb24uY3JlYXRlKGxpbmUsIDApKTtcbiAgICAgICAgaWYgKGltYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXNvbHZlZFZhcmlhYmxlID0gaW1hZ2UucmVzb2x2ZVZhcmlhYmxlKHZhcmlhYmxlLCBsaW5lKTtcbiAgICAgICAgaWYgKHJlc29sdmVkVmFyaWFibGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHJlZmVycyB0byBhbiB1bmluaXRpYWxpemVkIEFSRyB2YXJpYWJsZSxcbiAgICAgICAgICAgIC8vIHRyeSByZXNvbHZpbmcgaXQgYWdhaW5zdCB0aGUgaW5pdGlhbCBBUkdzIHRoZW5cbiAgICAgICAgICAgIGxldCBpbml0aWFsQVJHcyA9IG5ldyBpbWFnZVRlbXBsYXRlXzEuSW1hZ2VUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5zdHJ1Y3Rpb24gb2YgdGhpcy5pbml0aWFsSW5zdHJ1Y3Rpb25zLmdldEFSR3MoKSkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxBUkdzLmFkZEluc3RydWN0aW9uKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsQVJHcy5yZXNvbHZlVmFyaWFibGUodmFyaWFibGUsIGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZFZhcmlhYmxlO1xuICAgIH1cbiAgICBnZXRBdmFpbGFibGVWYXJpYWJsZXMoY3VycmVudExpbmUpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0SW5zdHJ1Y3Rpb25BdChjdXJyZW50TGluZSkgaW5zdGFuY2VvZiBmcm9tXzEuRnJvbSkge1xuICAgICAgICAgICAgbGV0IHZhcmlhYmxlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgYXJnIG9mIHRoaXMuZ2V0SW5pdGlhbEFSR3MoKSkge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IGFyZy5nZXRQcm9wZXJ0eSgpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXMucHVzaChwcm9wZXJ0eS5nZXROYW1lKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGltYWdlID0gdGhpcy5nZXRDb250YWluaW5nSW1hZ2UodnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUG9zaXRpb24uY3JlYXRlKGN1cnJlbnRMaW5lLCAwKSk7XG4gICAgICAgIHJldHVybiBpbWFnZSA/IGltYWdlLmdldEF2YWlsYWJsZVZhcmlhYmxlcyhjdXJyZW50TGluZSkgOiBbXTtcbiAgICB9XG4gICAgZ2V0UGFyZW50U3RhZ2UoaW1hZ2UpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVGcm9tID0gaW1hZ2UuZ2V0RlJPTSgpO1xuICAgICAgICBjb25zdCBpbWFnZU5hbWUgPSB0ZW1wbGF0ZUZyb20gPT09IG51bGwgPyBudWxsIDogdGVtcGxhdGVGcm9tLmdldEltYWdlTmFtZSgpO1xuICAgICAgICBpZiAoaW1hZ2VOYW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZyb20gb2YgdGhpcy5nZXRGUk9NcygpKSB7XG4gICAgICAgICAgICBpZiAoZnJvbS5nZXRCdWlsZFN0YWdlKCkgPT09IGltYWdlTmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZnJvbS5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBzYW1lIGxpbmUgdGhlbiBpdCdzIGFuIGltYWdlIHRoYXQgc2hhcmVzIHRoZSBuYW1lIGFzIHRoZSBidWlsZCBzdGFnZVxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydC5saW5lID09PSB0ZW1wbGF0ZUZyb20uZ2V0UmFuZ2UoKS5zdGFydC5saW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb250YWluaW5nSW1hZ2UocmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRTdGFnZUhpZXJhcmNoeShsaW5lKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRDb250YWluaW5nSW1hZ2UodnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUG9zaXRpb24uY3JlYXRlKGxpbmUsIDApKTtcbiAgICAgICAgaWYgKGltYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhZ2VzID0gW2ltYWdlXTtcbiAgICAgICAgbGV0IHN0YWdlID0gdGhpcy5nZXRQYXJlbnRTdGFnZShpbWFnZSk7XG4gICAgICAgIHdoaWxlIChzdGFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhZ2VzLnNwbGljZSgwLCAwLCBzdGFnZSk7XG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuZ2V0UGFyZW50U3RhZ2Uoc3RhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFnZXM7XG4gICAgfVxuICAgIGdldEF2YWlsYWJsZVdvcmtpbmdEaXJlY3RvcmllcyhsaW5lKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZURpcmVjdG9yaWVzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIHRoaXMuZ2V0U3RhZ2VIaWVyYXJjaHkobGluZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgd29ya2RpciBvZiBpbWFnZS5nZXRXT1JLRElScygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdvcmtkaXIuZ2V0UmFuZ2UoKS5lbmQubGluZSA8IGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcmVjdG9yeSA9IHdvcmtkaXIuZ2V0QWJzb2x1dGVQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3RvcnkgIT09IHVuZGVmaW5lZCAmJiBkaXJlY3RvcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGlyZWN0b3J5LmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdG9yeSArPSBcIi9cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZURpcmVjdG9yaWVzLmFkZChkaXJlY3RvcnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGF2YWlsYWJsZURpcmVjdG9yaWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSByZW9yZ2FuaXplIHRoZSBjb21tZW50cyBpbiB0aGUgRG9ja2VyZmlsZSBhbmQgYWxsb2NhdGVcbiAgICAgKiB0aGVtIHRvIHRoZSByZWxldmFudCBidWlsZCBzdGFnZXMgdGhhdCB0aGV5IGJlbG9uZyB0by5cbiAgICAgKi9cbiAgICBvcmdhbml6ZUNvbW1lbnRzKCkge1xuICAgICAgICBjb25zdCBjb21tZW50cyA9IHRoaXMuZ2V0Q29tbWVudHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21tZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHV0aWxfMS5VdGlsLmlzSW5zaWRlUmFuZ2UoY29tbWVudHNbaV0uZ2V0UmFuZ2UoKS5lbmQsIHRoaXMuaW5pdGlhbEluc3RydWN0aW9ucy5nZXRSYW5nZSgpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbEluc3RydWN0aW9ucy5hZGRDb21tZW50KGNvbW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYnVpbGRTdGFnZSBvZiB0aGlzLmJ1aWxkU3RhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlsXzEuVXRpbC5pc0luc2lkZVJhbmdlKGNvbW1lbnRzW2ldLmdldFJhbmdlKCkuc3RhcnQsIGJ1aWxkU3RhZ2UuZ2V0UmFuZ2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkU3RhZ2UuYWRkQ29tbWVudChjb21tZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0gdGhpcy5nZXRDb21tZW50cygpO1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSB0aGlzLmdldEluc3RydWN0aW9ucygpO1xuICAgICAgICBsZXQgcmFuZ2UgPSBudWxsO1xuICAgICAgICBpZiAoY29tbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShpbnN0cnVjdGlvbnNbMF0uZ2V0UmFuZ2UoKS5zdGFydCwgaW5zdHJ1Y3Rpb25zW2luc3RydWN0aW9ucy5sZW5ndGggLSAxXS5nZXRSYW5nZSgpLmVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdHJ1Y3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoY29tbWVudHNbMF0uZ2V0UmFuZ2UoKS5zdGFydCwgY29tbWVudHNbY29tbWVudHMubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29tbWVudFN0YXJ0ID0gY29tbWVudHNbMF0uZ2V0UmFuZ2UoKS5zdGFydDtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRFbmQgPSBjb21tZW50c1tjb21tZW50cy5sZW5ndGggLSAxXS5nZXRSYW5nZSgpLmVuZDtcbiAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uU3RhcnQgPSBpbnN0cnVjdGlvbnNbMF0uZ2V0UmFuZ2UoKS5zdGFydDtcbiAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uRW5kID0gaW5zdHJ1Y3Rpb25zW2luc3RydWN0aW9ucy5sZW5ndGggLSAxXS5nZXRSYW5nZSgpLmVuZDtcbiAgICAgICAgICAgIGlmIChjb21tZW50U3RhcnQubGluZSA8IGluc3RydWN0aW9uU3RhcnQubGluZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21tZW50RW5kLmxpbmUgPCBpbnN0cnVjdGlvbkVuZC5saW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGNvbW1lbnRTdGFydCwgaW5zdHJ1Y3Rpb25FbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYW5nZSA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShjb21tZW50U3RhcnQsIGNvbW1lbnRFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29tbWVudEVuZC5saW5lIDwgaW5zdHJ1Y3Rpb25FbmQubGluZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGluc3RydWN0aW9uU3RhcnQsIGluc3RydWN0aW9uRW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGluc3RydWN0aW9uU3RhcnQsIGNvbW1lbnRFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZXNbMF0uZ2V0UmFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRpcmVjdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRpcmVjdGl2ZXNbMF0uZ2V0UmFuZ2UoKS5zdGFydCwgcmFuZ2UuZW5kKTtcbiAgICB9XG59XG5leHBvcnRzLkRvY2tlcmZpbGUgPSBEb2NrZXJmaWxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/dockerfile.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/flag.js":
/*!*************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/flag.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Flag = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst flagOption_1 = __webpack_require__(/*! ./flagOption */ \"(rsc)/./node_modules/dockerfile-ast/lib/flagOption.js\");\nclass Flag {\n    constructor(document, range, name, nameRange, value, valueRange) {\n        this.options = [];\n        this.range = range;\n        this.name = name;\n        this.nameRange = nameRange;\n        this.value = value;\n        this.valueRange = valueRange;\n        if (this.value !== null) {\n            let offset = document.offsetAt(valueRange.start);\n            let nameStart = -1;\n            let valueStart = -1;\n            let hasOptions = false;\n            for (let i = 0; i < value.length; i++) {\n                switch (value.charAt(i)) {\n                    case '=':\n                        hasOptions = true;\n                        if (valueStart === -1) {\n                            valueStart = i + 1;\n                            break;\n                        }\n                        break;\n                    case ',':\n                        this.options.push(this.createFlagOption(document, value, offset, nameStart, valueStart, i));\n                        nameStart = -1;\n                        valueStart = -1;\n                        break;\n                    default:\n                        if (nameStart === -1) {\n                            nameStart = i;\n                        }\n                        break;\n                }\n            }\n            if (hasOptions && nameStart !== -1) {\n                this.options.push(this.createFlagOption(document, value, offset, nameStart, valueStart, value.length));\n            }\n        }\n    }\n    createFlagOption(document, content, documentOffset, nameStart, valueStart, valueEnd) {\n        const optionRange = vscode_languageserver_types_1.Range.create(document.positionAt(documentOffset + nameStart), document.positionAt(documentOffset + valueEnd));\n        if (valueStart === -1) {\n            return new flagOption_1.FlagOption(optionRange, content.substring(nameStart, valueEnd), optionRange, null, null);\n        }\n        return new flagOption_1.FlagOption(optionRange, content.substring(nameStart, valueStart - 1), vscode_languageserver_types_1.Range.create(document.positionAt(documentOffset + nameStart), document.positionAt(documentOffset + valueStart - 1)), content.substring(valueStart, valueEnd), vscode_languageserver_types_1.Range.create(document.positionAt(documentOffset + valueStart), document.positionAt(documentOffset + valueEnd)));\n    }\n    toString() {\n        if (this.valueRange) {\n            return \"--\" + this.name + \"=\" + this.value;\n        }\n        return \"--\" + this.name;\n    }\n    /**\n     * Returns the range that encompasses this entire flag. This includes the\n     * -- prefix in the beginning to the last character of the flag's value (if\n     * it has been defined).\n     *\n     * @return the entire range of this flag\n     */\n    getRange() {\n        return this.range;\n    }\n    /**\n     * Returns the name of this flag. The name does not include the -- prefix.\n     * Thus, for HEALTHCHECK's --interval flag, interval is the flag's name and\n     * not --interval.\n     *\n     * @return this flag's name\n     */\n    getName() {\n        return this.name;\n    }\n    /**\n     * Returns the range that encompasses the flag's name\n     *\n     * @return the range containing the flag's name\n     */\n    getNameRange() {\n        return this.nameRange;\n    }\n    /**\n     * Returns the value that has been set to this flag. May be null if the\n     * flag is invalid and has no value set like a --start-period. If the flag\n     * is instead a --start-period= with an equals sign then the flag's value\n     * is the empty string.\n     *\n     * @return this flag's value if it has been defined, null otherwise\n     */\n    getValue() {\n        return this.value;\n    }\n    /**\n     * Returns the range that encompasses this flag's value. If no value has\n     * been set then null will be returned.\n     *\n     * @return the range containing this flag's value, or null if the flag\n     *         has no value defined\n     */\n    getValueRange() {\n        return this.valueRange;\n    }\n    getOption(name) {\n        for (const option of this.options) {\n            if (option.getName() === name) {\n                return option;\n            }\n        }\n        return null;\n    }\n    getOptions() {\n        return this.options;\n    }\n    hasOptions() {\n        return this.options.length > 0;\n    }\n}\nexports.Flag = Flag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2ZsYWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLHNDQUFzQyxtQkFBTyxDQUFDLHFHQUE2QjtBQUMzRSxxQkFBcUIsbUJBQU8sQ0FBQywyRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9mbGFnLmpzPzAyYzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZsYWcgPSB2b2lkIDA7XG5jb25zdCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMSA9IHJlcXVpcmUoXCJ2c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXNcIik7XG5jb25zdCBmbGFnT3B0aW9uXzEgPSByZXF1aXJlKFwiLi9mbGFnT3B0aW9uXCIpO1xuY2xhc3MgRmxhZyB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBuYW1lLCBuYW1lUmFuZ2UsIHZhbHVlLCB2YWx1ZVJhbmdlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubmFtZVJhbmdlID0gbmFtZVJhbmdlO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudmFsdWVSYW5nZSA9IHZhbHVlUmFuZ2U7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQodmFsdWVSYW5nZS5zdGFydCk7XG4gICAgICAgICAgICBsZXQgbmFtZVN0YXJ0ID0gLTE7XG4gICAgICAgICAgICBsZXQgdmFsdWVTdGFydCA9IC0xO1xuICAgICAgICAgICAgbGV0IGhhc09wdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLmNoYXJBdChpKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVTdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnB1c2godGhpcy5jcmVhdGVGbGFnT3B0aW9uKGRvY3VtZW50LCB2YWx1ZSwgb2Zmc2V0LCBuYW1lU3RhcnQsIHZhbHVlU3RhcnQsIGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVTdGFydCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVTdGFydCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZVN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVTdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzT3B0aW9ucyAmJiBuYW1lU3RhcnQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnB1c2godGhpcy5jcmVhdGVGbGFnT3B0aW9uKGRvY3VtZW50LCB2YWx1ZSwgb2Zmc2V0LCBuYW1lU3RhcnQsIHZhbHVlU3RhcnQsIHZhbHVlLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUZsYWdPcHRpb24oZG9jdW1lbnQsIGNvbnRlbnQsIGRvY3VtZW50T2Zmc2V0LCBuYW1lU3RhcnQsIHZhbHVlU3RhcnQsIHZhbHVlRW5kKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoZG9jdW1lbnRPZmZzZXQgKyBuYW1lU3RhcnQpLCBkb2N1bWVudC5wb3NpdGlvbkF0KGRvY3VtZW50T2Zmc2V0ICsgdmFsdWVFbmQpKTtcbiAgICAgICAgaWYgKHZhbHVlU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGZsYWdPcHRpb25fMS5GbGFnT3B0aW9uKG9wdGlvblJhbmdlLCBjb250ZW50LnN1YnN0cmluZyhuYW1lU3RhcnQsIHZhbHVlRW5kKSwgb3B0aW9uUmFuZ2UsIG51bGwsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgZmxhZ09wdGlvbl8xLkZsYWdPcHRpb24ob3B0aW9uUmFuZ2UsIGNvbnRlbnQuc3Vic3RyaW5nKG5hbWVTdGFydCwgdmFsdWVTdGFydCAtIDEpLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChkb2N1bWVudE9mZnNldCArIG5hbWVTdGFydCksIGRvY3VtZW50LnBvc2l0aW9uQXQoZG9jdW1lbnRPZmZzZXQgKyB2YWx1ZVN0YXJ0IC0gMSkpLCBjb250ZW50LnN1YnN0cmluZyh2YWx1ZVN0YXJ0LCB2YWx1ZUVuZCksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KGRvY3VtZW50T2Zmc2V0ICsgdmFsdWVTdGFydCksIGRvY3VtZW50LnBvc2l0aW9uQXQoZG9jdW1lbnRPZmZzZXQgKyB2YWx1ZUVuZCkpKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBcIi0tXCIgKyB0aGlzLm5hbWUgKyBcIj1cIiArIHRoaXMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiLS1cIiArIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmFuZ2UgdGhhdCBlbmNvbXBhc3NlcyB0aGlzIGVudGlyZSBmbGFnLiBUaGlzIGluY2x1ZGVzIHRoZVxuICAgICAqIC0tIHByZWZpeCBpbiB0aGUgYmVnaW5uaW5nIHRvIHRoZSBsYXN0IGNoYXJhY3RlciBvZiB0aGUgZmxhZydzIHZhbHVlIChpZlxuICAgICAqIGl0IGhhcyBiZWVuIGRlZmluZWQpLlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgZW50aXJlIHJhbmdlIG9mIHRoaXMgZmxhZ1xuICAgICAqL1xuICAgIGdldFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGlzIGZsYWcuIFRoZSBuYW1lIGRvZXMgbm90IGluY2x1ZGUgdGhlIC0tIHByZWZpeC5cbiAgICAgKiBUaHVzLCBmb3IgSEVBTFRIQ0hFQ0sncyAtLWludGVydmFsIGZsYWcsIGludGVydmFsIGlzIHRoZSBmbGFnJ3MgbmFtZSBhbmRcbiAgICAgKiBub3QgLS1pbnRlcnZhbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhpcyBmbGFnJ3MgbmFtZVxuICAgICAqL1xuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhbmdlIHRoYXQgZW5jb21wYXNzZXMgdGhlIGZsYWcncyBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoZSByYW5nZSBjb250YWluaW5nIHRoZSBmbGFnJ3MgbmFtZVxuICAgICAqL1xuICAgIGdldE5hbWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZVJhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSB0aGF0IGhhcyBiZWVuIHNldCB0byB0aGlzIGZsYWcuIE1heSBiZSBudWxsIGlmIHRoZVxuICAgICAqIGZsYWcgaXMgaW52YWxpZCBhbmQgaGFzIG5vIHZhbHVlIHNldCBsaWtlIGEgLS1zdGFydC1wZXJpb2QuIElmIHRoZSBmbGFnXG4gICAgICogaXMgaW5zdGVhZCBhIC0tc3RhcnQtcGVyaW9kPSB3aXRoIGFuIGVxdWFscyBzaWduIHRoZW4gdGhlIGZsYWcncyB2YWx1ZVxuICAgICAqIGlzIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoaXMgZmxhZydzIHZhbHVlIGlmIGl0IGhhcyBiZWVuIGRlZmluZWQsIG51bGwgb3RoZXJ3aXNlXG4gICAgICovXG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByYW5nZSB0aGF0IGVuY29tcGFzc2VzIHRoaXMgZmxhZydzIHZhbHVlLiBJZiBubyB2YWx1ZSBoYXNcbiAgICAgKiBiZWVuIHNldCB0aGVuIG51bGwgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhlIHJhbmdlIGNvbnRhaW5pbmcgdGhpcyBmbGFnJ3MgdmFsdWUsIG9yIG51bGwgaWYgdGhlIGZsYWdcbiAgICAgKiAgICAgICAgIGhhcyBubyB2YWx1ZSBkZWZpbmVkXG4gICAgICovXG4gICAgZ2V0VmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVSYW5nZTtcbiAgICB9XG4gICAgZ2V0T3B0aW9uKG5hbWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgdGhpcy5vcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uLmdldE5hbWUoKSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfVxuICAgIGhhc09wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGVuZ3RoID4gMDtcbiAgICB9XG59XG5leHBvcnRzLkZsYWcgPSBGbGFnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/flag.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/flagOption.js":
/*!*******************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/flagOption.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FlagOption = void 0;\nclass FlagOption {\n    constructor(range, name, nameRange, value, valueRange) {\n        this.range = range;\n        this.name = name;\n        this.nameRange = nameRange;\n        this.value = value;\n        this.valueRange = valueRange;\n    }\n    toString() {\n        if (this.valueRange !== null) {\n            return this.name + \"=\" + this.value;\n        }\n        return this.name;\n    }\n    getRange() {\n        return this.range;\n    }\n    getName() {\n        return this.name;\n    }\n    getNameRange() {\n        return this.nameRange;\n    }\n    getValue() {\n        return this.value;\n    }\n    getValueRange() {\n        return this.valueRange;\n    }\n}\nexports.FlagOption = FlagOption;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2ZsYWdPcHRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9mbGFnT3B0aW9uLmpzPzMxOTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZsYWdPcHRpb24gPSB2b2lkIDA7XG5jbGFzcyBGbGFnT3B0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgbmFtZSwgbmFtZVJhbmdlLCB2YWx1ZSwgdmFsdWVSYW5nZSkge1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubmFtZVJhbmdlID0gbmFtZVJhbmdlO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudmFsdWVSYW5nZSA9IHZhbHVlUmFuZ2U7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZVJhbmdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgXCI9XCIgKyB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICAgIGdldFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZTtcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgZ2V0TmFtZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lUmFuZ2U7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgZ2V0VmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVSYW5nZTtcbiAgICB9XG59XG5leHBvcnRzLkZsYWdPcHRpb24gPSBGbGFnT3B0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/flagOption.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/heredoc.js":
/*!****************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/heredoc.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Heredoc = void 0;\n/**\n * Heredoc represents a here-document that has been embedded in a\n * Dockerfile.\n *\n * This API is experimental and subject to change.\n */\nclass Heredoc {\n    constructor(startRange, name, nameRange, contentRange, endRange) {\n        this.startRange = startRange;\n        this.name = name;\n        this.nameRange = nameRange;\n        this.contentRange = contentRange;\n        this.endRange = endRange;\n    }\n    /**\n     * Returns the name of the here-document.\n     *\n     * This API is experimental and subject to change.\n     */\n    getName() {\n        return this.name;\n    }\n    /**\n     * Returns the range of the start operator and the name. If the\n     * here-document is initialized with <<EOT then the start range would\n     * encompass all five characters.\n     *\n     * This API is experimental and subject to change.\n     */\n    getStartRange() {\n        return this.startRange;\n    }\n    /**\n     * Returns the range of this here-document's name that is declared at\n     * the beginning of the here-document with the operator. If the\n     * here-document is initialized with <<EOT then the name range would\n     * encompass the latter three \"EOT\" characters.\n     *\n     * This API is experimental and subject to change.\n     */\n    getNameRange() {\n        return this.nameRange;\n    }\n    /**\n     * Returns the range of the content of this here-document. This may\n     * be null if the here-document has no content because:\n     * - the start range is the only thing that was declared\n     * - the end range was declared immediately and there is no content\n     *\n     * This API is experimental and subject to change.\n     */\n    getContentRange() {\n        return this.contentRange;\n    }\n    /**\n     * Returns the range of the here-document's name on a line that\n     * represents the end of the here-document.\n     *\n     * This API is experimental and subject to change.\n     */\n    getDelimiterRange() {\n        return this.endRange;\n    }\n}\nexports.Heredoc = Heredoc;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2hlcmVkb2MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9oZXJlZG9jLmpzPzVkZWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlcmVkb2MgPSB2b2lkIDA7XG4vKipcbiAqIEhlcmVkb2MgcmVwcmVzZW50cyBhIGhlcmUtZG9jdW1lbnQgdGhhdCBoYXMgYmVlbiBlbWJlZGRlZCBpbiBhXG4gKiBEb2NrZXJmaWxlLlxuICpcbiAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gKi9cbmNsYXNzIEhlcmVkb2Mge1xuICAgIGNvbnN0cnVjdG9yKHN0YXJ0UmFuZ2UsIG5hbWUsIG5hbWVSYW5nZSwgY29udGVudFJhbmdlLCBlbmRSYW5nZSkge1xuICAgICAgICB0aGlzLnN0YXJ0UmFuZ2UgPSBzdGFydFJhbmdlO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm5hbWVSYW5nZSA9IG5hbWVSYW5nZTtcbiAgICAgICAgdGhpcy5jb250ZW50UmFuZ2UgPSBjb250ZW50UmFuZ2U7XG4gICAgICAgIHRoaXMuZW5kUmFuZ2UgPSBlbmRSYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgaGVyZS1kb2N1bWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICovXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmFuZ2Ugb2YgdGhlIHN0YXJ0IG9wZXJhdG9yIGFuZCB0aGUgbmFtZS4gSWYgdGhlXG4gICAgICogaGVyZS1kb2N1bWVudCBpcyBpbml0aWFsaXplZCB3aXRoIDw8RU9UIHRoZW4gdGhlIHN0YXJ0IHJhbmdlIHdvdWxkXG4gICAgICogZW5jb21wYXNzIGFsbCBmaXZlIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWwgYW5kIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqL1xuICAgIGdldFN0YXJ0UmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UmFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhbmdlIG9mIHRoaXMgaGVyZS1kb2N1bWVudCdzIG5hbWUgdGhhdCBpcyBkZWNsYXJlZCBhdFxuICAgICAqIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGhlcmUtZG9jdW1lbnQgd2l0aCB0aGUgb3BlcmF0b3IuIElmIHRoZVxuICAgICAqIGhlcmUtZG9jdW1lbnQgaXMgaW5pdGlhbGl6ZWQgd2l0aCA8PEVPVCB0aGVuIHRoZSBuYW1lIHJhbmdlIHdvdWxkXG4gICAgICogZW5jb21wYXNzIHRoZSBsYXR0ZXIgdGhyZWUgXCJFT1RcIiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogVGhpcyBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKi9cbiAgICBnZXROYW1lUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVSYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmFuZ2Ugb2YgdGhlIGNvbnRlbnQgb2YgdGhpcyBoZXJlLWRvY3VtZW50LiBUaGlzIG1heVxuICAgICAqIGJlIG51bGwgaWYgdGhlIGhlcmUtZG9jdW1lbnQgaGFzIG5vIGNvbnRlbnQgYmVjYXVzZTpcbiAgICAgKiAtIHRoZSBzdGFydCByYW5nZSBpcyB0aGUgb25seSB0aGluZyB0aGF0IHdhcyBkZWNsYXJlZFxuICAgICAqIC0gdGhlIGVuZCByYW5nZSB3YXMgZGVjbGFyZWQgaW1tZWRpYXRlbHkgYW5kIHRoZXJlIGlzIG5vIGNvbnRlbnRcbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICovXG4gICAgZ2V0Q29udGVudFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50UmFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhbmdlIG9mIHRoZSBoZXJlLWRvY3VtZW50J3MgbmFtZSBvbiBhIGxpbmUgdGhhdFxuICAgICAqIHJlcHJlc2VudHMgdGhlIGVuZCBvZiB0aGUgaGVyZS1kb2N1bWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICovXG4gICAgZ2V0RGVsaW1pdGVyUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZFJhbmdlO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVyZWRvYyA9IEhlcmVkb2M7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/heredoc.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/imageTemplate.js":
/*!**********************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/imageTemplate.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/* --------------------------------------------------------------------------------------------\n * Copyright (c) Remy Suen. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ImageTemplate = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst arg_1 = __webpack_require__(/*! ./instructions/arg */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/arg.js\");\nconst cmd_1 = __webpack_require__(/*! ./instructions/cmd */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/cmd.js\");\nconst copy_1 = __webpack_require__(/*! ./instructions/copy */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/copy.js\");\nconst env_1 = __webpack_require__(/*! ./instructions/env */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/env.js\");\nconst entrypoint_1 = __webpack_require__(/*! ./instructions/entrypoint */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/entrypoint.js\");\nconst from_1 = __webpack_require__(/*! ./instructions/from */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/from.js\");\nconst healthcheck_1 = __webpack_require__(/*! ./instructions/healthcheck */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/healthcheck.js\");\nconst onbuild_1 = __webpack_require__(/*! ./instructions/onbuild */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/onbuild.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nconst workdir_1 = __webpack_require__(/*! ./instructions/workdir */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/workdir.js\");\nclass ImageTemplate {\n    constructor() {\n        this.comments = [];\n        this.instructions = [];\n    }\n    addComment(comment) {\n        this.comments.push(comment);\n    }\n    getComments() {\n        return this.comments;\n    }\n    addInstruction(instruction) {\n        this.instructions.push(instruction);\n    }\n    getInstructions() {\n        return this.instructions;\n    }\n    getInstructionAt(line) {\n        for (let instruction of this.instructions) {\n            if (util_1.Util.isInsideRange(vscode_languageserver_types_1.Position.create(line, 0), instruction.getRange())) {\n                return instruction;\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets all the ARG instructions that are defined in this image.\n     */\n    getARGs() {\n        let args = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof arg_1.Arg) {\n                args.push(instruction);\n            }\n        }\n        return args;\n    }\n    /**\n     * Gets all the CMD instructions that are defined in this image.\n     */\n    getCMDs() {\n        let cmds = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof cmd_1.Cmd) {\n                cmds.push(instruction);\n            }\n        }\n        return cmds;\n    }\n    /**\n     * Gets all the COPY instructions that are defined in this image.\n     */\n    getCOPYs() {\n        let copies = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof copy_1.Copy) {\n                copies.push(instruction);\n            }\n        }\n        return copies;\n    }\n    /**\n     * Gets all the ENTRYPOINT instructions that are defined in this image.\n     */\n    getENTRYPOINTs() {\n        let froms = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof entrypoint_1.Entrypoint) {\n                froms.push(instruction);\n            }\n        }\n        return froms;\n    }\n    /**\n     * Gets all the ENV instructions that are defined in this image.\n     */\n    getENVs() {\n        let args = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof env_1.Env) {\n                args.push(instruction);\n            }\n        }\n        return args;\n    }\n    getFROM() {\n        for (const instruction of this.instructions) {\n            if (instruction instanceof from_1.From) {\n                return instruction;\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets all the FROM instructions that are defined in this image.\n     */\n    getFROMs() {\n        let froms = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof from_1.From) {\n                froms.push(instruction);\n            }\n        }\n        return froms;\n    }\n    /**\n     * Gets all the HEALTHCHECK instructions that are defined in this image.\n     */\n    getHEALTHCHECKs() {\n        let froms = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof healthcheck_1.Healthcheck) {\n                froms.push(instruction);\n            }\n        }\n        return froms;\n    }\n    getWORKDIRs() {\n        const workdirs = [];\n        for (const instruction of this.instructions) {\n            if (instruction instanceof workdir_1.Workdir) {\n                workdirs.push(instruction);\n            }\n        }\n        return workdirs;\n    }\n    getOnbuildTriggers() {\n        let triggers = [];\n        for (let instruction of this.instructions) {\n            if (instruction instanceof onbuild_1.Onbuild) {\n                let trigger = instruction.getTriggerInstruction();\n                if (trigger) {\n                    triggers.push(trigger);\n                }\n            }\n        }\n        return triggers;\n    }\n    getAvailableVariables(currentLine) {\n        const variables = [];\n        for (const arg of this.getARGs()) {\n            if (arg.isBefore(currentLine)) {\n                const property = arg.getProperty();\n                if (property) {\n                    const variable = property.getName();\n                    if (variables.indexOf(variable) === -1) {\n                        variables.push(variable);\n                    }\n                }\n            }\n        }\n        for (const env of this.getENVs()) {\n            if (env.isBefore(currentLine)) {\n                for (const property of env.getProperties()) {\n                    const variable = property.getName();\n                    if (variables.indexOf(variable) === -1) {\n                        variables.push(variable);\n                    }\n                }\n            }\n        }\n        return variables;\n    }\n    /**\n     * Resolves a variable with the given name at the specified line\n     * to its value. If null is returned, then the variable has been\n     * defined but no value was given. If undefined is returned, then\n     * a variable with the given name has not been defined yet as of\n     * the given line.\n     *\n     * @param variable the name of the variable to resolve\n     * @param line the line number that the variable is on, zero-based\n     * @return the value of the variable as defined by an ARG or ENV\n     *         instruction, or null if no value has been specified, or\n     *         undefined if a variable with the given name has not\n     *         been defined\n     */\n    resolveVariable(variable, line) {\n        let envs = this.getENVs();\n        for (let i = envs.length - 1; i >= 0; i--) {\n            if (envs[i].isBefore(line)) {\n                for (let property of envs[i].getProperties()) {\n                    if (property.getName() === variable) {\n                        return property.getValue();\n                    }\n                }\n            }\n        }\n        let args = this.getARGs();\n        for (let i = args.length - 1; i >= 0; i--) {\n            if (args[i].isBefore(line)) {\n                let property = args[i].getProperty();\n                if (property && property.getName() === variable) {\n                    return property.getValue();\n                }\n            }\n        }\n        return undefined;\n    }\n    getRange() {\n        const instructions = this.getInstructions();\n        if (instructions.length === 0) {\n            // all templates should have instructions, this only happens for\n            // the initial set of instruction\n            return vscode_languageserver_types_1.Range.create(0, 0, 0, 0);\n        }\n        const instructionStart = instructions[0].getRange().start;\n        const instructionEnd = instructions[instructions.length - 1].getRange().end;\n        return vscode_languageserver_types_1.Range.create(instructionStart, instructionEnd);\n    }\n    contains(position) {\n        const range = this.getRange();\n        if (range === null) {\n            return false;\n        }\n        return util_1.Util.isInsideRange(position, range);\n    }\n}\nexports.ImageTemplate = ImageTemplate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2ltYWdlVGVtcGxhdGUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsc0NBQXNDLG1CQUFPLENBQUMscUdBQTZCO0FBQzNFLGNBQWMsbUJBQU8sQ0FBQyx1RkFBb0I7QUFDMUMsY0FBYyxtQkFBTyxDQUFDLHVGQUFvQjtBQUMxQyxlQUFlLG1CQUFPLENBQUMseUZBQXFCO0FBQzVDLGNBQWMsbUJBQU8sQ0FBQyx1RkFBb0I7QUFDMUMscUJBQXFCLG1CQUFPLENBQUMscUdBQTJCO0FBQ3hELGVBQWUsbUJBQU8sQ0FBQyx5RkFBcUI7QUFDNUMsc0JBQXNCLG1CQUFPLENBQUMsdUdBQTRCO0FBQzFELGtCQUFrQixtQkFBTyxDQUFDLCtGQUF3QjtBQUNsRCxlQUFlLG1CQUFPLENBQUMsK0RBQVE7QUFDL0Isa0JBQWtCLG1CQUFPLENBQUMsK0ZBQXdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbWFnZVRlbXBsYXRlLmpzP2UyNWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoYykgUmVteSBTdWVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuJ3VzZSBzdHJpY3QnO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbWFnZVRlbXBsYXRlID0gdm9pZCAwO1xuY29uc3QgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEgPSByZXF1aXJlKFwidnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzXCIpO1xuY29uc3QgYXJnXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvYXJnXCIpO1xuY29uc3QgY21kXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvY21kXCIpO1xuY29uc3QgY29weV8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2NvcHlcIik7XG5jb25zdCBlbnZfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9lbnZcIik7XG5jb25zdCBlbnRyeXBvaW50XzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvZW50cnlwb2ludFwiKTtcbmNvbnN0IGZyb21fMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9mcm9tXCIpO1xuY29uc3QgaGVhbHRoY2hlY2tfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9oZWFsdGhjaGVja1wiKTtcbmNvbnN0IG9uYnVpbGRfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9vbmJ1aWxkXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IHdvcmtkaXJfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy93b3JrZGlyXCIpO1xuY2xhc3MgSW1hZ2VUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29tbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgYWRkQ29tbWVudChjb21tZW50KSB7XG4gICAgICAgIHRoaXMuY29tbWVudHMucHVzaChjb21tZW50KTtcbiAgICB9XG4gICAgZ2V0Q29tbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnRzO1xuICAgIH1cbiAgICBhZGRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikge1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgZ2V0SW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbnM7XG4gICAgfVxuICAgIGdldEluc3RydWN0aW9uQXQobGluZSkge1xuICAgICAgICBmb3IgKGxldCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHV0aWxfMS5VdGlsLmlzSW5zaWRlUmFuZ2UodnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUG9zaXRpb24uY3JlYXRlKGxpbmUsIDApLCBpbnN0cnVjdGlvbi5nZXRSYW5nZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgdGhlIEFSRyBpbnN0cnVjdGlvbnMgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGlzIGltYWdlLlxuICAgICAqL1xuICAgIGdldEFSR3MoKSB7XG4gICAgICAgIGxldCBhcmdzID0gW107XG4gICAgICAgIGZvciAobGV0IGluc3RydWN0aW9uIG9mIHRoaXMuaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gaW5zdGFuY2VvZiBhcmdfMS5BcmcpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCB0aGUgQ01EIGluc3RydWN0aW9ucyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoaXMgaW1hZ2UuXG4gICAgICovXG4gICAgZ2V0Q01EcygpIHtcbiAgICAgICAgbGV0IGNtZHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5zdHJ1Y3Rpb24gb2YgdGhpcy5pbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbiBpbnN0YW5jZW9mIGNtZF8xLkNtZCkge1xuICAgICAgICAgICAgICAgIGNtZHMucHVzaChpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNtZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHRoZSBDT1BZIGluc3RydWN0aW9ucyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoaXMgaW1hZ2UuXG4gICAgICovXG4gICAgZ2V0Q09QWXMoKSB7XG4gICAgICAgIGxldCBjb3BpZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5zdHJ1Y3Rpb24gb2YgdGhpcy5pbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbiBpbnN0YW5jZW9mIGNvcHlfMS5Db3B5KSB7XG4gICAgICAgICAgICAgICAgY29waWVzLnB1c2goaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3BpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHRoZSBFTlRSWVBPSU5UIGluc3RydWN0aW9ucyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoaXMgaW1hZ2UuXG4gICAgICovXG4gICAgZ2V0RU5UUllQT0lOVHMoKSB7XG4gICAgICAgIGxldCBmcm9tcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2YgZW50cnlwb2ludF8xLkVudHJ5cG9pbnQpIHtcbiAgICAgICAgICAgICAgICBmcm9tcy5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHRoZSBFTlYgaW5zdHJ1Y3Rpb25zIHRoYXQgYXJlIGRlZmluZWQgaW4gdGhpcyBpbWFnZS5cbiAgICAgKi9cbiAgICBnZXRFTlZzKCkge1xuICAgICAgICBsZXQgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2YgZW52XzEuRW52KSB7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG4gICAgZ2V0RlJPTSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2YgZnJvbV8xLkZyb20pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHRoZSBGUk9NIGluc3RydWN0aW9ucyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoaXMgaW1hZ2UuXG4gICAgICovXG4gICAgZ2V0RlJPTXMoKSB7XG4gICAgICAgIGxldCBmcm9tcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2YgZnJvbV8xLkZyb20pIHtcbiAgICAgICAgICAgICAgICBmcm9tcy5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIHRoZSBIRUFMVEhDSEVDSyBpbnN0cnVjdGlvbnMgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGlzIGltYWdlLlxuICAgICAqL1xuICAgIGdldEhFQUxUSENIRUNLcygpIHtcbiAgICAgICAgbGV0IGZyb21zID0gW107XG4gICAgICAgIGZvciAobGV0IGluc3RydWN0aW9uIG9mIHRoaXMuaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gaW5zdGFuY2VvZiBoZWFsdGhjaGVja18xLkhlYWx0aGNoZWNrKSB7XG4gICAgICAgICAgICAgICAgZnJvbXMucHVzaChpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21zO1xuICAgIH1cbiAgICBnZXRXT1JLRElScygpIHtcbiAgICAgICAgY29uc3Qgd29ya2RpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0cnVjdGlvbiBvZiB0aGlzLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uIGluc3RhbmNlb2Ygd29ya2Rpcl8xLldvcmtkaXIpIHtcbiAgICAgICAgICAgICAgICB3b3JrZGlycy5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd29ya2RpcnM7XG4gICAgfVxuICAgIGdldE9uYnVpbGRUcmlnZ2VycygpIHtcbiAgICAgICAgbGV0IHRyaWdnZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGluc3RydWN0aW9uIG9mIHRoaXMuaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gaW5zdGFuY2VvZiBvbmJ1aWxkXzEuT25idWlsZCkge1xuICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyID0gaW5zdHJ1Y3Rpb24uZ2V0VHJpZ2dlckluc3RydWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcnMucHVzaCh0cmlnZ2VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyaWdnZXJzO1xuICAgIH1cbiAgICBnZXRBdmFpbGFibGVWYXJpYWJsZXMoY3VycmVudExpbmUpIHtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgYXJnIG9mIHRoaXMuZ2V0QVJHcygpKSB7XG4gICAgICAgICAgICBpZiAoYXJnLmlzQmVmb3JlKGN1cnJlbnRMaW5lKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gYXJnLmdldFByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gcHJvcGVydHkuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFyaWFibGVzLmluZGV4T2YodmFyaWFibGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzLnB1c2godmFyaWFibGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZW52IG9mIHRoaXMuZ2V0RU5WcygpKSB7XG4gICAgICAgICAgICBpZiAoZW52LmlzQmVmb3JlKGN1cnJlbnRMaW5lKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgZW52LmdldFByb3BlcnRpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHByb3BlcnR5LmdldE5hbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlcy5pbmRleE9mKHZhcmlhYmxlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlcy5wdXNoKHZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhIHZhcmlhYmxlIHdpdGggdGhlIGdpdmVuIG5hbWUgYXQgdGhlIHNwZWNpZmllZCBsaW5lXG4gICAgICogdG8gaXRzIHZhbHVlLiBJZiBudWxsIGlzIHJldHVybmVkLCB0aGVuIHRoZSB2YXJpYWJsZSBoYXMgYmVlblxuICAgICAqIGRlZmluZWQgYnV0IG5vIHZhbHVlIHdhcyBnaXZlbi4gSWYgdW5kZWZpbmVkIGlzIHJldHVybmVkLCB0aGVuXG4gICAgICogYSB2YXJpYWJsZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGhhcyBub3QgYmVlbiBkZWZpbmVkIHlldCBhcyBvZlxuICAgICAqIHRoZSBnaXZlbiBsaW5lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhcmlhYmxlIHRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byByZXNvbHZlXG4gICAgICogQHBhcmFtIGxpbmUgdGhlIGxpbmUgbnVtYmVyIHRoYXQgdGhlIHZhcmlhYmxlIGlzIG9uLCB6ZXJvLWJhc2VkXG4gICAgICogQHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIHZhcmlhYmxlIGFzIGRlZmluZWQgYnkgYW4gQVJHIG9yIEVOVlxuICAgICAqICAgICAgICAgaW5zdHJ1Y3Rpb24sIG9yIG51bGwgaWYgbm8gdmFsdWUgaGFzIGJlZW4gc3BlY2lmaWVkLCBvclxuICAgICAqICAgICAgICAgdW5kZWZpbmVkIGlmIGEgdmFyaWFibGUgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBoYXMgbm90XG4gICAgICogICAgICAgICBiZWVuIGRlZmluZWRcbiAgICAgKi9cbiAgICByZXNvbHZlVmFyaWFibGUodmFyaWFibGUsIGxpbmUpIHtcbiAgICAgICAgbGV0IGVudnMgPSB0aGlzLmdldEVOVnMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGVudnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChlbnZzW2ldLmlzQmVmb3JlKGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgb2YgZW52c1tpXS5nZXRQcm9wZXJ0aWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmdldE5hbWUoKSA9PT0gdmFyaWFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhcmdzID0gdGhpcy5nZXRBUkdzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoYXJnc1tpXS5pc0JlZm9yZShsaW5lKSkge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IGFyZ3NbaV0uZ2V0UHJvcGVydHkoKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuZ2V0TmFtZSgpID09PSB2YXJpYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHkuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0UmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IHRoaXMuZ2V0SW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgIGlmIChpbnN0cnVjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhbGwgdGVtcGxhdGVzIHNob3VsZCBoYXZlIGluc3RydWN0aW9ucywgdGhpcyBvbmx5IGhhcHBlbnMgZm9yXG4gICAgICAgICAgICAvLyB0aGUgaW5pdGlhbCBzZXQgb2YgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgIHJldHVybiB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25TdGFydCA9IGluc3RydWN0aW9uc1swXS5nZXRSYW5nZSgpLnN0YXJ0O1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkVuZCA9IGluc3RydWN0aW9uc1tpbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQ7XG4gICAgICAgIHJldHVybiB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoaW5zdHJ1Y3Rpb25TdGFydCwgaW5zdHJ1Y3Rpb25FbmQpO1xuICAgIH1cbiAgICBjb250YWlucyhwb3NpdGlvbikge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWxfMS5VdGlsLmlzSW5zaWRlUmFuZ2UocG9zaXRpb24sIHJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLkltYWdlVGVtcGxhdGUgPSBJbWFnZVRlbXBsYXRlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/imageTemplate.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instruction.js":
/*!********************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instruction.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Instruction = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nconst line_1 = __webpack_require__(/*! ./line */ \"(rsc)/./node_modules/dockerfile-ast/lib/line.js\");\nconst argument_1 = __webpack_require__(/*! ./argument */ \"(rsc)/./node_modules/dockerfile-ast/lib/argument.js\");\nconst heredoc_1 = __webpack_require__(/*! ./heredoc */ \"(rsc)/./node_modules/dockerfile-ast/lib/heredoc.js\");\nconst variable_1 = __webpack_require__(/*! ./variable */ \"(rsc)/./node_modules/dockerfile-ast/lib/variable.js\");\nconst main_1 = __webpack_require__(/*! ./main */ \"(rsc)/./node_modules/dockerfile-ast/lib/main.js\");\nclass Instruction extends line_1.Line {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range);\n        this.dockerfile = dockerfile;\n        this.escapeChar = escapeChar;\n        this.instruction = instruction;\n        this.instructionRange = instructionRange;\n    }\n    toString() {\n        let value = this.getKeyword();\n        for (let arg of this.getRawArguments()) {\n            value += ' ';\n            value += arg.getValue();\n        }\n        return value;\n    }\n    getRangeContent(range) {\n        if (range === null) {\n            return null;\n        }\n        return this.document.getText().substring(this.document.offsetAt(range.start), this.document.offsetAt(range.end));\n    }\n    getInstructionRange() {\n        return this.instructionRange;\n    }\n    getInstruction() {\n        return this.instruction;\n    }\n    getKeyword() {\n        return this.getInstruction().toUpperCase();\n    }\n    getArgumentsRange() {\n        let args = this.getArguments();\n        if (args.length === 0) {\n            return null;\n        }\n        return vscode_languageserver_types_1.Range.create(args[0].getRange().start, args[args.length - 1].getRange().end);\n    }\n    getArgumentsRanges() {\n        let args = this.getArguments();\n        if (args.length === 0) {\n            return [];\n        }\n        if (args[0].getRange().start.line === args[args.length - 1].getRange().end.line) {\n            return [vscode_languageserver_types_1.Range.create(args[0].getRange().start, args[args.length - 1].getRange().end)];\n        }\n        let ranges = [];\n        let end = -1;\n        let startPosition = args[0].getRange().start;\n        let range = this.getInstructionRange();\n        let extra = this.document.offsetAt(startPosition) - this.document.offsetAt(range.start);\n        let content = this.getTextContent();\n        let fullArgs = content.substring(extra, this.document.offsetAt(args[args.length - 1].getRange().end) - this.document.offsetAt(range.start));\n        let offset = this.document.offsetAt(range.start) + extra;\n        let start = false;\n        let comment = false;\n        for (let i = 0; i < fullArgs.length; i++) {\n            let char = fullArgs.charAt(i);\n            if (char === this.escapeChar) {\n                let next = fullArgs.charAt(i + 1);\n                if (next === ' ' || next === '\\t') {\n                    whitespaceCheck: for (let j = i + 2; j < fullArgs.length; j++) {\n                        switch (fullArgs.charAt(j)) {\n                            case ' ':\n                            case '\\t':\n                                continue;\n                            case '\\r':\n                                j++;\n                            case '\\n':\n                                if (startPosition !== null) {\n                                    ranges.push(vscode_languageserver_types_1.Range.create(startPosition, this.document.positionAt(offset + end + 1)));\n                                }\n                                startPosition = null;\n                                start = true;\n                                comment = false;\n                                i = j;\n                                break whitespaceCheck;\n                            default:\n                                break whitespaceCheck;\n                        }\n                    }\n                }\n                else if (next === '\\r') {\n                    if (startPosition !== null) {\n                        ranges.push(vscode_languageserver_types_1.Range.create(startPosition, this.document.positionAt(offset + end + 1)));\n                        startPosition = null;\n                    }\n                    start = true;\n                    comment = false;\n                    i += 2;\n                }\n                else if (next === '\\n') {\n                    if (startPosition !== null) {\n                        ranges.push(vscode_languageserver_types_1.Range.create(startPosition, this.document.positionAt(offset + end + 1)));\n                    }\n                    startPosition = null;\n                    start = true;\n                    comment = false;\n                    i++;\n                }\n                else {\n                    i++;\n                }\n            }\n            else if (util_1.Util.isNewline(char)) {\n                if (comment) {\n                    startPosition = null;\n                    start = true;\n                    comment = false;\n                }\n            }\n            else {\n                if (!comment) {\n                    if (startPosition === null) {\n                        if (char === '#') {\n                            comment = true;\n                            continue;\n                        }\n                        let position = this.document.positionAt(offset + i);\n                        if (position.character !== 0) {\n                            startPosition = vscode_languageserver_types_1.Position.create(position.line, 0);\n                        }\n                    }\n                    end = i;\n                }\n            }\n        }\n        if (startPosition === null) {\n            // should only happen if the last argument is on its own line with\n            // no leading whitespace\n            ranges.push(vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + end), this.document.positionAt(offset + end + 1)));\n        }\n        else {\n            ranges.push(vscode_languageserver_types_1.Range.create(startPosition, this.document.positionAt(offset + end + 1)));\n        }\n        return ranges;\n    }\n    getRawArgumentsContent() {\n        let args = this.getArguments();\n        if (args.length === 0) {\n            return null;\n        }\n        return this.getRangeContent(vscode_languageserver_types_1.Range.create(args[0].getRange().start, args[args.length - 1].getRange().end));\n    }\n    getArgumentsContent() {\n        let args = this.getArguments();\n        if (args.length === 0) {\n            return null;\n        }\n        let content = \"\";\n        let ranges = this.getArgumentsRanges();\n        let documentText = this.document.getText();\n        for (let range of ranges) {\n            content += documentText.substring(this.document.offsetAt(range.start), this.document.offsetAt(range.end));\n        }\n        return content;\n    }\n    getArguments() {\n        return this.getRawArguments();\n    }\n    getRawArguments() {\n        let args = [];\n        let range = this.getInstructionRange();\n        let extra = this.document.offsetAt(range.end) - this.document.offsetAt(range.start);\n        let content = this.getTextContent();\n        let fullArgs = content.substring(extra);\n        let offset = this.document.offsetAt(range.start) + extra;\n        let start = false;\n        let comment = false;\n        let found = -1;\n        // determines whether the parser has found a space or tab\n        // whitespace character that's a part of an escaped newline sequence\n        let escapedWhitespaceDetected = false;\n        // determines if the parser is currently in an escaped newline sequence\n        let escaping = false;\n        let escapeMarker = -1;\n        let escapedArg = \"\";\n        for (let i = 0; i < fullArgs.length; i++) {\n            let char = fullArgs.charAt(i);\n            if (util_1.Util.isWhitespace(char)) {\n                if (escaping) {\n                    escapedWhitespaceDetected = true;\n                    if (util_1.Util.isNewline(char)) {\n                        // reached a newline, any previously\n                        // detected whitespace should be ignored\n                        escapedWhitespaceDetected = false;\n                        if (comment) {\n                            // reached a newline, no longer in a comment\n                            comment = false;\n                            start = true;\n                        }\n                    }\n                    continue;\n                }\n                else if (found !== -1) {\n                    if (escapeMarker === -1) {\n                        args.push(new argument_1.Argument(escapedArg, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + found), this.document.positionAt(offset + i))));\n                    }\n                    else {\n                        args.push(new argument_1.Argument(escapedArg, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + found), this.document.positionAt(offset + escapeMarker))));\n                    }\n                    escapeMarker = -1;\n                    escapedArg = \"\";\n                    found = -1;\n                }\n            }\n            else if (char === this.escapeChar) {\n                let next = fullArgs.charAt(i + 1);\n                if (next === ' ' || next === '\\t') {\n                    whitespaceCheck: for (let j = i + 2; j < fullArgs.length; j++) {\n                        let newlineCheck = fullArgs.charAt(j);\n                        switch (newlineCheck) {\n                            case ' ':\n                            case '\\t':\n                                continue;\n                            case '\\r':\n                                j++;\n                            case '\\n':\n                                comment = false;\n                                escaping = true;\n                                start = true;\n                                if (found !== -1) {\n                                    escapeMarker = i;\n                                }\n                                i = j;\n                                break whitespaceCheck;\n                            default:\n                                escapeMarker = i;\n                                if (found === -1) {\n                                    i = j - 1;\n                                }\n                                break whitespaceCheck;\n                        }\n                    }\n                }\n                else if (next === '\\r') {\n                    comment = false;\n                    escaping = true;\n                    start = true;\n                    if (found !== -1 && escapeMarker === -1) {\n                        escapeMarker = i;\n                    }\n                    i += 2;\n                }\n                else if (next === '\\n') {\n                    comment = false;\n                    escaping = true;\n                    start = true;\n                    if (found !== -1 && escapeMarker === -1) {\n                        escapeMarker = i;\n                    }\n                    i++;\n                }\n                else {\n                    if (escapedWhitespaceDetected && escapeMarker !== -1) {\n                        args.push(new argument_1.Argument(escapedArg, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + found), this.document.positionAt(offset + escapeMarker))));\n                        escapedArg = \"\";\n                        found = -1;\n                    }\n                    escapeMarker = -1;\n                    escapedWhitespaceDetected = false;\n                    escaping = false;\n                    if (next === '$') {\n                        escapedArg = escapedArg + char + next;\n                    }\n                    else if (next === '') {\n                        // reached EOF, stop processing\n                        break;\n                    }\n                    else {\n                        escapedArg = escapedArg + next;\n                    }\n                    if (found === -1) {\n                        found = i;\n                    }\n                    i++;\n                }\n            }\n            else if (!comment) {\n                if (start && char === '#') {\n                    comment = true;\n                }\n                else {\n                    if (escapedWhitespaceDetected && escapeMarker !== -1) {\n                        args.push(new argument_1.Argument(escapedArg, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + found), this.document.positionAt(offset + escapeMarker))));\n                        escapedArg = \"\";\n                        found = -1;\n                    }\n                    escapedWhitespaceDetected = false;\n                    escaping = false;\n                    escapeMarker = -1;\n                    escapedArg = escapedArg + char;\n                    if (found === -1) {\n                        found = i;\n                    }\n                }\n                // non-whitespace character detected, reset\n                start = false;\n            }\n        }\n        if (found !== -1) {\n            if (escapeMarker === -1) {\n                args.push(new argument_1.Argument(escapedArg, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + found), this.document.positionAt(offset + fullArgs.length))));\n            }\n            else {\n                args.push(new argument_1.Argument(escapedArg, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + found), this.document.positionAt(offset + escapeMarker))));\n            }\n        }\n        return args;\n    }\n    getExpandedArguments() {\n        let args = this.getArguments();\n        for (let i = 0; i < args.length; i++) {\n            const argRange = args[i].getRange();\n            let offset = this.document.offsetAt(argRange.start);\n            const variables = this.parseVariables(offset, args[i].getValue());\n            const swaps = [];\n            let requiresExpansion = false;\n            for (let variable of variables) {\n                const value = this.dockerfile.resolveVariable(variable.getName(), variable.getNameRange().start.line);\n                swaps.push(value);\n                requiresExpansion = requiresExpansion || value !== undefined;\n            }\n            if (requiresExpansion) {\n                let expanded = \"\";\n                for (let j = 0; j < swaps.length; j++) {\n                    const variableRange = variables[j].getRange();\n                    const start = this.document.offsetAt(variableRange.start);\n                    const end = this.document.offsetAt(variableRange.end);\n                    if (swaps[j]) {\n                        // replace variable with its resolved value\n                        expanded += this.document.getText().substring(offset, start);\n                        expanded += swaps[j];\n                        offset = end;\n                    }\n                    else {\n                        expanded += this.document.getText().substring(offset, end);\n                        offset = end;\n                    }\n                }\n                const argEnd = this.document.offsetAt(argRange.end);\n                if (argEnd !== offset) {\n                    // if the variable's range doesn't match the argument,\n                    // append the remaining text\n                    expanded += this.document.getText().substring(offset, argEnd);\n                }\n                args[i] = new argument_1.Argument(expanded, argRange);\n            }\n        }\n        return args;\n    }\n    getVariables() {\n        const variables = [];\n        const args = this.getRawArguments();\n        for (const arg of args) {\n            let range = arg.getRange();\n            let rawValue = this.document.getText().substring(this.document.offsetAt(range.start), this.document.offsetAt(range.end));\n            const parsedVariables = this.parseVariables(this.document.offsetAt(arg.getRange().start), rawValue);\n            for (const parsedVariable of parsedVariables) {\n                variables.push(parsedVariable);\n            }\n        }\n        return variables;\n    }\n    parseVariables(offset, arg) {\n        let variables = [];\n        variableLoop: for (let i = 0; i < arg.length; i++) {\n            switch (arg.charAt(i)) {\n                case this.escapeChar:\n                    if (arg.charAt(i + 1) === '$') {\n                        i++;\n                    }\n                    break;\n                case '$':\n                    if (arg.charAt(i + 1) === '{') {\n                        let escapedString = \"${\";\n                        let escapedName = \"\";\n                        let nameEnd = -1;\n                        let escapedSubstitutionParameter = \"\";\n                        let substitutionStart = -1;\n                        let substitutionEnd = -1;\n                        let modifierRead = -1;\n                        nameLoop: for (let j = i + 2; j < arg.length; j++) {\n                            let char = arg.charAt(j);\n                            switch (char) {\n                                case this.escapeChar:\n                                    for (let k = j + 1; k < arg.length; k++) {\n                                        switch (arg.charAt(k)) {\n                                            case ' ':\n                                            case '\\t':\n                                            case '\\r':\n                                                // ignore whitespace\n                                                continue;\n                                            case '\\n':\n                                                // escape this newline\n                                                j = k;\n                                                continue nameLoop;\n                                        }\n                                    }\n                                    break;\n                                case '}':\n                                    escapedString += '}';\n                                    let modifier = null;\n                                    let modifierRange = null;\n                                    let substitutionParameter = modifierRead !== -1 ? escapedSubstitutionParameter : null;\n                                    let substitutionRange = null;\n                                    if (nameEnd === -1) {\n                                        nameEnd = j;\n                                    }\n                                    else if (nameEnd + 1 === j) {\n                                        modifier = \"\";\n                                        modifierRange = vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + nameEnd + 1), this.document.positionAt(offset + nameEnd + 1));\n                                    }\n                                    else {\n                                        if (substitutionStart === -1) {\n                                            // no substitution parameter found,\n                                            // but a modifier character existed,\n                                            // just offset the range by 1 from\n                                            // the modifier character\n                                            substitutionStart = modifierRead + 1;\n                                            substitutionEnd = modifierRead + 1;\n                                        }\n                                        else {\n                                            // offset one more from the last\n                                            // character found\n                                            substitutionEnd = substitutionEnd + 1;\n                                        }\n                                        modifier = arg.substring(modifierRead, modifierRead + 1);\n                                        modifierRange = vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + modifierRead), this.document.positionAt(offset + modifierRead + 1));\n                                        substitutionRange = vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + substitutionStart), this.document.positionAt(offset + substitutionEnd));\n                                    }\n                                    let start = this.document.positionAt(offset + i);\n                                    variables.push(new variable_1.Variable(escapedName, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + i + 2), this.document.positionAt(offset + nameEnd)), vscode_languageserver_types_1.Range.create(start, this.document.positionAt(offset + j + 1)), modifier, modifierRange, substitutionParameter, substitutionRange, this.dockerfile.resolveVariable(escapedName, start.line) !== undefined, this.isBuildVariable(escapedName, start.line), escapedString));\n                                    i = j;\n                                    continue variableLoop;\n                                case ':':\n                                    if (nameEnd === -1) {\n                                        nameEnd = j;\n                                    }\n                                    else if (modifierRead !== -1) {\n                                        if (substitutionStart === -1) {\n                                            substitutionStart = j;\n                                            substitutionEnd = j;\n                                        }\n                                        else {\n                                            substitutionEnd = j;\n                                        }\n                                        escapedSubstitutionParameter += ':';\n                                    }\n                                    else {\n                                        modifierRead = j;\n                                    }\n                                    escapedString += ':';\n                                    break;\n                                case '\\n':\n                                case '\\r':\n                                case ' ':\n                                case '\\t':\n                                    break;\n                                default:\n                                    if (nameEnd === -1) {\n                                        escapedName += char;\n                                    }\n                                    else if (modifierRead !== -1) {\n                                        if (substitutionStart === -1) {\n                                            substitutionStart = j;\n                                            substitutionEnd = j;\n                                        }\n                                        else {\n                                            substitutionEnd = j;\n                                        }\n                                        escapedSubstitutionParameter += char;\n                                    }\n                                    else {\n                                        modifierRead = j;\n                                    }\n                                    escapedString += char;\n                                    break;\n                            }\n                        }\n                        // no } found, not a valid variable, stop processing\n                        break variableLoop;\n                    }\n                    else if (util_1.Util.isWhitespace(arg.charAt(i + 1)) || i === arg.length - 1) {\n                        // $ followed by whitespace or EOF, ignore this variable\n                        continue;\n                    }\n                    else {\n                        let escapedName = \"\";\n                        nameLoop: for (let j = i + 1; j < arg.length; j++) {\n                            let char = arg.charAt(j);\n                            switch (char) {\n                                case '\\r':\n                                case '\\n':\n                                case ' ':\n                                case '\\t':\n                                    continue;\n                                case '$':\n                                case '\\'':\n                                case '\"':\n                                    let varStart = this.document.positionAt(offset + i);\n                                    variables.push(new variable_1.Variable(escapedName, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + i + 1), this.document.positionAt(offset + j)), vscode_languageserver_types_1.Range.create(varStart, this.document.positionAt(offset + j)), null, null, null, null, this.dockerfile.resolveVariable(escapedName, varStart.line) !== undefined, this.isBuildVariable(escapedName, varStart.line), '$' + escapedName));\n                                    i = j - 1;\n                                    continue variableLoop;\n                                case this.escapeChar:\n                                    for (let k = j + 1; k < arg.length; k++) {\n                                        switch (arg.charAt(k)) {\n                                            case ' ':\n                                            case '\\t':\n                                            case '\\r':\n                                                // ignore whitespace\n                                                continue;\n                                            case '\\n':\n                                                // escape this newline\n                                                j = k;\n                                                continue nameLoop;\n                                        }\n                                    }\n                                    // reached EOF after an escape character\n                                    let start = this.document.positionAt(offset + i);\n                                    variables.push(new variable_1.Variable(escapedName, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + i + 1), this.document.positionAt(offset + j)), vscode_languageserver_types_1.Range.create(start, this.document.positionAt(offset + j)), null, null, null, null, this.dockerfile.resolveVariable(escapedName, start.line) !== undefined, this.isBuildVariable(escapedName, start.line), '$' + escapedName));\n                                    break variableLoop;\n                            }\n                            if (char.match(/^[a-z0-9_]+$/i) === null) {\n                                let varStart = this.document.positionAt(offset + i);\n                                variables.push(new variable_1.Variable(escapedName, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + i + 1), this.document.positionAt(offset + j)), vscode_languageserver_types_1.Range.create(varStart, this.document.positionAt(offset + j)), null, null, null, null, this.dockerfile.resolveVariable(escapedName, varStart.line) !== undefined, this.isBuildVariable(escapedName, varStart.line), '$' + escapedName));\n                                i = j - 1;\n                                continue variableLoop;\n                            }\n                            escapedName += char;\n                        }\n                        let start = this.document.positionAt(offset + i);\n                        variables.push(new variable_1.Variable(escapedName, vscode_languageserver_types_1.Range.create(this.document.positionAt(offset + i + 1), this.document.positionAt(offset + arg.length)), vscode_languageserver_types_1.Range.create(start, this.document.positionAt(offset + arg.length)), null, null, null, null, this.dockerfile.resolveVariable(escapedName, start.line) !== undefined, this.isBuildVariable(escapedName, start.line), '$' + escapedName));\n                    }\n                    break variableLoop;\n            }\n        }\n        return variables;\n    }\n    isBuildVariable(variable, line) {\n        if (this.getKeyword() === main_1.Keyword.FROM) {\n            for (const initialArg of this.dockerfile.getInitialARGs()) {\n                const arg = initialArg;\n                const property = arg.getProperty();\n                if (property && variable === property.getName()) {\n                    return true;\n                }\n            }\n            return undefined;\n        }\n        let image = this.dockerfile.getContainingImage(vscode_languageserver_types_1.Position.create(line, 0));\n        let envs = image.getENVs();\n        for (let i = envs.length - 1; i >= 0; i--) {\n            if (envs[i].isBefore(line)) {\n                for (let property of envs[i].getProperties()) {\n                    if (property.getName() === variable) {\n                        return false;\n                    }\n                }\n            }\n        }\n        let args = image.getARGs();\n        for (let i = args.length - 1; i >= 0; i--) {\n            if (args[i].isBefore(line)) {\n                let property = args[i].getProperty();\n                if (property && property.getName() === variable) {\n                    return true;\n                }\n            }\n        }\n        return undefined;\n    }\n    createSingleLineHeredocs(args) {\n        const heredocs = [];\n        // instruction only on one line, if heredocs exist they would be incomplete\n        for (const arg of args) {\n            const value = arg.getValue();\n            if (value.startsWith(\"<<\") && util_1.Util.parseHeredocName(value) !== null) {\n                const startRange = arg.getRange();\n                const nameRange = this.getNameRange(startRange);\n                const name = this.getName(nameRange);\n                heredocs.push(new heredoc_1.Heredoc(startRange, name, nameRange, null, null));\n            }\n        }\n        return heredocs;\n    }\n    getName(nameRange) {\n        const content = this.document.getText(nameRange);\n        let escaping = false;\n        let name = \"\";\n        nameLoop: for (let i = 0; i < content.length; i++) {\n            const ch = content.charAt(i);\n            switch (ch) {\n                case this.escapeChar:\n                    escaping = true;\n                    for (let j = i + 1; j < content.length; j++) {\n                        switch (content.charAt(j)) {\n                            case ' ':\n                            case '\\t':\n                                break;\n                            case '\\r':\n                                i = j + 1;\n                                continue nameLoop;\n                            case '\\n':\n                                i = j;\n                                continue nameLoop;\n                            default:\n                                name += content.charAt(j);\n                                i = j;\n                                continue nameLoop;\n                        }\n                    }\n                    break;\n                case '#':\n                    if (escaping) {\n                        for (let j = i + 1; j < content.length; j++) {\n                            switch (content.charAt(j)) {\n                                case '\\n':\n                                    i = j;\n                                    continue nameLoop;\n                            }\n                        }\n                    }\n                case ' ':\n                case '\\t':\n                case '\\r':\n                case '\\n':\n                    if (escaping) {\n                        break;\n                    }\n                default:\n                    name += ch;\n                    break;\n            }\n        }\n        return name;\n    }\n    getNameRange(startRange) {\n        const content = this.document.getText(startRange);\n        let endFound = false;\n        let searchHyphen = false;\n        let start = -1;\n        let end = -1;\n        let escaping = false;\n        let quote = null;\n        contentLoop: for (let i = 0; i < content.length; i++) {\n            const ch = content.charAt(i);\n            switch (ch) {\n                case '\"':\n                case '\\'':\n                    if (quote === ch) {\n                        break contentLoop;\n                    }\n                    quote = ch;\n                    continue;\n                case this.escapeChar:\n                    for (let j = i + 1; j < content.length; j++) {\n                        switch (content.charAt(j)) {\n                            case '\\n':\n                                escaping = true;\n                                j = i;\n                                continue contentLoop;\n                        }\n                    }\n                    break;\n                case ' ':\n                case '\\t':\n                case '\\r':\n                case '\\n':\n                    break;\n                case '<':\n                    if (endFound) {\n                        searchHyphen = true;\n                    }\n                    else {\n                        endFound = true;\n                    }\n                    break;\n                case '-':\n                    if (searchHyphen) {\n                        searchHyphen = false;\n                        break;\n                    }\n                case '#':\n                    if (escaping) {\n                        for (let j = i + 1; j < content.length; j++) {\n                            switch (content.charAt(j)) {\n                                case '\\n':\n                                    i = j;\n                                    continue contentLoop;\n                            }\n                        }\n                    }\n                default:\n                    if (start === -1) {\n                        start = i;\n                    }\n                    if (quote !== null) {\n                        end = i + 1;\n                        break;\n                    }\n                    break contentLoop;\n            }\n        }\n        if (start === -1) {\n            return vscode_languageserver_types_1.Range.create(startRange.end, startRange.end);\n        }\n        const nameStart = this.document.positionAt(this.document.offsetAt(startRange.start) + start);\n        const nameEnd = quote !== null ? this.document.positionAt(this.document.offsetAt(startRange.start) + end) : startRange.end;\n        return vscode_languageserver_types_1.Range.create(nameStart, nameEnd);\n    }\n    getHeredocs() {\n        const args = this.getArguments();\n        if (args.length === 0) {\n            return [];\n        }\n        const heredocs = [];\n        const range = this.getRange();\n        if (range.start.line === range.end.line) {\n            // instruction only on one line, if heredocs exist they would be incomplete\n            return this.createSingleLineHeredocs(args);\n        }\n        const heredocDefinitions = [];\n        let heredocsProcessed = false;\n        let escaping = false;\n        let contentStart = -1;\n        let contentEnd = -1;\n        let lineStart = -1;\n        let currentHeredoc = 0;\n        const startOffset = this.document.offsetAt(args[0].getRange().start);\n        const content = this.getRangeContent(vscode_languageserver_types_1.Range.create(args[0].getRange().start, this.getRange().end));\n        contentLoop: for (let i = 0; i < content.length; i++) {\n            switch (content.charAt(i)) {\n                case this.escapeChar:\n                    escaping = true;\n                    for (let j = i + 1; j < content.length; j++) {\n                        switch (content.charAt(j)) {\n                            case ' ':\n                            case '\\t':\n                                break;\n                            case '\\r':\n                                j++;\n                            case '\\n':\n                                i = j;\n                                continue contentLoop;\n                            default:\n                                i = j;\n                                continue contentLoop;\n                        }\n                    }\n                    break;\n                case '\\r':\n                    break;\n                case '\\n':\n                    if (escaping) {\n                        break;\n                    }\n                    if (heredocsProcessed) {\n                        if (contentStart === -1) {\n                            contentStart = i;\n                        }\n                        contentEnd = i;\n                        const arg = heredocDefinitions[currentHeredoc];\n                        const startRange = arg.getRange();\n                        const nameRange = this.getNameRange(startRange);\n                        const name = this.getName(nameRange);\n                        const delimiterRange = this.getDelimiterRange(arg, name, vscode_languageserver_types_1.Range.create(this.document.positionAt(startOffset + lineStart), this.document.positionAt(startOffset + i)));\n                        if (delimiterRange !== null) {\n                            const contentRange = vscode_languageserver_types_1.Range.create(this.document.positionAt(startOffset + contentStart), this.document.positionAt(startOffset + lineStart - 1));\n                            heredocs.push(new heredoc_1.Heredoc(startRange, name, nameRange, contentRange, delimiterRange));\n                            contentStart = -1;\n                            currentHeredoc++;\n                        }\n                        lineStart = -1;\n                    }\n                    else {\n                        // found a newline that hasn't been escaped,\n                        // must be in a heredoc\n                        const offsetLimit = startOffset + i;\n                        for (const arg of args) {\n                            // check if this argument is on the initial line of the instruction,\n                            // note that it may not all be on the same line due to escaped newlines,\n                            // because of that we need to use offset checks instead of line checks\n                            // as an argument being on a different line in the document does not\n                            // imply it is on a different line from the Dockerfile's point of view\n                            if (this.document.offsetAt(arg.getRange().start) < offsetLimit) {\n                                if (arg.getValue().startsWith(\"<<\")) {\n                                    heredocDefinitions.push(arg);\n                                }\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                        heredocsProcessed = true;\n                        lineStart = -1;\n                        continue contentLoop;\n                    }\n                    break;\n                case ' ':\n                case '\\t':\n                    if (escaping) {\n                        break;\n                    }\n                case '#':\n                    if (escaping) {\n                        for (let j = i + 1; j < content.length; j++) {\n                            switch (content.charAt(j)) {\n                                case '\\n':\n                                    i = j;\n                                    continue contentLoop;\n                            }\n                        }\n                    }\n                default:\n                    if (escaping) {\n                        escaping = false;\n                    }\n                    if (heredocsProcessed) {\n                        if (contentStart === -1) {\n                            contentStart = i;\n                        }\n                        if (lineStart === -1) {\n                            lineStart = i;\n                        }\n                    }\n                    break;\n            }\n        }\n        if (heredocsProcessed) {\n            const arg = heredocDefinitions[currentHeredoc];\n            const startRange = arg.getRange();\n            const nameRange = this.getNameRange(startRange);\n            const name = this.getName(nameRange);\n            let contentRange = null;\n            // check if the last line of this instruction matches the name of the last heredoc\n            const delimiterRange = this.getDelimiterRange(arg, name, vscode_languageserver_types_1.Range.create(this.document.positionAt(startOffset + lineStart), range.end));\n            if (delimiterRange === null) {\n                contentRange = vscode_languageserver_types_1.Range.create(this.document.positionAt(startOffset + contentStart), range.end);\n            }\n            else if (contentEnd !== -1) {\n                contentRange = vscode_languageserver_types_1.Range.create(this.document.positionAt(startOffset + contentStart), this.document.positionAt(startOffset + contentEnd));\n            }\n            heredocs.push(new heredoc_1.Heredoc(startRange, name, nameRange, contentRange, delimiterRange));\n            currentHeredoc++;\n            for (let i = currentHeredoc; i < heredocDefinitions.length; i++) {\n                const arg = heredocDefinitions[currentHeredoc];\n                const startRange = arg.getRange();\n                const nameRange = this.getNameRange(startRange);\n                const name = this.getName(nameRange);\n                heredocs.push(new heredoc_1.Heredoc(startRange, name, nameRange, null, null));\n                currentHeredoc++;\n            }\n        }\n        else {\n            // instruction only on one line, if heredocs exist they would be incomplete\n            return this.createSingleLineHeredocs(args);\n        }\n        return heredocs;\n    }\n    getDelimiterRange(startArg, name, candidateRange) {\n        const text = this.document.getText(candidateRange);\n        if (startArg.getValue().startsWith(\"<<-\")) {\n            // remove tabs in the front\n            let index = 0;\n            while (text.charAt(index) === '\\t') {\n                index++;\n            }\n            if (text.substring(index) === name) {\n                return vscode_languageserver_types_1.Range.create(vscode_languageserver_types_1.Position.create(candidateRange.start.line, index), candidateRange.end);\n            }\n            return null;\n        }\n        return text === name ? candidateRange : null;\n    }\n}\nexports.Instruction = Instruction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixzQ0FBc0MsbUJBQU8sQ0FBQyxxR0FBNkI7QUFDM0UsZUFBZSxtQkFBTyxDQUFDLCtEQUFRO0FBQy9CLGVBQWUsbUJBQU8sQ0FBQywrREFBUTtBQUMvQixtQkFBbUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUN2QyxrQkFBa0IsbUJBQU8sQ0FBQyxxRUFBVztBQUNyQyxtQkFBbUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUN2QyxlQUFlLG1CQUFPLENBQUMsK0RBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQscUJBQXFCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxxQkFBcUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0JBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRCwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGdCQUFnQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGdCQUFnQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0JBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLG9CQUFvQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG9CQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsb0JBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxvQkFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG9CQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrQkFBK0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9uLmpzP2JlZTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkluc3RydWN0aW9uID0gdm9pZCAwO1xuY29uc3QgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEgPSByZXF1aXJlKFwidnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IGxpbmVfMSA9IHJlcXVpcmUoXCIuL2xpbmVcIik7XG5jb25zdCBhcmd1bWVudF8xID0gcmVxdWlyZShcIi4vYXJndW1lbnRcIik7XG5jb25zdCBoZXJlZG9jXzEgPSByZXF1aXJlKFwiLi9oZXJlZG9jXCIpO1xuY29uc3QgdmFyaWFibGVfMSA9IHJlcXVpcmUoXCIuL3ZhcmlhYmxlXCIpO1xuY29uc3QgbWFpbl8xID0gcmVxdWlyZShcIi4vbWFpblwiKTtcbmNsYXNzIEluc3RydWN0aW9uIGV4dGVuZHMgbGluZV8xLkxpbmUge1xuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQsIHJhbmdlKTtcbiAgICAgICAgdGhpcy5kb2NrZXJmaWxlID0gZG9ja2VyZmlsZTtcbiAgICAgICAgdGhpcy5lc2NhcGVDaGFyID0gZXNjYXBlQ2hhcjtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9uUmFuZ2UgPSBpbnN0cnVjdGlvblJhbmdlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXRLZXl3b3JkKCk7XG4gICAgICAgIGZvciAobGV0IGFyZyBvZiB0aGlzLmdldFJhd0FyZ3VtZW50cygpKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSAnICc7XG4gICAgICAgICAgICB2YWx1ZSArPSBhcmcuZ2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGdldFJhbmdlQ29udGVudChyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmdldFRleHQoKS5zdWJzdHJpbmcodGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCksIHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2UuZW5kKSk7XG4gICAgfVxuICAgIGdldEluc3RydWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uUmFuZ2U7XG4gICAgfVxuICAgIGdldEluc3RydWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbjtcbiAgICB9XG4gICAgZ2V0S2V5d29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdHJ1Y3Rpb24oKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBnZXRBcmd1bWVudHNSYW5nZSgpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSB0aGlzLmdldEFyZ3VtZW50cygpO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoYXJnc1swXS5nZXRSYW5nZSgpLnN0YXJ0LCBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQpO1xuICAgIH1cbiAgICBnZXRBcmd1bWVudHNSYW5nZXMoKSB7XG4gICAgICAgIGxldCBhcmdzID0gdGhpcy5nZXRBcmd1bWVudHMoKTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZ3NbMF0uZ2V0UmFuZ2UoKS5zdGFydC5saW5lID09PSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIFt2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoYXJnc1swXS5nZXRSYW5nZSgpLnN0YXJ0LCBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQpXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgIGxldCBlbmQgPSAtMTtcbiAgICAgICAgbGV0IHN0YXJ0UG9zaXRpb24gPSBhcmdzWzBdLmdldFJhbmdlKCkuc3RhcnQ7XG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMuZ2V0SW5zdHJ1Y3Rpb25SYW5nZSgpO1xuICAgICAgICBsZXQgZXh0cmEgPSB0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHN0YXJ0UG9zaXRpb24pIC0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCk7XG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5nZXRUZXh0Q29udGVudCgpO1xuICAgICAgICBsZXQgZnVsbEFyZ3MgPSBjb250ZW50LnN1YnN0cmluZyhleHRyYSwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdChhcmdzW2FyZ3MubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQpIC0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCkpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCkgKyBleHRyYTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIGxldCBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVsbEFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyID0gZnVsbEFyZ3MuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGNoYXIgPT09IHRoaXMuZXNjYXBlQ2hhcikge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gZnVsbEFyZ3MuY2hhckF0KGkgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCA9PT0gJyAnIHx8IG5leHQgPT09ICdcXHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaXRlc3BhY2VDaGVjazogZm9yIChsZXQgaiA9IGkgKyAyOyBqIDwgZnVsbEFyZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZnVsbEFyZ3MuY2hhckF0KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoc3RhcnRQb3NpdGlvbiwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGVuZCArIDEpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgd2hpdGVzcGFjZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHdoaXRlc3BhY2VDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRQb3NpdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2godnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHN0YXJ0UG9zaXRpb24sIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBlbmQgKyAxKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UG9zaXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShzdGFydFBvc2l0aW9uLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgZW5kICsgMSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1dGlsXzEuVXRpbC5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24uY2hhcmFjdGVyICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbiA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlBvc2l0aW9uLmNyZWF0ZShwb3NpdGlvbi5saW5lLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRQb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZSBsYXN0IGFyZ3VtZW50IGlzIG9uIGl0cyBvd24gbGluZSB3aXRoXG4gICAgICAgICAgICAvLyBubyBsZWFkaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgZW5kKSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGVuZCArIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByYW5nZXMucHVzaCh2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoc3RhcnRQb3NpdGlvbiwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGVuZCArIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9XG4gICAgZ2V0UmF3QXJndW1lbnRzQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSB0aGlzLmdldEFyZ3VtZW50cygpO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhbmdlQ29udGVudCh2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoYXJnc1swXS5nZXRSYW5nZSgpLnN0YXJ0LCBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQpKTtcbiAgICB9XG4gICAgZ2V0QXJndW1lbnRzQ29udGVudCgpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSB0aGlzLmdldEFyZ3VtZW50cygpO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb250ZW50ID0gXCJcIjtcbiAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMuZ2V0QXJndW1lbnRzUmFuZ2VzKCk7XG4gICAgICAgIGxldCBkb2N1bWVudFRleHQgPSB0aGlzLmRvY3VtZW50LmdldFRleHQoKTtcbiAgICAgICAgZm9yIChsZXQgcmFuZ2Ugb2YgcmFuZ2VzKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IGRvY3VtZW50VGV4dC5zdWJzdHJpbmcodGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCksIHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2UuZW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICAgIGdldEFyZ3VtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmF3QXJndW1lbnRzKCk7XG4gICAgfVxuICAgIGdldFJhd0FyZ3VtZW50cygpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSBbXTtcbiAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5nZXRJbnN0cnVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBleHRyYSA9IHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2UuZW5kKSAtIHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuZ2V0VGV4dENvbnRlbnQoKTtcbiAgICAgICAgbGV0IGZ1bGxBcmdzID0gY29udGVudC5zdWJzdHJpbmcoZXh0cmEpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCkgKyBleHRyYTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIGxldCBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGxldCBmb3VuZCA9IC0xO1xuICAgICAgICAvLyBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBhcnNlciBoYXMgZm91bmQgYSBzcGFjZSBvciB0YWJcbiAgICAgICAgLy8gd2hpdGVzcGFjZSBjaGFyYWN0ZXIgdGhhdCdzIGEgcGFydCBvZiBhbiBlc2NhcGVkIG5ld2xpbmUgc2VxdWVuY2VcbiAgICAgICAgbGV0IGVzY2FwZWRXaGl0ZXNwYWNlRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lcyBpZiB0aGUgcGFyc2VyIGlzIGN1cnJlbnRseSBpbiBhbiBlc2NhcGVkIG5ld2xpbmUgc2VxdWVuY2VcbiAgICAgICAgbGV0IGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBlc2NhcGVNYXJrZXIgPSAtMTtcbiAgICAgICAgbGV0IGVzY2FwZWRBcmcgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bGxBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hhciA9IGZ1bGxBcmdzLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmICh1dGlsXzEuVXRpbC5pc1doaXRlc3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFdoaXRlc3BhY2VEZXRlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlsXzEuVXRpbC5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgYSBuZXdsaW5lLCBhbnkgcHJldmlvdXNseVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZWN0ZWQgd2hpdGVzcGFjZSBzaG91bGQgYmUgaWdub3JlZFxuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFdoaXRlc3BhY2VEZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFjaGVkIGEgbmV3bGluZSwgbm8gbG9uZ2VyIGluIGEgY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvdW5kICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlTWFya2VyID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG5ldyBhcmd1bWVudF8xLkFyZ3VtZW50KGVzY2FwZWRBcmcsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgZm91bmQpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaSkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gobmV3IGFyZ3VtZW50XzEuQXJndW1lbnQoZXNjYXBlZEFyZywgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBmb3VuZCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBlc2NhcGVNYXJrZXIpKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZU1hcmtlciA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkQXJnID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSB0aGlzLmVzY2FwZUNoYXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGZ1bGxBcmdzLmNoYXJBdChpICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPT09ICcgJyB8fCBuZXh0ID09PSAnXFx0Jykge1xuICAgICAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlQ2hlY2s6IGZvciAobGV0IGogPSBpICsgMjsgaiA8IGZ1bGxBcmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3bGluZUNoZWNrID0gZnVsbEFyZ3MuY2hhckF0KGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChuZXdsaW5lQ2hlY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlTWFya2VyID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgd2hpdGVzcGFjZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZU1hcmtlciA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayB3aGl0ZXNwYWNlQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA9PT0gJ1xccicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kICE9PSAtMSAmJiBlc2NhcGVNYXJrZXIgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVNYXJrZXIgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kICE9PSAtMSAmJiBlc2NhcGVNYXJrZXIgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVNYXJrZXIgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkV2hpdGVzcGFjZURldGVjdGVkICYmIGVzY2FwZU1hcmtlciAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChuZXcgYXJndW1lbnRfMS5Bcmd1bWVudChlc2NhcGVkQXJnLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGZvdW5kKSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGVzY2FwZU1hcmtlcikpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkQXJnID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlTWFya2VyID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRXaGl0ZXNwYWNlRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPT09ICckJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZEFyZyA9IGVzY2FwZWRBcmcgKyBjaGFyICsgbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhY2hlZCBFT0YsIHN0b3AgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkQXJnID0gZXNjYXBlZEFyZyArIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY29tbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCAmJiBjaGFyID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZFdoaXRlc3BhY2VEZXRlY3RlZCAmJiBlc2NhcGVNYXJrZXIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2gobmV3IGFyZ3VtZW50XzEuQXJndW1lbnQoZXNjYXBlZEFyZywgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBmb3VuZCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBlc2NhcGVNYXJrZXIpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZEFyZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRXaGl0ZXNwYWNlRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlTWFya2VyID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRBcmcgPSBlc2NhcGVkQXJnICsgY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciBkZXRlY3RlZCwgcmVzZXRcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChlc2NhcGVNYXJrZXIgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKG5ldyBhcmd1bWVudF8xLkFyZ3VtZW50KGVzY2FwZWRBcmcsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgZm91bmQpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgZnVsbEFyZ3MubGVuZ3RoKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChuZXcgYXJndW1lbnRfMS5Bcmd1bWVudChlc2NhcGVkQXJnLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGZvdW5kKSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGVzY2FwZU1hcmtlcikpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuICAgIGdldEV4cGFuZGVkQXJndW1lbnRzKCkge1xuICAgICAgICBsZXQgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXJnUmFuZ2UgPSBhcmdzW2ldLmdldFJhbmdlKCk7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdChhcmdSYW5nZS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLnBhcnNlVmFyaWFibGVzKG9mZnNldCwgYXJnc1tpXS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHN3YXBzID0gW107XG4gICAgICAgICAgICBsZXQgcmVxdWlyZXNFeHBhbnNpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IHZhcmlhYmxlIG9mIHZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kb2NrZXJmaWxlLnJlc29sdmVWYXJpYWJsZSh2YXJpYWJsZS5nZXROYW1lKCksIHZhcmlhYmxlLmdldE5hbWVSYW5nZSgpLnN0YXJ0LmxpbmUpO1xuICAgICAgICAgICAgICAgIHN3YXBzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIHJlcXVpcmVzRXhwYW5zaW9uID0gcmVxdWlyZXNFeHBhbnNpb24gfHwgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXF1aXJlc0V4cGFuc2lvbikge1xuICAgICAgICAgICAgICAgIGxldCBleHBhbmRlZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzd2Fwcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZVJhbmdlID0gdmFyaWFibGVzW2pdLmdldFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdCh2YXJpYWJsZVJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdCh2YXJpYWJsZVJhbmdlLmVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzd2Fwc1tqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB2YXJpYWJsZSB3aXRoIGl0cyByZXNvbHZlZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQgKz0gdGhpcy5kb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKG9mZnNldCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQgKz0gc3dhcHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBhbmRlZCArPSB0aGlzLmRvY3VtZW50LmdldFRleHQoKS5zdWJzdHJpbmcob2Zmc2V0LCBlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ0VuZCA9IHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQoYXJnUmFuZ2UuZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnRW5kICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhcmlhYmxlJ3MgcmFuZ2UgZG9lc24ndCBtYXRjaCB0aGUgYXJndW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCB0aGUgcmVtYWluaW5nIHRleHRcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQgKz0gdGhpcy5kb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKG9mZnNldCwgYXJnRW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJnc1tpXSA9IG5ldyBhcmd1bWVudF8xLkFyZ3VtZW50KGV4cGFuZGVkLCBhcmdSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuICAgIGdldFZhcmlhYmxlcygpIHtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gW107XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmdldFJhd0FyZ3VtZW50cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGFyZyBvZiBhcmdzKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBhcmcuZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIGxldCByYXdWYWx1ZSA9IHRoaXMuZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cmluZyh0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJhbmdlLnN0YXJ0KSwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5lbmQpKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFZhcmlhYmxlcyA9IHRoaXMucGFyc2VWYXJpYWJsZXModGhpcy5kb2N1bWVudC5vZmZzZXRBdChhcmcuZ2V0UmFuZ2UoKS5zdGFydCksIHJhd1ZhbHVlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFyc2VkVmFyaWFibGUgb2YgcGFyc2VkVmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzLnB1c2gocGFyc2VkVmFyaWFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgfVxuICAgIHBhcnNlVmFyaWFibGVzKG9mZnNldCwgYXJnKSB7XG4gICAgICAgIGxldCB2YXJpYWJsZXMgPSBbXTtcbiAgICAgICAgdmFyaWFibGVMb29wOiBmb3IgKGxldCBpID0gMDsgaSA8IGFyZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3dpdGNoIChhcmcuY2hhckF0KGkpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmcuY2hhckF0KGkgKyAxKSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnJCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmcuY2hhckF0KGkgKyAxKSA9PT0gJ3snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXNjYXBlZFN0cmluZyA9IFwiJHtcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlc2NhcGVkTmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZUVuZCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVzY2FwZWRTdWJzdGl0dXRpb25QYXJhbWV0ZXIgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnN0aXR1dGlvblN0YXJ0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3Vic3RpdHV0aW9uRW5kID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kaWZpZXJSZWFkID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lTG9vcDogZm9yIChsZXQgaiA9IGkgKyAyOyBqIDwgYXJnLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXIgPSBhcmcuY2hhckF0KGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSBqICsgMTsgayA8IGFyZy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXJnLmNoYXJBdChrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzY2FwZSB0aGlzIG5ld2xpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbmFtZUxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ30nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFN0cmluZyArPSAnfSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kaWZpZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVyUmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnN0aXR1dGlvblBhcmFtZXRlciA9IG1vZGlmaWVyUmVhZCAhPT0gLTEgPyBlc2NhcGVkU3Vic3RpdHV0aW9uUGFyYW1ldGVyIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJzdGl0dXRpb25SYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lRW5kID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5hbWVFbmQgKyAxID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXIgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyUmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIG5hbWVFbmQgKyAxKSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIG5hbWVFbmQgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic3RpdHV0aW9uU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIHN1YnN0aXR1dGlvbiBwYXJhbWV0ZXIgZm91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBhIG1vZGlmaWVyIGNoYXJhY3RlciBleGlzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IG9mZnNldCB0aGUgcmFuZ2UgYnkgMSBmcm9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBtb2RpZmllciBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uU3RhcnQgPSBtb2RpZmllclJlYWQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzdGl0dXRpb25FbmQgPSBtb2RpZmllclJlYWQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0IG9uZSBtb3JlIGZyb20gdGhlIGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhcmFjdGVyIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvbkVuZCA9IHN1YnN0aXR1dGlvbkVuZCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyID0gYXJnLnN1YnN0cmluZyhtb2RpZmllclJlYWQsIG1vZGlmaWVyUmVhZCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyUmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIG1vZGlmaWVyUmVhZCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBtb2RpZmllclJlYWQgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uUmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIHN1YnN0aXR1dGlvblN0YXJ0KSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIHN1YnN0aXR1dGlvbkVuZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzLnB1c2gobmV3IHZhcmlhYmxlXzEuVmFyaWFibGUoZXNjYXBlZE5hbWUsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaSArIDIpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgbmFtZUVuZCkpLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoc3RhcnQsIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBqICsgMSkpLCBtb2RpZmllciwgbW9kaWZpZXJSYW5nZSwgc3Vic3RpdHV0aW9uUGFyYW1ldGVyLCBzdWJzdGl0dXRpb25SYW5nZSwgdGhpcy5kb2NrZXJmaWxlLnJlc29sdmVWYXJpYWJsZShlc2NhcGVkTmFtZSwgc3RhcnQubGluZSkgIT09IHVuZGVmaW5lZCwgdGhpcy5pc0J1aWxkVmFyaWFibGUoZXNjYXBlZE5hbWUsIHN0YXJ0LmxpbmUpLCBlc2NhcGVkU3RyaW5nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHZhcmlhYmxlTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnOic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lRW5kID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGlmaWVyUmVhZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic3RpdHV0aW9uU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvblN0YXJ0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uRW5kID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvbkVuZCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRTdWJzdGl0dXRpb25QYXJhbWV0ZXIgKz0gJzonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJSZWFkID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRTdHJpbmcgKz0gJzonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkTmFtZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kaWZpZXJSZWFkICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJzdGl0dXRpb25TdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uU3RhcnQgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzdGl0dXRpb25FbmQgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uRW5kID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFN1YnN0aXR1dGlvblBhcmFtZXRlciArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJSZWFkID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRTdHJpbmcgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIH0gZm91bmQsIG5vdCBhIHZhbGlkIHZhcmlhYmxlLCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHZhcmlhYmxlTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1dGlsXzEuVXRpbC5pc1doaXRlc3BhY2UoYXJnLmNoYXJBdChpICsgMSkpIHx8IGkgPT09IGFyZy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkIGZvbGxvd2VkIGJ5IHdoaXRlc3BhY2Ugb3IgRU9GLCBpZ25vcmUgdGhpcyB2YXJpYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXNjYXBlZE5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZUxvb3A6IGZvciAobGV0IGogPSBpICsgMTsgaiA8IGFyZy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFyID0gYXJnLmNoYXJBdChqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnJCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcJyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YXJTdGFydCA9IHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlcy5wdXNoKG5ldyB2YXJpYWJsZV8xLlZhcmlhYmxlKGVzY2FwZWROYW1lLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGkgKyAxKSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGopKSwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHZhclN0YXJ0LCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaikpLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCB0aGlzLmRvY2tlcmZpbGUucmVzb2x2ZVZhcmlhYmxlKGVzY2FwZWROYW1lLCB2YXJTdGFydC5saW5lKSAhPT0gdW5kZWZpbmVkLCB0aGlzLmlzQnVpbGRWYXJpYWJsZShlc2NhcGVkTmFtZSwgdmFyU3RhcnQubGluZSksICckJyArIGVzY2FwZWROYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaiAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSB2YXJpYWJsZUxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5lc2NhcGVDaGFyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IGogKyAxOyBrIDwgYXJnLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhcmcuY2hhckF0KGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlIHRoaXMgbmV3bGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IGs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuYW1lTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFjaGVkIEVPRiBhZnRlciBhbiBlc2NhcGUgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXMucHVzaChuZXcgdmFyaWFibGVfMS5WYXJpYWJsZShlc2NhcGVkTmFtZSwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBpICsgMSksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBqKSksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShzdGFydCwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGopKSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdGhpcy5kb2NrZXJmaWxlLnJlc29sdmVWYXJpYWJsZShlc2NhcGVkTmFtZSwgc3RhcnQubGluZSkgIT09IHVuZGVmaW5lZCwgdGhpcy5pc0J1aWxkVmFyaWFibGUoZXNjYXBlZE5hbWUsIHN0YXJ0LmxpbmUpLCAnJCcgKyBlc2NhcGVkTmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdmFyaWFibGVMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhci5tYXRjaCgvXlthLXowLTlfXSskL2kpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YXJTdGFydCA9IHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzLnB1c2gobmV3IHZhcmlhYmxlXzEuVmFyaWFibGUoZXNjYXBlZE5hbWUsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaSArIDEpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaikpLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodmFyU3RhcnQsIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBqKSksIG51bGwsIG51bGwsIG51bGwsIG51bGwsIHRoaXMuZG9ja2VyZmlsZS5yZXNvbHZlVmFyaWFibGUoZXNjYXBlZE5hbWUsIHZhclN0YXJ0LmxpbmUpICE9PSB1bmRlZmluZWQsIHRoaXMuaXNCdWlsZFZhcmlhYmxlKGVzY2FwZWROYW1lLCB2YXJTdGFydC5saW5lKSwgJyQnICsgZXNjYXBlZE5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGogLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSB2YXJpYWJsZUxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWROYW1lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQob2Zmc2V0ICsgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXMucHVzaChuZXcgdmFyaWFibGVfMS5WYXJpYWJsZShlc2NhcGVkTmFtZSwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBpICsgMSksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChvZmZzZXQgKyBhcmcubGVuZ3RoKSksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShzdGFydCwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KG9mZnNldCArIGFyZy5sZW5ndGgpKSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdGhpcy5kb2NrZXJmaWxlLnJlc29sdmVWYXJpYWJsZShlc2NhcGVkTmFtZSwgc3RhcnQubGluZSkgIT09IHVuZGVmaW5lZCwgdGhpcy5pc0J1aWxkVmFyaWFibGUoZXNjYXBlZE5hbWUsIHN0YXJ0LmxpbmUpLCAnJCcgKyBlc2NhcGVkTmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIHZhcmlhYmxlTG9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH1cbiAgICBpc0J1aWxkVmFyaWFibGUodmFyaWFibGUsIGxpbmUpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0S2V5d29yZCgpID09PSBtYWluXzEuS2V5d29yZC5GUk9NKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluaXRpYWxBcmcgb2YgdGhpcy5kb2NrZXJmaWxlLmdldEluaXRpYWxBUkdzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSBpbml0aWFsQXJnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gYXJnLmdldFByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ICYmIHZhcmlhYmxlID09PSBwcm9wZXJ0eS5nZXROYW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW1hZ2UgPSB0aGlzLmRvY2tlcmZpbGUuZ2V0Q29udGFpbmluZ0ltYWdlKHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlBvc2l0aW9uLmNyZWF0ZShsaW5lLCAwKSk7XG4gICAgICAgIGxldCBlbnZzID0gaW1hZ2UuZ2V0RU5WcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gZW52cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKGVudnNbaV0uaXNCZWZvcmUobGluZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBvZiBlbnZzW2ldLmdldFByb3BlcnRpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuZ2V0TmFtZSgpID09PSB2YXJpYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhcmdzID0gaW1hZ2UuZ2V0QVJHcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKGFyZ3NbaV0uaXNCZWZvcmUobGluZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcGVydHkgPSBhcmdzW2ldLmdldFByb3BlcnR5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ICYmIHByb3BlcnR5LmdldE5hbWUoKSA9PT0gdmFyaWFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNyZWF0ZVNpbmdsZUxpbmVIZXJlZG9jcyhhcmdzKSB7XG4gICAgICAgIGNvbnN0IGhlcmVkb2NzID0gW107XG4gICAgICAgIC8vIGluc3RydWN0aW9uIG9ubHkgb24gb25lIGxpbmUsIGlmIGhlcmVkb2NzIGV4aXN0IHRoZXkgd291bGQgYmUgaW5jb21wbGV0ZVxuICAgICAgICBmb3IgKGNvbnN0IGFyZyBvZiBhcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFyZy5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoXCI8PFwiKSAmJiB1dGlsXzEuVXRpbC5wYXJzZUhlcmVkb2NOYW1lKHZhbHVlKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0UmFuZ2UgPSBhcmcuZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lUmFuZ2UgPSB0aGlzLmdldE5hbWVSYW5nZShzdGFydFJhbmdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXROYW1lKG5hbWVSYW5nZSk7XG4gICAgICAgICAgICAgICAgaGVyZWRvY3MucHVzaChuZXcgaGVyZWRvY18xLkhlcmVkb2Moc3RhcnRSYW5nZSwgbmFtZSwgbmFtZVJhbmdlLCBudWxsLCBudWxsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlcmVkb2NzO1xuICAgIH1cbiAgICBnZXROYW1lKG5hbWVSYW5nZSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5kb2N1bWVudC5nZXRUZXh0KG5hbWVSYW5nZSk7XG4gICAgICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgbmFtZSA9IFwiXCI7XG4gICAgICAgIG5hbWVMb29wOiBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gY29udGVudC5jaGFyQXQoaSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgY29udGVudC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbmFtZUxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG5hbWVMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgKz0gY29udGVudC5jaGFyQXQoaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuYW1lTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBjb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBuYW1lTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgKz0gY2g7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBnZXROYW1lUmFuZ2Uoc3RhcnRSYW5nZSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5kb2N1bWVudC5nZXRUZXh0KHN0YXJ0UmFuZ2UpO1xuICAgICAgICBsZXQgZW5kRm91bmQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNlYXJjaEh5cGhlbiA9IGZhbHNlO1xuICAgICAgICBsZXQgc3RhcnQgPSAtMTtcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgICBsZXQgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IHF1b3RlID0gbnVsbDtcbiAgICAgICAgY29udGVudExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2ggPSBjb250ZW50LmNoYXJBdChpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdcIic6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFwnJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1b3RlID09PSBjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgY29udGVudExvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcXVvdGUgPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29udGVudC5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBjb250ZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSHlwaGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaEh5cGhlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSHlwaGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnQuY2hhckF0KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGNvbnRlbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocXVvdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgY29udGVudExvb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShzdGFydFJhbmdlLmVuZCwgc3RhcnRSYW5nZS5lbmQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hbWVTdGFydCA9IHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdCh0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHN0YXJ0UmFuZ2Uuc3RhcnQpICsgc3RhcnQpO1xuICAgICAgICBjb25zdCBuYW1lRW5kID0gcXVvdGUgIT09IG51bGwgPyB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQodGhpcy5kb2N1bWVudC5vZmZzZXRBdChzdGFydFJhbmdlLnN0YXJ0KSArIGVuZCkgOiBzdGFydFJhbmdlLmVuZDtcbiAgICAgICAgcmV0dXJuIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShuYW1lU3RhcnQsIG5hbWVFbmQpO1xuICAgIH1cbiAgICBnZXRIZXJlZG9jcygpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlcmVkb2NzID0gW107XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQubGluZSA9PT0gcmFuZ2UuZW5kLmxpbmUpIHtcbiAgICAgICAgICAgIC8vIGluc3RydWN0aW9uIG9ubHkgb24gb25lIGxpbmUsIGlmIGhlcmVkb2NzIGV4aXN0IHRoZXkgd291bGQgYmUgaW5jb21wbGV0ZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2luZ2xlTGluZUhlcmVkb2NzKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlcmVkb2NEZWZpbml0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgaGVyZWRvY3NQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBjb250ZW50U3RhcnQgPSAtMTtcbiAgICAgICAgbGV0IGNvbnRlbnRFbmQgPSAtMTtcbiAgICAgICAgbGV0IGxpbmVTdGFydCA9IC0xO1xuICAgICAgICBsZXQgY3VycmVudEhlcmVkb2MgPSAwO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQoYXJnc1swXS5nZXRSYW5nZSgpLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuZ2V0UmFuZ2VDb250ZW50KHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShhcmdzWzBdLmdldFJhbmdlKCkuc3RhcnQsIHRoaXMuZ2V0UmFuZ2UoKS5lbmQpKTtcbiAgICAgICAgY29udGVudExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChpKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5lc2NhcGVDaGFyOlxuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29udGVudC5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGNvbnRlbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBjb250ZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoZXJlZG9jc1Byb2Nlc3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRTdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEVuZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSBoZXJlZG9jRGVmaW5pdGlvbnNbY3VycmVudEhlcmVkb2NdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRSYW5nZSA9IGFyZy5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZVJhbmdlID0gdGhpcy5nZXROYW1lUmFuZ2Uoc3RhcnRSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXROYW1lKG5hbWVSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWxpbWl0ZXJSYW5nZSA9IHRoaXMuZ2V0RGVsaW1pdGVyUmFuZ2UoYXJnLCBuYW1lLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHN0YXJ0T2Zmc2V0ICsgbGluZVN0YXJ0KSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHN0YXJ0T2Zmc2V0ICsgaSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxpbWl0ZXJSYW5nZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRSYW5nZSA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnRPZmZzZXQgKyBjb250ZW50U3RhcnQpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnRPZmZzZXQgKyBsaW5lU3RhcnQgLSAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyZWRvY3MucHVzaChuZXcgaGVyZWRvY18xLkhlcmVkb2Moc3RhcnRSYW5nZSwgbmFtZSwgbmFtZVJhbmdlLCBjb250ZW50UmFuZ2UsIGRlbGltaXRlclJhbmdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFN0YXJ0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlcmVkb2MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBuZXdsaW5lIHRoYXQgaGFzbid0IGJlZW4gZXNjYXBlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG11c3QgYmUgaW4gYSBoZXJlZG9jXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRMaW1pdCA9IHN0YXJ0T2Zmc2V0ICsgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXJnIG9mIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGFyZ3VtZW50IGlzIG9uIHRoZSBpbml0aWFsIGxpbmUgb2YgdGhlIGluc3RydWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCBpdCBtYXkgbm90IGFsbCBiZSBvbiB0aGUgc2FtZSBsaW5lIGR1ZSB0byBlc2NhcGVkIG5ld2xpbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugb2YgdGhhdCB3ZSBuZWVkIHRvIHVzZSBvZmZzZXQgY2hlY2tzIGluc3RlYWQgb2YgbGluZSBjaGVja3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyBhbiBhcmd1bWVudCBiZWluZyBvbiBhIGRpZmZlcmVudCBsaW5lIGluIHRoZSBkb2N1bWVudCBkb2VzIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltcGx5IGl0IGlzIG9uIGEgZGlmZmVyZW50IGxpbmUgZnJvbSB0aGUgRG9ja2VyZmlsZSdzIHBvaW50IG9mIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudC5vZmZzZXRBdChhcmcuZ2V0UmFuZ2UoKS5zdGFydCkgPCBvZmZzZXRMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnLmdldFZhbHVlKCkuc3RhcnRzV2l0aChcIjw8XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJlZG9jRGVmaW5pdGlvbnMucHVzaChhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJlZG9jc1Byb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGNvbnRlbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBjb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBjb250ZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlcmVkb2NzUHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVkb2NzUHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBoZXJlZG9jRGVmaW5pdGlvbnNbY3VycmVudEhlcmVkb2NdO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRSYW5nZSA9IGFyZy5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgY29uc3QgbmFtZVJhbmdlID0gdGhpcy5nZXROYW1lUmFuZ2Uoc3RhcnRSYW5nZSk7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXROYW1lKG5hbWVSYW5nZSk7XG4gICAgICAgICAgICBsZXQgY29udGVudFJhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBsYXN0IGxpbmUgb2YgdGhpcyBpbnN0cnVjdGlvbiBtYXRjaGVzIHRoZSBuYW1lIG9mIHRoZSBsYXN0IGhlcmVkb2NcbiAgICAgICAgICAgIGNvbnN0IGRlbGltaXRlclJhbmdlID0gdGhpcy5nZXREZWxpbWl0ZXJSYW5nZShhcmcsIG5hbWUsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnRPZmZzZXQgKyBsaW5lU3RhcnQpLCByYW5nZS5lbmQpKTtcbiAgICAgICAgICAgIGlmIChkZWxpbWl0ZXJSYW5nZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRSYW5nZSA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnRPZmZzZXQgKyBjb250ZW50U3RhcnQpLCByYW5nZS5lbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29udGVudEVuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50UmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHN0YXJ0T2Zmc2V0ICsgY29udGVudFN0YXJ0KSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHN0YXJ0T2Zmc2V0ICsgY29udGVudEVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVyZWRvY3MucHVzaChuZXcgaGVyZWRvY18xLkhlcmVkb2Moc3RhcnRSYW5nZSwgbmFtZSwgbmFtZVJhbmdlLCBjb250ZW50UmFuZ2UsIGRlbGltaXRlclJhbmdlKSk7XG4gICAgICAgICAgICBjdXJyZW50SGVyZWRvYysrO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRIZXJlZG9jOyBpIDwgaGVyZWRvY0RlZmluaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnID0gaGVyZWRvY0RlZmluaXRpb25zW2N1cnJlbnRIZXJlZG9jXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFJhbmdlID0gYXJnLmdldFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZVJhbmdlID0gdGhpcy5nZXROYW1lUmFuZ2Uoc3RhcnRSYW5nZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0TmFtZShuYW1lUmFuZ2UpO1xuICAgICAgICAgICAgICAgIGhlcmVkb2NzLnB1c2gobmV3IGhlcmVkb2NfMS5IZXJlZG9jKHN0YXJ0UmFuZ2UsIG5hbWUsIG5hbWVSYW5nZSwgbnVsbCwgbnVsbCkpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRIZXJlZG9jKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbnN0cnVjdGlvbiBvbmx5IG9uIG9uZSBsaW5lLCBpZiBoZXJlZG9jcyBleGlzdCB0aGV5IHdvdWxkIGJlIGluY29tcGxldGVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpbmdsZUxpbmVIZXJlZG9jcyhhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVyZWRvY3M7XG4gICAgfVxuICAgIGdldERlbGltaXRlclJhbmdlKHN0YXJ0QXJnLCBuYW1lLCBjYW5kaWRhdGVSYW5nZSkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5kb2N1bWVudC5nZXRUZXh0KGNhbmRpZGF0ZVJhbmdlKTtcbiAgICAgICAgaWYgKHN0YXJ0QXJnLmdldFZhbHVlKCkuc3RhcnRzV2l0aChcIjw8LVwiKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRhYnMgaW4gdGhlIGZyb250XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRleHQuY2hhckF0KGluZGV4KSA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHQuc3Vic3RyaW5nKGluZGV4KSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUG9zaXRpb24uY3JlYXRlKGNhbmRpZGF0ZVJhbmdlLnN0YXJ0LmxpbmUsIGluZGV4KSwgY2FuZGlkYXRlUmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0ID09PSBuYW1lID8gY2FuZGlkYXRlUmFuZ2UgOiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuSW5zdHJ1Y3Rpb24gPSBJbnN0cnVjdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/add.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/add.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Add = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Add extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    stopSearchingForFlags(argument) {\n        return argument.indexOf(\"--\") === -1;\n    }\n}\nexports.Add = Add;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9hZGQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLDBCQUEwQixtQkFBTyxDQUFDLHNGQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvYWRkLmpzPzk5OWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFkZCA9IHZvaWQgMDtcbmNvbnN0IGpzb25JbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2pzb25JbnN0cnVjdGlvblwiKTtcbmNsYXNzIEFkZCBleHRlbmRzIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgc3RvcFNlYXJjaGluZ0ZvckZsYWdzKGFyZ3VtZW50KSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudC5pbmRleE9mKFwiLS1cIikgPT09IC0xO1xuICAgIH1cbn1cbmV4cG9ydHMuQWRkID0gQWRkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/add.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/arg.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/arg.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Arg = void 0;\nconst property_1 = __webpack_require__(/*! ../property */ \"(rsc)/./node_modules/dockerfile-ast/lib/property.js\");\nconst propertyInstruction_1 = __webpack_require__(/*! ../propertyInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/propertyInstruction.js\");\nclass Arg extends propertyInstruction_1.PropertyInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n        this.property = null;\n        const args = this.getPropertyArguments();\n        if (args.length === 1) {\n            this.property = new property_1.Property(this.document, this.escapeChar, args[0]);\n        }\n        else {\n            this.property = null;\n        }\n    }\n    /**\n     * Returns the variable defined by this ARG. This may be null if\n     * this ARG instruction is malformed and has no variable\n     * declaration.\n     */\n    getProperty() {\n        return this.property;\n    }\n}\nexports.Arg = Arg;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9hcmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLG1CQUFtQixtQkFBTyxDQUFDLHdFQUFhO0FBQ3hDLDhCQUE4QixtQkFBTyxDQUFDLDhGQUF3QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9hcmcuanM/NWIyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXJnID0gdm9pZCAwO1xuY29uc3QgcHJvcGVydHlfMSA9IHJlcXVpcmUoXCIuLi9wcm9wZXJ0eVwiKTtcbmNvbnN0IHByb3BlcnR5SW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9wcm9wZXJ0eUluc3RydWN0aW9uXCIpO1xuY2xhc3MgQXJnIGV4dGVuZHMgcHJvcGVydHlJbnN0cnVjdGlvbl8xLlByb3BlcnR5SW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgIHRoaXMucHJvcGVydHkgPSBudWxsO1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5nZXRQcm9wZXJ0eUFyZ3VtZW50cygpO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkgPSBuZXcgcHJvcGVydHlfMS5Qcm9wZXJ0eSh0aGlzLmRvY3VtZW50LCB0aGlzLmVzY2FwZUNoYXIsIGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFyaWFibGUgZGVmaW5lZCBieSB0aGlzIEFSRy4gVGhpcyBtYXkgYmUgbnVsbCBpZlxuICAgICAqIHRoaXMgQVJHIGluc3RydWN0aW9uIGlzIG1hbGZvcm1lZCBhbmQgaGFzIG5vIHZhcmlhYmxlXG4gICAgICogZGVjbGFyYXRpb24uXG4gICAgICovXG4gICAgZ2V0UHJvcGVydHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5O1xuICAgIH1cbn1cbmV4cG9ydHMuQXJnID0gQXJnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/arg.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/cmd.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/cmd.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Cmd = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Cmd extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n}\nexports.Cmd = Cmd;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9jbWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLDBCQUEwQixtQkFBTyxDQUFDLHNGQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvY21kLmpzPzBhNDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNtZCA9IHZvaWQgMDtcbmNvbnN0IGpzb25JbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2pzb25JbnN0cnVjdGlvblwiKTtcbmNsYXNzIENtZCBleHRlbmRzIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLkNtZCA9IENtZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/cmd.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/copy.js":
/*!**************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/copy.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Copy = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Copy extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    stopSearchingForFlags(argument) {\n        return argument.indexOf(\"--\") === -1;\n    }\n    getFromFlag() {\n        let flags = super.getFlags();\n        return flags.length === 1 && flags[0].getName() === \"from\" ? flags[0] : null;\n    }\n    /**\n     * Returns there here-documents that are defined in this RUN\n     * instruction.\n     *\n     * This API is experimental and subject to change.\n     */\n    getHeredocs() {\n        return super.getHeredocs();\n    }\n}\nexports.Copy = Copy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9jb3B5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWiwwQkFBMEIsbUJBQU8sQ0FBQyxzRkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvY29weS5qcz8xNzQwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db3B5ID0gdm9pZCAwO1xuY29uc3QganNvbkluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vanNvbkluc3RydWN0aW9uXCIpO1xuY2xhc3MgQ29weSBleHRlbmRzIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgc3RvcFNlYXJjaGluZ0ZvckZsYWdzKGFyZ3VtZW50KSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudC5pbmRleE9mKFwiLS1cIikgPT09IC0xO1xuICAgIH1cbiAgICBnZXRGcm9tRmxhZygpIHtcbiAgICAgICAgbGV0IGZsYWdzID0gc3VwZXIuZ2V0RmxhZ3MoKTtcbiAgICAgICAgcmV0dXJuIGZsYWdzLmxlbmd0aCA9PT0gMSAmJiBmbGFnc1swXS5nZXROYW1lKCkgPT09IFwiZnJvbVwiID8gZmxhZ3NbMF0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZXJlIGhlcmUtZG9jdW1lbnRzIHRoYXQgYXJlIGRlZmluZWQgaW4gdGhpcyBSVU5cbiAgICAgKiBpbnN0cnVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICovXG4gICAgZ2V0SGVyZWRvY3MoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXRIZXJlZG9jcygpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29weSA9IENvcHk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/copy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/entrypoint.js":
/*!********************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/entrypoint.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Entrypoint = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Entrypoint extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n}\nexports.Entrypoint = Entrypoint;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9lbnRyeXBvaW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQiwwQkFBMEIsbUJBQU8sQ0FBQyxzRkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvZW50cnlwb2ludC5qcz8zZTZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbnRyeXBvaW50ID0gdm9pZCAwO1xuY29uc3QganNvbkluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vanNvbkluc3RydWN0aW9uXCIpO1xuY2xhc3MgRW50cnlwb2ludCBleHRlbmRzIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLkVudHJ5cG9pbnQgPSBFbnRyeXBvaW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/entrypoint.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/env.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/env.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Env = void 0;\nconst propertyInstruction_1 = __webpack_require__(/*! ../propertyInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/propertyInstruction.js\");\nclass Env extends propertyInstruction_1.PropertyInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    getProperties() {\n        return super.getProperties();\n    }\n}\nexports.Env = Env;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9lbnYuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLDhCQUE4QixtQkFBTyxDQUFDLDhGQUF3QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvZW52LmpzPzc5YmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVudiA9IHZvaWQgMDtcbmNvbnN0IHByb3BlcnR5SW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9wcm9wZXJ0eUluc3RydWN0aW9uXCIpO1xuY2xhc3MgRW52IGV4dGVuZHMgcHJvcGVydHlJbnN0cnVjdGlvbl8xLlByb3BlcnR5SW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgfVxuICAgIGdldFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXRQcm9wZXJ0aWVzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5FbnYgPSBFbnY7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/env.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/from.js":
/*!**************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/from.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.From = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst modifiableInstruction_1 = __webpack_require__(/*! ../modifiableInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/modifiableInstruction.js\");\nclass From extends modifiableInstruction_1.ModifiableInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    stopSearchingForFlags(argument) {\n        return argument.indexOf(\"--\") === -1;\n    }\n    getImage() {\n        const args = this.getArguments();\n        return args.length > 0 ? args[0].getValue() : null;\n    }\n    /**\n     * Returns the name of the image that will be used as the base image.\n     *\n     * @return the base image's name, or null if unspecified\n     */\n    getImageName() {\n        const imageName = this.getRangeContent(this.getImageNameRange());\n        if (imageName === null) {\n            return null;\n        }\n        let commented = false;\n        let escaped = false;\n        let name = \"\";\n        for (let i = 0; i < imageName.length; i++) {\n            const ch = imageName.charAt(i);\n            switch (ch) {\n                case this.escapeChar:\n                    escaped = true;\n                    break;\n                case '\\r':\n                    continue;\n                case '\\n':\n                    commented = false;\n                    break;\n                case ' ':\n                case '\\t':\n                    break;\n                case '#':\n                    if (escaped) {\n                        commented = true;\n                    }\n                    else {\n                        name = name + ch;\n                        escaped = false;\n                    }\n                    break;\n                default:\n                    if (!commented) {\n                        name = name + ch;\n                        escaped = false;\n                    }\n                    break;\n            }\n        }\n        return name;\n    }\n    /**\n     * Returns the range that covers the name of the image used by\n     * this instruction.\n     *\n     * @return the range of the name of this instruction's argument,\n     *         or null if no image has been specified\n     */\n    getImageNameRange() {\n        let range = this.getImageRange();\n        if (range) {\n            let registryRange = this.getRegistryRange();\n            if (registryRange) {\n                range.start = this.document.positionAt(this.document.offsetAt(registryRange.end) + 1);\n            }\n            let tagRange = this.getImageTagRange();\n            let digestRange = this.getImageDigestRange();\n            if (tagRange === null) {\n                if (digestRange !== null) {\n                    range.end = this.document.positionAt(this.document.offsetAt(digestRange.start) - 1);\n                }\n            }\n            else {\n                range.end = this.document.positionAt(this.document.offsetAt(tagRange.start) - 1);\n            }\n            return range;\n        }\n        return null;\n    }\n    /**\n     * Returns the range that covers the image argument of this\n     * instruction. This includes the tag or digest of the image if\n     * it has been specified by the instruction.\n     *\n     * @return the range of the image argument, or null if no image\n     *         has been specified\n     */\n    getImageRange() {\n        let args = this.getArguments();\n        return args.length !== 0 ? args[0].getRange() : null;\n    }\n    getImageTag() {\n        return this.getRangeContent(this.getImageTagRange());\n    }\n    /**\n     * Returns the range in the document that the tag of the base\n     * image encompasses.\n     *\n     * @return the base image's tag's range in the document, or null\n     *         if no tag has been specified\n     */\n    getImageTagRange() {\n        const range = this.getImageRange();\n        if (range) {\n            const rangeStartOffset = this.document.offsetAt(range.start);\n            const content = this.getRangeContent(range);\n            const atIndex = this.indexOf(rangeStartOffset, content, '@');\n            const slashIndex = content.indexOf('/');\n            if (atIndex === -1) {\n                const colonIndex = this.lastIndexOf(rangeStartOffset, content, ':');\n                if (colonIndex > slashIndex) {\n                    return vscode_languageserver_types_1.Range.create(this.document.positionAt(rangeStartOffset + colonIndex + 1), range.end);\n                }\n            }\n            const subcontent = content.substring(0, atIndex);\n            const subcolonIndex = subcontent.indexOf(':');\n            if (subcolonIndex === -1) {\n                return null;\n            }\n            if (slashIndex === -1) {\n                // slash not found suggests no registry and no namespace defined\n                return vscode_languageserver_types_1.Range.create(this.document.positionAt(rangeStartOffset + subcolonIndex + 1), this.document.positionAt(rangeStartOffset + atIndex));\n            }\n            // both colon and slash found, check if it is a port\n            if (subcolonIndex < slashIndex) {\n                return null;\n            }\n            return vscode_languageserver_types_1.Range.create(this.document.positionAt(rangeStartOffset + subcolonIndex + 1), this.document.positionAt(rangeStartOffset + subcontent.length));\n        }\n        return null;\n    }\n    getImageDigest() {\n        return this.getRangeContent(this.getImageDigestRange());\n    }\n    /**\n     * Returns the range in the document that the digest of the base\n     * image encompasses.\n     *\n     * @return the base image's digest's range in the document, or null\n     *         if no digest has been specified\n     */\n    getImageDigestRange() {\n        let range = this.getImageRange();\n        if (range) {\n            let content = this.getRangeContent(range);\n            let index = this.lastIndexOf(this.document.offsetAt(range.start), content, '@');\n            if (index !== -1) {\n                return vscode_languageserver_types_1.Range.create(range.start.line, range.start.character + index + 1, range.end.line, range.end.character);\n            }\n        }\n        return null;\n    }\n    indexOf(documentOffset, content, searchString) {\n        let index = content.indexOf(searchString);\n        const variables = this.getVariables();\n        for (let i = 0; i < variables.length; i++) {\n            const position = documentOffset + index;\n            const variableRange = variables[i].getRange();\n            if (this.document.offsetAt(variableRange.start) < position && position < this.document.offsetAt(variableRange.end)) {\n                const offset = this.document.offsetAt(variableRange.end) - documentOffset;\n                const substring = content.substring(offset);\n                const subIndex = substring.indexOf(searchString);\n                if (subIndex === -1) {\n                    return -1;\n                }\n                index = subIndex + offset;\n                i = -1;\n                continue;\n            }\n        }\n        return index;\n    }\n    lastIndexOf(documentOffset, content, searchString) {\n        let index = content.lastIndexOf(searchString);\n        const variables = this.getVariables();\n        for (let i = 0; i < variables.length; i++) {\n            const position = documentOffset + index;\n            const variableRange = variables[i].getRange();\n            if (this.document.offsetAt(variableRange.start) < position && position < this.document.offsetAt(variableRange.end)) {\n                index = content.substring(0, index).lastIndexOf(searchString);\n                if (index === -1) {\n                    return -1;\n                }\n                i = -1;\n                continue;\n            }\n        }\n        return index;\n    }\n    getRegistry() {\n        return this.getRangeContent(this.getRegistryRange());\n    }\n    getRegistryRange() {\n        const range = this.getImageRange();\n        if (range) {\n            const tagRange = this.getImageTagRange();\n            const digestRange = this.getImageDigestRange();\n            if (tagRange === null) {\n                if (digestRange !== null) {\n                    range.end = this.document.positionAt(this.document.offsetAt(digestRange.start) - 1);\n                }\n            }\n            else {\n                range.end = this.document.positionAt(this.document.offsetAt(tagRange.start) - 1);\n            }\n            const content = this.getRangeContent(range);\n            const rangeStart = this.document.offsetAt(range.start);\n            const startingSlashIndex = this.indexOf(rangeStart, content, '/');\n            if (startingSlashIndex === -1) {\n                return null;\n            }\n            const portIndex = this.indexOf(rangeStart, content, ':');\n            const dotIndex = this.indexOf(rangeStart, content, '.');\n            // hostname detected\n            if (portIndex !== -1 || dotIndex !== -1) {\n                return vscode_languageserver_types_1.Range.create(range.start, this.document.positionAt(rangeStart + startingSlashIndex));\n            }\n            const registry = content.substring(0, startingSlashIndex);\n            // localhost registry detected\n            if (registry === 'localhost') {\n                return vscode_languageserver_types_1.Range.create(range.start, this.document.positionAt(rangeStart + startingSlashIndex));\n            }\n        }\n        return null;\n    }\n    getBuildStage() {\n        let range = this.getBuildStageRange();\n        return range === null ? null : this.getRangeContent(range);\n    }\n    getBuildStageRange() {\n        let args = this.getArguments();\n        if (args.length > 2 && args[1].getValue().toUpperCase() === \"AS\") {\n            return args[2].getRange();\n        }\n        return null;\n    }\n    getPlatformFlag() {\n        let flags = super.getFlags();\n        return flags.length === 1 && flags[0].getName() === \"platform\" ? flags[0] : null;\n    }\n}\nexports.From = From;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9mcm9tLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixzQ0FBc0MsbUJBQU8sQ0FBQyxxR0FBNkI7QUFDM0UsZ0NBQWdDLG1CQUFPLENBQUMsa0dBQTBCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvZnJvbS5qcz80ZGM1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Gcm9tID0gdm9pZCAwO1xuY29uc3QgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEgPSByZXF1aXJlKFwidnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzXCIpO1xuY29uc3QgbW9kaWZpYWJsZUluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vbW9kaWZpYWJsZUluc3RydWN0aW9uXCIpO1xuY2xhc3MgRnJvbSBleHRlbmRzIG1vZGlmaWFibGVJbnN0cnVjdGlvbl8xLk1vZGlmaWFibGVJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgc3RvcFNlYXJjaGluZ0ZvckZsYWdzKGFyZ3VtZW50KSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudC5pbmRleE9mKFwiLS1cIikgPT09IC0xO1xuICAgIH1cbiAgICBnZXRJbWFnZSgpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA+IDAgPyBhcmdzWzBdLmdldFZhbHVlKCkgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBpbWFnZSB0aGF0IHdpbGwgYmUgdXNlZCBhcyB0aGUgYmFzZSBpbWFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhlIGJhc2UgaW1hZ2UncyBuYW1lLCBvciBudWxsIGlmIHVuc3BlY2lmaWVkXG4gICAgICovXG4gICAgZ2V0SW1hZ2VOYW1lKCkge1xuICAgICAgICBjb25zdCBpbWFnZU5hbWUgPSB0aGlzLmdldFJhbmdlQ29udGVudCh0aGlzLmdldEltYWdlTmFtZVJhbmdlKCkpO1xuICAgICAgICBpZiAoaW1hZ2VOYW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tbWVudGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBuYW1lID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZU5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gaW1hZ2VOYW1lLmNoYXJBdChpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZSArIGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tbWVudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZSArIGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByYW5nZSB0aGF0IGNvdmVycyB0aGUgbmFtZSBvZiB0aGUgaW1hZ2UgdXNlZCBieVxuICAgICAqIHRoaXMgaW5zdHJ1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoZSByYW5nZSBvZiB0aGUgbmFtZSBvZiB0aGlzIGluc3RydWN0aW9uJ3MgYXJndW1lbnQsXG4gICAgICogICAgICAgICBvciBudWxsIGlmIG5vIGltYWdlIGhhcyBiZWVuIHNwZWNpZmllZFxuICAgICAqL1xuICAgIGdldEltYWdlTmFtZVJhbmdlKCkge1xuICAgICAgICBsZXQgcmFuZ2UgPSB0aGlzLmdldEltYWdlUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICBsZXQgcmVnaXN0cnlSYW5nZSA9IHRoaXMuZ2V0UmVnaXN0cnlSYW5nZSgpO1xuICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5UmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydCA9IHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdCh0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJlZ2lzdHJ5UmFuZ2UuZW5kKSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRhZ1JhbmdlID0gdGhpcy5nZXRJbWFnZVRhZ1JhbmdlKCk7XG4gICAgICAgICAgICBsZXQgZGlnZXN0UmFuZ2UgPSB0aGlzLmdldEltYWdlRGlnZXN0UmFuZ2UoKTtcbiAgICAgICAgICAgIGlmICh0YWdSYW5nZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChkaWdlc3RSYW5nZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5lbmQgPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQodGhpcy5kb2N1bWVudC5vZmZzZXRBdChkaWdlc3RSYW5nZS5zdGFydCkgLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQgPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQodGhpcy5kb2N1bWVudC5vZmZzZXRBdCh0YWdSYW5nZS5zdGFydCkgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmFuZ2UgdGhhdCBjb3ZlcnMgdGhlIGltYWdlIGFyZ3VtZW50IG9mIHRoaXNcbiAgICAgKiBpbnN0cnVjdGlvbi4gVGhpcyBpbmNsdWRlcyB0aGUgdGFnIG9yIGRpZ2VzdCBvZiB0aGUgaW1hZ2UgaWZcbiAgICAgKiBpdCBoYXMgYmVlbiBzcGVjaWZpZWQgYnkgdGhlIGluc3RydWN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgcmFuZ2Ugb2YgdGhlIGltYWdlIGFyZ3VtZW50LCBvciBudWxsIGlmIG5vIGltYWdlXG4gICAgICogICAgICAgICBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICAgKi9cbiAgICBnZXRJbWFnZVJhbmdlKCkge1xuICAgICAgICBsZXQgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCAhPT0gMCA/IGFyZ3NbMF0uZ2V0UmFuZ2UoKSA6IG51bGw7XG4gICAgfVxuICAgIGdldEltYWdlVGFnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSYW5nZUNvbnRlbnQodGhpcy5nZXRJbWFnZVRhZ1JhbmdlKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByYW5nZSBpbiB0aGUgZG9jdW1lbnQgdGhhdCB0aGUgdGFnIG9mIHRoZSBiYXNlXG4gICAgICogaW1hZ2UgZW5jb21wYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoZSBiYXNlIGltYWdlJ3MgdGFnJ3MgcmFuZ2UgaW4gdGhlIGRvY3VtZW50LCBvciBudWxsXG4gICAgICogICAgICAgICBpZiBubyB0YWcgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAgICovXG4gICAgZ2V0SW1hZ2VUYWdSYW5nZSgpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldEltYWdlUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZVN0YXJ0T2Zmc2V0ID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5nZXRSYW5nZUNvbnRlbnQocmFuZ2UpO1xuICAgICAgICAgICAgY29uc3QgYXRJbmRleCA9IHRoaXMuaW5kZXhPZihyYW5nZVN0YXJ0T2Zmc2V0LCBjb250ZW50LCAnQCcpO1xuICAgICAgICAgICAgY29uc3Qgc2xhc2hJbmRleCA9IGNvbnRlbnQuaW5kZXhPZignLycpO1xuICAgICAgICAgICAgaWYgKGF0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb25JbmRleCA9IHRoaXMubGFzdEluZGV4T2YocmFuZ2VTdGFydE9mZnNldCwgY29udGVudCwgJzonKTtcbiAgICAgICAgICAgICAgICBpZiAoY29sb25JbmRleCA+IHNsYXNoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQocmFuZ2VTdGFydE9mZnNldCArIGNvbG9uSW5kZXggKyAxKSwgcmFuZ2UuZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdWJjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgYXRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBzdWJjb2xvbkluZGV4ID0gc3ViY29udGVudC5pbmRleE9mKCc6Jyk7XG4gICAgICAgICAgICBpZiAoc3ViY29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIHNsYXNoIG5vdCBmb3VuZCBzdWdnZXN0cyBubyByZWdpc3RyeSBhbmQgbm8gbmFtZXNwYWNlIGRlZmluZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChyYW5nZVN0YXJ0T2Zmc2V0ICsgc3ViY29sb25JbmRleCArIDEpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQocmFuZ2VTdGFydE9mZnNldCArIGF0SW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJvdGggY29sb24gYW5kIHNsYXNoIGZvdW5kLCBjaGVjayBpZiBpdCBpcyBhIHBvcnRcbiAgICAgICAgICAgIGlmIChzdWJjb2xvbkluZGV4IDwgc2xhc2hJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQocmFuZ2VTdGFydE9mZnNldCArIHN1YmNvbG9uSW5kZXggKyAxKSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHJhbmdlU3RhcnRPZmZzZXQgKyBzdWJjb250ZW50Lmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRJbWFnZURpZ2VzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2VDb250ZW50KHRoaXMuZ2V0SW1hZ2VEaWdlc3RSYW5nZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmFuZ2UgaW4gdGhlIGRvY3VtZW50IHRoYXQgdGhlIGRpZ2VzdCBvZiB0aGUgYmFzZVxuICAgICAqIGltYWdlIGVuY29tcGFzc2VzLlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgYmFzZSBpbWFnZSdzIGRpZ2VzdCdzIHJhbmdlIGluIHRoZSBkb2N1bWVudCwgb3IgbnVsbFxuICAgICAqICAgICAgICAgaWYgbm8gZGlnZXN0IGhhcyBiZWVuIHNwZWNpZmllZFxuICAgICAqL1xuICAgIGdldEltYWdlRGlnZXN0UmFuZ2UoKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMuZ2V0SW1hZ2VSYW5nZSgpO1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5nZXRSYW5nZUNvbnRlbnQocmFuZ2UpO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5sYXN0SW5kZXhPZih0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJhbmdlLnN0YXJ0KSwgY29udGVudCwgJ0AnKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHJhbmdlLnN0YXJ0LmxpbmUsIHJhbmdlLnN0YXJ0LmNoYXJhY3RlciArIGluZGV4ICsgMSwgcmFuZ2UuZW5kLmxpbmUsIHJhbmdlLmVuZC5jaGFyYWN0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpbmRleE9mKGRvY3VtZW50T2Zmc2V0LCBjb250ZW50LCBzZWFyY2hTdHJpbmcpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gY29udGVudC5pbmRleE9mKHNlYXJjaFN0cmluZyk7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuZ2V0VmFyaWFibGVzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGRvY3VtZW50T2Zmc2V0ICsgaW5kZXg7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZVJhbmdlID0gdmFyaWFibGVzW2ldLmdldFJhbmdlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudC5vZmZzZXRBdCh2YXJpYWJsZVJhbmdlLnN0YXJ0KSA8IHBvc2l0aW9uICYmIHBvc2l0aW9uIDwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdCh2YXJpYWJsZVJhbmdlLmVuZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHZhcmlhYmxlUmFuZ2UuZW5kKSAtIGRvY3VtZW50T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnN0cmluZyA9IGNvbnRlbnQuc3Vic3RyaW5nKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViSW5kZXggPSBzdWJzdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCA9IHN1YkluZGV4ICsgb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGkgPSAtMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGxhc3RJbmRleE9mKGRvY3VtZW50T2Zmc2V0LCBjb250ZW50LCBzZWFyY2hTdHJpbmcpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gY29udGVudC5sYXN0SW5kZXhPZihzZWFyY2hTdHJpbmcpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLmdldFZhcmlhYmxlcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBkb2N1bWVudE9mZnNldCArIGluZGV4O1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGVSYW5nZSA9IHZhcmlhYmxlc1tpXS5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodmFyaWFibGVSYW5nZS5zdGFydCkgPCBwb3NpdGlvbiAmJiBwb3NpdGlvbiA8IHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodmFyaWFibGVSYW5nZS5lbmQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBjb250ZW50LnN1YnN0cmluZygwLCBpbmRleCkubGFzdEluZGV4T2Yoc2VhcmNoU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSA9IC0xO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgZ2V0UmVnaXN0cnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhbmdlQ29udGVudCh0aGlzLmdldFJlZ2lzdHJ5UmFuZ2UoKSk7XG4gICAgfVxuICAgIGdldFJlZ2lzdHJ5UmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5nZXRJbWFnZVJhbmdlKCk7XG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgdGFnUmFuZ2UgPSB0aGlzLmdldEltYWdlVGFnUmFuZ2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZ2VzdFJhbmdlID0gdGhpcy5nZXRJbWFnZURpZ2VzdFJhbmdlKCk7XG4gICAgICAgICAgICBpZiAodGFnUmFuZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlnZXN0UmFuZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZW5kID0gdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQoZGlnZXN0UmFuZ2Uuc3RhcnQpIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kID0gdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodGFnUmFuZ2Uuc3RhcnQpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5nZXRSYW5nZUNvbnRlbnQocmFuZ2UpO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRpbmdTbGFzaEluZGV4ID0gdGhpcy5pbmRleE9mKHJhbmdlU3RhcnQsIGNvbnRlbnQsICcvJyk7XG4gICAgICAgICAgICBpZiAoc3RhcnRpbmdTbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9ydEluZGV4ID0gdGhpcy5pbmRleE9mKHJhbmdlU3RhcnQsIGNvbnRlbnQsICc6Jyk7XG4gICAgICAgICAgICBjb25zdCBkb3RJbmRleCA9IHRoaXMuaW5kZXhPZihyYW5nZVN0YXJ0LCBjb250ZW50LCAnLicpO1xuICAgICAgICAgICAgLy8gaG9zdG5hbWUgZGV0ZWN0ZWRcbiAgICAgICAgICAgIGlmIChwb3J0SW5kZXggIT09IC0xIHx8IGRvdEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUocmFuZ2Uuc3RhcnQsIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChyYW5nZVN0YXJ0ICsgc3RhcnRpbmdTbGFzaEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWdpc3RyeSA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIHN0YXJ0aW5nU2xhc2hJbmRleCk7XG4gICAgICAgICAgICAvLyBsb2NhbGhvc3QgcmVnaXN0cnkgZGV0ZWN0ZWRcbiAgICAgICAgICAgIGlmIChyZWdpc3RyeSA9PT0gJ2xvY2FsaG9zdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHJhbmdlLnN0YXJ0LCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQocmFuZ2VTdGFydCArIHN0YXJ0aW5nU2xhc2hJbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRCdWlsZFN0YWdlKCkge1xuICAgICAgICBsZXQgcmFuZ2UgPSB0aGlzLmdldEJ1aWxkU3RhZ2VSYW5nZSgpO1xuICAgICAgICByZXR1cm4gcmFuZ2UgPT09IG51bGwgPyBudWxsIDogdGhpcy5nZXRSYW5nZUNvbnRlbnQocmFuZ2UpO1xuICAgIH1cbiAgICBnZXRCdWlsZFN0YWdlUmFuZ2UoKSB7XG4gICAgICAgIGxldCBhcmdzID0gdGhpcy5nZXRBcmd1bWVudHMoKTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiBhcmdzWzFdLmdldFZhbHVlKCkudG9VcHBlckNhc2UoKSA9PT0gXCJBU1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnc1syXS5nZXRSYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRQbGF0Zm9ybUZsYWcoKSB7XG4gICAgICAgIGxldCBmbGFncyA9IHN1cGVyLmdldEZsYWdzKCk7XG4gICAgICAgIHJldHVybiBmbGFncy5sZW5ndGggPT09IDEgJiYgZmxhZ3NbMF0uZ2V0TmFtZSgpID09PSBcInBsYXRmb3JtXCIgPyBmbGFnc1swXSA6IG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5Gcm9tID0gRnJvbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/from.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/healthcheck.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/healthcheck.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Healthcheck = void 0;\nconst modifiableInstruction_1 = __webpack_require__(/*! ../modifiableInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/modifiableInstruction.js\");\nclass Healthcheck extends modifiableInstruction_1.ModifiableInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    stopSearchingForFlags(argument) {\n        argument = argument.toUpperCase();\n        return argument === \"CMD\" || argument === \"NONE\";\n    }\n    getSubcommand() {\n        let args = this.getArguments();\n        return args.length !== 0 ? args[0] : null;\n    }\n}\nexports.Healthcheck = Healthcheck;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9oZWFsdGhjaGVjay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsZ0NBQWdDLG1CQUFPLENBQUMsa0dBQTBCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9oZWFsdGhjaGVjay5qcz85MjgxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZWFsdGhjaGVjayA9IHZvaWQgMDtcbmNvbnN0IG1vZGlmaWFibGVJbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL21vZGlmaWFibGVJbnN0cnVjdGlvblwiKTtcbmNsYXNzIEhlYWx0aGNoZWNrIGV4dGVuZHMgbW9kaWZpYWJsZUluc3RydWN0aW9uXzEuTW9kaWZpYWJsZUluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKSB7XG4gICAgICAgIHN1cGVyKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgIH1cbiAgICBzdG9wU2VhcmNoaW5nRm9yRmxhZ3MoYXJndW1lbnQpIHtcbiAgICAgICAgYXJndW1lbnQgPSBhcmd1bWVudC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gYXJndW1lbnQgPT09IFwiQ01EXCIgfHwgYXJndW1lbnQgPT09IFwiTk9ORVwiO1xuICAgIH1cbiAgICBnZXRTdWJjb21tYW5kKCkge1xuICAgICAgICBsZXQgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCAhPT0gMCA/IGFyZ3NbMF0gOiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVhbHRoY2hlY2sgPSBIZWFsdGhjaGVjaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/healthcheck.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/label.js":
/*!***************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/label.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Label = void 0;\nconst propertyInstruction_1 = __webpack_require__(/*! ../propertyInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/propertyInstruction.js\");\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nclass Label extends propertyInstruction_1.PropertyInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    getVariables() {\n        const variables = super.getVariables();\n        const properties = this.getProperties();\n        // iterate over all of this LABEL's properties\n        for (const property of properties) {\n            const value = property.getUnescapedValue();\n            // check if the value is contained in single quotes,\n            // single quotes would indicate a literal value\n            if (value !== null && value.length > 2 && value.charAt(0) === '\\'' && value.charAt(value.length - 1) === '\\'') {\n                const range = property.getValueRange();\n                for (let i = 0; i < variables.length; i++) {\n                    // if a variable is in a single quote, remove it from the list\n                    if (util_1.Util.isInsideRange(variables[i].getRange().start, range)) {\n                        variables.splice(i, 1);\n                        i--;\n                    }\n                }\n            }\n        }\n        return variables;\n    }\n    getProperties() {\n        return super.getProperties();\n    }\n}\nexports.Label = Label;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9sYWJlbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2IsOEJBQThCLG1CQUFPLENBQUMsOEZBQXdCO0FBQzlELGVBQWUsbUJBQU8sQ0FBQyxnRUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNCQUFzQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvbGFiZWwuanM/OTI2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGFiZWwgPSB2b2lkIDA7XG5jb25zdCBwcm9wZXJ0eUluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vcHJvcGVydHlJbnN0cnVjdGlvblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuY2xhc3MgTGFiZWwgZXh0ZW5kcyBwcm9wZXJ0eUluc3RydWN0aW9uXzEuUHJvcGVydHlJbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgZ2V0VmFyaWFibGVzKCkge1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBzdXBlci5nZXRWYXJpYWJsZXMoKTtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHRoaXMuZ2V0UHJvcGVydGllcygpO1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgYWxsIG9mIHRoaXMgTEFCRUwncyBwcm9wZXJ0aWVzXG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgcHJvcGVydGllcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wZXJ0eS5nZXRVbmVzY2FwZWRWYWx1ZSgpO1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHZhbHVlIGlzIGNvbnRhaW5lZCBpbiBzaW5nbGUgcXVvdGVzLFxuICAgICAgICAgICAgLy8gc2luZ2xlIHF1b3RlcyB3b3VsZCBpbmRpY2F0ZSBhIGxpdGVyYWwgdmFsdWVcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZS5sZW5ndGggPiAyICYmIHZhbHVlLmNoYXJBdCgwKSA9PT0gJ1xcJycgJiYgdmFsdWUuY2hhckF0KHZhbHVlLmxlbmd0aCAtIDEpID09PSAnXFwnJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gcHJvcGVydHkuZ2V0VmFsdWVSYW5nZSgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGEgdmFyaWFibGUgaXMgaW4gYSBzaW5nbGUgcXVvdGUsIHJlbW92ZSBpdCBmcm9tIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlsXzEuVXRpbC5pc0luc2lkZVJhbmdlKHZhcmlhYmxlc1tpXS5nZXRSYW5nZSgpLnN0YXJ0LCByYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcmlhYmxlcztcbiAgICB9XG4gICAgZ2V0UHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldFByb3BlcnRpZXMoKTtcbiAgICB9XG59XG5leHBvcnRzLkxhYmVsID0gTGFiZWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/label.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/onbuild.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/onbuild.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Onbuild = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst parser_1 = __webpack_require__(/*! ../parser */ \"(rsc)/./node_modules/dockerfile-ast/lib/parser.js\");\nconst instruction_1 = __webpack_require__(/*! ../instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nclass Onbuild extends instruction_1.Instruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    getTrigger() {\n        let trigger = this.getTriggerWord();\n        return trigger === null ? null : trigger.toUpperCase();\n    }\n    getTriggerWord() {\n        return this.getRangeContent(this.getTriggerRange());\n    }\n    getTriggerRange() {\n        let args = this.getArguments();\n        return args.length > 0 ? args[0].getRange() : null;\n    }\n    getTriggerInstruction() {\n        let triggerRange = this.getTriggerRange();\n        if (triggerRange === null) {\n            return null;\n        }\n        let args = this.getArguments();\n        return parser_1.Parser.createInstruction(this.document, this.dockerfile, this.escapeChar, vscode_languageserver_types_1.Range.create(args[0].getRange().start, this.getRange().end), this.getTriggerWord(), triggerRange);\n    }\n}\nexports.Onbuild = Onbuild;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9vbmJ1aWxkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZixzQ0FBc0MsbUJBQU8sQ0FBQyxxR0FBNkI7QUFDM0UsaUJBQWlCLG1CQUFPLENBQUMsb0VBQVc7QUFDcEMsc0JBQXNCLG1CQUFPLENBQUMsOEVBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvaW5zdHJ1Y3Rpb25zL29uYnVpbGQuanM/MmU5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT25idWlsZCA9IHZvaWQgMDtcbmNvbnN0IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xID0gcmVxdWlyZShcInZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlc1wiKTtcbmNvbnN0IHBhcnNlcl8xID0gcmVxdWlyZShcIi4uL3BhcnNlclwiKTtcbmNvbnN0IGluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vaW5zdHJ1Y3Rpb25cIik7XG5jbGFzcyBPbmJ1aWxkIGV4dGVuZHMgaW5zdHJ1Y3Rpb25fMS5JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgZ2V0VHJpZ2dlcigpIHtcbiAgICAgICAgbGV0IHRyaWdnZXIgPSB0aGlzLmdldFRyaWdnZXJXb3JkKCk7XG4gICAgICAgIHJldHVybiB0cmlnZ2VyID09PSBudWxsID8gbnVsbCA6IHRyaWdnZXIudG9VcHBlckNhc2UoKTtcbiAgICB9XG4gICAgZ2V0VHJpZ2dlcldvcmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhbmdlQ29udGVudCh0aGlzLmdldFRyaWdnZXJSYW5nZSgpKTtcbiAgICB9XG4gICAgZ2V0VHJpZ2dlclJhbmdlKCkge1xuICAgICAgICBsZXQgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA+IDAgPyBhcmdzWzBdLmdldFJhbmdlKCkgOiBudWxsO1xuICAgIH1cbiAgICBnZXRUcmlnZ2VySW5zdHJ1Y3Rpb24oKSB7XG4gICAgICAgIGxldCB0cmlnZ2VyUmFuZ2UgPSB0aGlzLmdldFRyaWdnZXJSYW5nZSgpO1xuICAgICAgICBpZiAodHJpZ2dlclJhbmdlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJncyA9IHRoaXMuZ2V0QXJndW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBwYXJzZXJfMS5QYXJzZXIuY3JlYXRlSW5zdHJ1Y3Rpb24odGhpcy5kb2N1bWVudCwgdGhpcy5kb2NrZXJmaWxlLCB0aGlzLmVzY2FwZUNoYXIsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShhcmdzWzBdLmdldFJhbmdlKCkuc3RhcnQsIHRoaXMuZ2V0UmFuZ2UoKS5lbmQpLCB0aGlzLmdldFRyaWdnZXJXb3JkKCksIHRyaWdnZXJSYW5nZSk7XG4gICAgfVxufVxuZXhwb3J0cy5PbmJ1aWxkID0gT25idWlsZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/onbuild.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/run.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/run.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Run = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Run extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    stopSearchingForFlags(argument) {\n        return argument.indexOf(\"--\") === -1;\n    }\n    /**\n     * Returns there here-documents that are defined in this RUN\n     * instruction.\n     *\n     * This API is experimental and subject to change.\n     */\n    getHeredocs() {\n        return super.getHeredocs();\n    }\n}\nexports.Run = Run;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9ydW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVztBQUNYLDBCQUEwQixtQkFBTyxDQUFDLHNGQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvcnVuLmpzP2E1NDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJ1biA9IHZvaWQgMDtcbmNvbnN0IGpzb25JbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2pzb25JbnN0cnVjdGlvblwiKTtcbmNsYXNzIFJ1biBleHRlbmRzIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgc3RvcFNlYXJjaGluZ0ZvckZsYWdzKGFyZ3VtZW50KSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudC5pbmRleE9mKFwiLS1cIikgPT09IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZXJlIGhlcmUtZG9jdW1lbnRzIHRoYXQgYXJlIGRlZmluZWQgaW4gdGhpcyBSVU5cbiAgICAgKiBpbnN0cnVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICovXG4gICAgZ2V0SGVyZWRvY3MoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXRIZXJlZG9jcygpO1xuICAgIH1cbn1cbmV4cG9ydHMuUnVuID0gUnVuO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/run.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/shell.js":
/*!***************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/shell.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Shell = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Shell extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n}\nexports.Shell = Shell;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9zaGVsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2IsMEJBQTBCLG1CQUFPLENBQUMsc0ZBQW9CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9zaGVsbC5qcz9lMWVhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaGVsbCA9IHZvaWQgMDtcbmNvbnN0IGpzb25JbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2pzb25JbnN0cnVjdGlvblwiKTtcbmNsYXNzIFNoZWxsIGV4dGVuZHMganNvbkluc3RydWN0aW9uXzEuSlNPTkluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKSB7XG4gICAgICAgIHN1cGVyKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2hlbGwgPSBTaGVsbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/shell.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/stopsignal.js":
/*!********************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/stopsignal.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Stopsignal = void 0;\nconst instruction_1 = __webpack_require__(/*! ../instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nclass Stopsignal extends instruction_1.Instruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n}\nexports.Stopsignal = Stopsignal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy9zdG9wc2lnbmFsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixzQkFBc0IsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvc3RvcHNpZ25hbC5qcz8zNmNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdG9wc2lnbmFsID0gdm9pZCAwO1xuY29uc3QgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9pbnN0cnVjdGlvblwiKTtcbmNsYXNzIFN0b3BzaWduYWwgZXh0ZW5kcyBpbnN0cnVjdGlvbl8xLkluc3RydWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKSB7XG4gICAgICAgIHN1cGVyKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RvcHNpZ25hbCA9IFN0b3BzaWduYWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/stopsignal.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/user.js":
/*!**************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/user.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.User = void 0;\nconst instruction_1 = __webpack_require__(/*! ../instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nclass User extends instruction_1.Instruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n}\nexports.User = User;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy91c2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixzQkFBc0IsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvaW5zdHJ1Y3Rpb25zL3VzZXIuanM/NTBjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVXNlciA9IHZvaWQgMDtcbmNvbnN0IGluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vaW5zdHJ1Y3Rpb25cIik7XG5jbGFzcyBVc2VyIGV4dGVuZHMgaW5zdHJ1Y3Rpb25fMS5JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLlVzZXIgPSBVc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/user.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/volume.js":
/*!****************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/volume.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Volume = void 0;\nconst jsonInstruction_1 = __webpack_require__(/*! ../jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nclass Volume extends jsonInstruction_1.JSONInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n}\nexports.Volume = Volume;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy92b2x1bWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLDBCQUEwQixtQkFBTyxDQUFDLHNGQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9pbnN0cnVjdGlvbnMvdm9sdW1lLmpzP2YzYzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlZvbHVtZSA9IHZvaWQgMDtcbmNvbnN0IGpzb25JbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2pzb25JbnN0cnVjdGlvblwiKTtcbmNsYXNzIFZvbHVtZSBleHRlbmRzIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLlZvbHVtZSA9IFZvbHVtZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/volume.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/instructions/workdir.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/instructions/workdir.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Workdir = void 0;\nconst instruction_1 = __webpack_require__(/*! ../instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nclass Workdir extends instruction_1.Instruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    /**\n     * Returns the path that has been defined. Note that this path may\n     * be absolute or relative depending on what was written in the\n     * instruction.\n     *\n     * @return the working directory's path, or null if this\n     *         instruction has no arguments\n     */\n    getPath() {\n        return this.getArgumentsContent();\n    }\n    /**\n     * Returns the absolute path that this instruction resolves to. The\n     * function will inspect prior WORKDIR instructions in the current\n     * image or another build stage in the Dockerfile to try to\n     * determine this.\n     *\n     * @return the absolute path of the working directory, or null if\n     *         this instruction has no arguments, or undefined if it\n     *         cannot be determined because only relative paths could be\n     *         found\n     */\n    getAbsolutePath() {\n        const path = this.getPath();\n        if (path === null || path.startsWith(\"/\")) {\n            return path;\n        }\n        const startLine = this.getRange().start.line;\n        const hierarchy = this.dockerfile.getStageHierarchy(startLine);\n        for (let i = hierarchy.length - 1; i >= 0; i--) {\n            const workdirs = hierarchy[i].getWORKDIRs();\n            for (let j = workdirs.length - 1; j >= 0; j--) {\n                if (workdirs[j].getRange().start.line < startLine) {\n                    const parent = workdirs[j].getAbsolutePath();\n                    if (parent === undefined || parent === null) {\n                        return undefined;\n                    }\n                    return parent.endsWith(\"/\") ? parent + path : parent + \"/\" + path;\n                }\n            }\n        }\n        return undefined;\n    }\n}\nexports.Workdir = Workdir;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy93b3JrZGlyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZixzQkFBc0IsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2luc3RydWN0aW9ucy93b3JrZGlyLmpzPzUwZTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldvcmtkaXIgPSB2b2lkIDA7XG5jb25zdCBpbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2luc3RydWN0aW9uXCIpO1xuY2xhc3MgV29ya2RpciBleHRlbmRzIGluc3RydWN0aW9uXzEuSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhdGggdGhhdCBoYXMgYmVlbiBkZWZpbmVkLiBOb3RlIHRoYXQgdGhpcyBwYXRoIG1heVxuICAgICAqIGJlIGFic29sdXRlIG9yIHJlbGF0aXZlIGRlcGVuZGluZyBvbiB3aGF0IHdhcyB3cml0dGVuIGluIHRoZVxuICAgICAqIGluc3RydWN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgd29ya2luZyBkaXJlY3RvcnkncyBwYXRoLCBvciBudWxsIGlmIHRoaXNcbiAgICAgKiAgICAgICAgIGluc3RydWN0aW9uIGhhcyBubyBhcmd1bWVudHNcbiAgICAgKi9cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBcmd1bWVudHNDb250ZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFic29sdXRlIHBhdGggdGhhdCB0aGlzIGluc3RydWN0aW9uIHJlc29sdmVzIHRvLiBUaGVcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGluc3BlY3QgcHJpb3IgV09SS0RJUiBpbnN0cnVjdGlvbnMgaW4gdGhlIGN1cnJlbnRcbiAgICAgKiBpbWFnZSBvciBhbm90aGVyIGJ1aWxkIHN0YWdlIGluIHRoZSBEb2NrZXJmaWxlIHRvIHRyeSB0b1xuICAgICAqIGRldGVybWluZSB0aGlzLlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgYWJzb2x1dGUgcGF0aCBvZiB0aGUgd29ya2luZyBkaXJlY3RvcnksIG9yIG51bGwgaWZcbiAgICAgKiAgICAgICAgIHRoaXMgaW5zdHJ1Y3Rpb24gaGFzIG5vIGFyZ3VtZW50cywgb3IgdW5kZWZpbmVkIGlmIGl0XG4gICAgICogICAgICAgICBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBiZWNhdXNlIG9ubHkgcmVsYXRpdmUgcGF0aHMgY291bGQgYmVcbiAgICAgKiAgICAgICAgIGZvdW5kXG4gICAgICovXG4gICAgZ2V0QWJzb2x1dGVQYXRoKCkge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgICAgIGlmIChwYXRoID09PSBudWxsIHx8IHBhdGguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0TGluZSA9IHRoaXMuZ2V0UmFuZ2UoKS5zdGFydC5saW5lO1xuICAgICAgICBjb25zdCBoaWVyYXJjaHkgPSB0aGlzLmRvY2tlcmZpbGUuZ2V0U3RhZ2VIaWVyYXJjaHkoc3RhcnRMaW5lKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGhpZXJhcmNoeS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgd29ya2RpcnMgPSBoaWVyYXJjaHlbaV0uZ2V0V09SS0RJUnMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSB3b3JrZGlycy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIGlmICh3b3JrZGlyc1tqXS5nZXRSYW5nZSgpLnN0YXJ0LmxpbmUgPCBzdGFydExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gd29ya2RpcnNbal0uZ2V0QWJzb2x1dGVQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IHVuZGVmaW5lZCB8fCBwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5lbmRzV2l0aChcIi9cIikgPyBwYXJlbnQgKyBwYXRoIDogcGFyZW50ICsgXCIvXCIgKyBwYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydHMuV29ya2RpciA9IFdvcmtkaXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/instructions/workdir.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/jsonArgument.js":
/*!*********************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/jsonArgument.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.JSONArgument = void 0;\nconst argument_1 = __webpack_require__(/*! ./argument */ \"(rsc)/./node_modules/dockerfile-ast/lib/argument.js\");\nclass JSONArgument extends argument_1.Argument {\n    constructor(value, range, jsonRange) {\n        super(value, range);\n        this.jsonRange = jsonRange;\n    }\n    getJSONRange() {\n        return this.jsonRange;\n    }\n    getJSONValue() {\n        let value = super.getValue();\n        value = value.substring(1, value.length - 1);\n        return value;\n    }\n}\nexports.JSONArgument = JSONArgument;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2pzb25Bcmd1bWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsbUJBQW1CLG1CQUFPLENBQUMsdUVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9qc29uQXJndW1lbnQuanM/YjI1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSlNPTkFyZ3VtZW50ID0gdm9pZCAwO1xuY29uc3QgYXJndW1lbnRfMSA9IHJlcXVpcmUoXCIuL2FyZ3VtZW50XCIpO1xuY2xhc3MgSlNPTkFyZ3VtZW50IGV4dGVuZHMgYXJndW1lbnRfMS5Bcmd1bWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHJhbmdlLCBqc29uUmFuZ2UpIHtcbiAgICAgICAgc3VwZXIodmFsdWUsIHJhbmdlKTtcbiAgICAgICAgdGhpcy5qc29uUmFuZ2UgPSBqc29uUmFuZ2U7XG4gICAgfVxuICAgIGdldEpTT05SYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvblJhbmdlO1xuICAgIH1cbiAgICBnZXRKU09OVmFsdWUoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHN1cGVyLmdldFZhbHVlKCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEsIHZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5KU09OQXJndW1lbnQgPSBKU09OQXJndW1lbnQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/jsonArgument.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js":
/*!************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/jsonInstruction.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.JSONInstruction = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst argument_1 = __webpack_require__(/*! ./argument */ \"(rsc)/./node_modules/dockerfile-ast/lib/argument.js\");\nconst jsonArgument_1 = __webpack_require__(/*! ./jsonArgument */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonArgument.js\");\nconst modifiableInstruction_1 = __webpack_require__(/*! ./modifiableInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/modifiableInstruction.js\");\nclass JSONInstruction extends modifiableInstruction_1.ModifiableInstruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n        this.openingBracket = null;\n        this.closingBracket = null;\n        this.jsonStrings = [];\n        const argsContent = this.getRawArgumentsContent();\n        if (argsContent === null) {\n            return;\n        }\n        const args = this.getArguments();\n        if (args.length === 1 && args[0].getValue() === \"[]\") {\n            let argRange = args[0].getRange();\n            this.openingBracket = new argument_1.Argument(\"[\", vscode_languageserver_types_1.Range.create(argRange.start.line, argRange.start.character, argRange.start.line, argRange.start.character + 1));\n            this.closingBracket = new argument_1.Argument(\"]\", vscode_languageserver_types_1.Range.create(argRange.start.line, argRange.start.character + 1, argRange.end.line, argRange.end.character));\n            return;\n        }\n        else if (args.length === 2 && args[0].getValue() === '[' && args[1].getValue() === ']') {\n            this.openingBracket = args[0];\n            this.closingBracket = args[1];\n            return;\n        }\n        const argsOffset = document.offsetAt(this.getArgumentsRange().start);\n        let start = -1;\n        let last = \"\";\n        let quoted = false;\n        let escapedArg = \"\";\n        argsCheck: for (let i = 0; i < argsContent.length; i++) {\n            let char = argsContent.charAt(i);\n            switch (char) {\n                case '[':\n                    if (last === \"\") {\n                        this.openingBracket = new argument_1.Argument(\"[\", vscode_languageserver_types_1.Range.create(document.positionAt(argsOffset + i), document.positionAt(argsOffset + i + 1)));\n                        last = '[';\n                    }\n                    else if (quoted) {\n                        escapedArg = escapedArg + char;\n                    }\n                    else {\n                        break argsCheck;\n                    }\n                    break;\n                case '\"':\n                    if (last === '[' || last === ',') {\n                        start = i;\n                        quoted = true;\n                        last = '\"';\n                        escapedArg = escapedArg + char;\n                        continue;\n                    }\n                    else if (last === '\"') {\n                        if (quoted) {\n                            escapedArg = escapedArg + char;\n                            // quoted string done\n                            quoted = false;\n                            this.jsonStrings.push(new jsonArgument_1.JSONArgument(escapedArg, vscode_languageserver_types_1.Range.create(document.positionAt(argsOffset + start), document.positionAt(argsOffset + i + 1)), vscode_languageserver_types_1.Range.create(document.positionAt(argsOffset + start + 1), document.positionAt(argsOffset + i))));\n                            escapedArg = \"\";\n                        }\n                        else {\n                            // should be a , or a ]\n                            break argsCheck;\n                        }\n                    }\n                    else {\n                        break argsCheck;\n                    }\n                    break;\n                case ',':\n                    if (quoted) {\n                        escapedArg = escapedArg + char;\n                    }\n                    else {\n                        if (last === '\"') {\n                            last = ',';\n                        }\n                        else {\n                            break argsCheck;\n                        }\n                    }\n                    break;\n                case ']':\n                    if (quoted) {\n                        escapedArg = escapedArg + char;\n                    }\n                    else if (last !== \"\") {\n                        this.closingBracket = new argument_1.Argument(\"]\", vscode_languageserver_types_1.Range.create(document.positionAt(argsOffset + i), document.positionAt(argsOffset + i + 1)));\n                        break argsCheck;\n                    }\n                    break;\n                case ' ':\n                case '\\t':\n                    break;\n                case '\\\\':\n                    if (quoted) {\n                        switch (argsContent.charAt(i + 1)) {\n                            case '\"':\n                            case '\\\\':\n                                escapedArg = escapedArg + argsContent.charAt(i + 1);\n                                i++;\n                                continue;\n                            case ' ':\n                            case '\\t':\n                                escapeCheck: for (let j = i + 2; j < argsContent.length; j++) {\n                                    switch (argsContent.charAt(j)) {\n                                        case '\\r':\n                                            // offset one more for \\r\\n\n                                            j++;\n                                        case '\\n':\n                                            i = j;\n                                            continue argsCheck;\n                                        case ' ':\n                                        case '\\t':\n                                            break;\n                                        default:\n                                            break escapeCheck;\n                                    }\n                                }\n                                break;\n                            case '\\r':\n                                // offset one more for \\r\\n\n                                i++;\n                            default:\n                                i++;\n                                continue;\n                        }\n                    }\n                    else {\n                        escapeCheck: for (let j = i + 1; j < argsContent.length; j++) {\n                            switch (argsContent.charAt(j)) {\n                                case '\\r':\n                                    // offset one more for \\r\\n\n                                    j++;\n                                case '\\n':\n                                    i = j;\n                                    continue argsCheck;\n                                case ' ':\n                                case '\\t':\n                                    break;\n                                default:\n                                    break escapeCheck;\n                            }\n                        }\n                    }\n                    break argsCheck;\n                default:\n                    if (!quoted) {\n                        break argsCheck;\n                    }\n                    escapedArg = escapedArg + char;\n                    break;\n            }\n        }\n    }\n    stopSearchingForFlags(_value) {\n        return true;\n    }\n    getOpeningBracket() {\n        return this.openingBracket;\n    }\n    getJSONStrings() {\n        return this.jsonStrings;\n    }\n    getClosingBracket() {\n        return this.closingBracket;\n    }\n}\nexports.JSONInstruction = JSONInstruction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2pzb25JbnN0cnVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsc0NBQXNDLG1CQUFPLENBQUMscUdBQTZCO0FBQzNFLG1CQUFtQixtQkFBTyxDQUFDLHVFQUFZO0FBQ3ZDLHVCQUF1QixtQkFBTyxDQUFDLCtFQUFnQjtBQUMvQyxnQ0FBZ0MsbUJBQU8sQ0FBQyxpR0FBeUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHdCQUF3QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHdCQUF3QjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvanNvbkluc3RydWN0aW9uLmpzP2ZlMTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkpTT05JbnN0cnVjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xID0gcmVxdWlyZShcInZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlc1wiKTtcbmNvbnN0IGFyZ3VtZW50XzEgPSByZXF1aXJlKFwiLi9hcmd1bWVudFwiKTtcbmNvbnN0IGpzb25Bcmd1bWVudF8xID0gcmVxdWlyZShcIi4vanNvbkFyZ3VtZW50XCIpO1xuY29uc3QgbW9kaWZpYWJsZUluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi9tb2RpZmlhYmxlSW5zdHJ1Y3Rpb25cIik7XG5jbGFzcyBKU09OSW5zdHJ1Y3Rpb24gZXh0ZW5kcyBtb2RpZmlhYmxlSW5zdHJ1Y3Rpb25fMS5Nb2RpZmlhYmxlSW5zdHJ1Y3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50LCByYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgIHRoaXMub3BlbmluZ0JyYWNrZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmNsb3NpbmdCcmFja2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5qc29uU3RyaW5ncyA9IFtdO1xuICAgICAgICBjb25zdCBhcmdzQ29udGVudCA9IHRoaXMuZ2V0UmF3QXJndW1lbnRzQ29udGVudCgpO1xuICAgICAgICBpZiAoYXJnc0NvbnRlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5nZXRBcmd1bWVudHMoKTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0uZ2V0VmFsdWUoKSA9PT0gXCJbXVwiKSB7XG4gICAgICAgICAgICBsZXQgYXJnUmFuZ2UgPSBhcmdzWzBdLmdldFJhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLm9wZW5pbmdCcmFja2V0ID0gbmV3IGFyZ3VtZW50XzEuQXJndW1lbnQoXCJbXCIsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShhcmdSYW5nZS5zdGFydC5saW5lLCBhcmdSYW5nZS5zdGFydC5jaGFyYWN0ZXIsIGFyZ1JhbmdlLnN0YXJ0LmxpbmUsIGFyZ1JhbmdlLnN0YXJ0LmNoYXJhY3RlciArIDEpKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2luZ0JyYWNrZXQgPSBuZXcgYXJndW1lbnRfMS5Bcmd1bWVudChcIl1cIiwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGFyZ1JhbmdlLnN0YXJ0LmxpbmUsIGFyZ1JhbmdlLnN0YXJ0LmNoYXJhY3RlciArIDEsIGFyZ1JhbmdlLmVuZC5saW5lLCBhcmdSYW5nZS5lbmQuY2hhcmFjdGVyKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIgJiYgYXJnc1swXS5nZXRWYWx1ZSgpID09PSAnWycgJiYgYXJnc1sxXS5nZXRWYWx1ZSgpID09PSAnXScpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbmluZ0JyYWNrZXQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgdGhpcy5jbG9zaW5nQnJhY2tldCA9IGFyZ3NbMV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJnc09mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KHRoaXMuZ2V0QXJndW1lbnRzUmFuZ2UoKS5zdGFydCk7XG4gICAgICAgIGxldCBzdGFydCA9IC0xO1xuICAgICAgICBsZXQgbGFzdCA9IFwiXCI7XG4gICAgICAgIGxldCBxdW90ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGVzY2FwZWRBcmcgPSBcIlwiO1xuICAgICAgICBhcmdzQ2hlY2s6IGZvciAobGV0IGkgPSAwOyBpIDwgYXJnc0NvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyID0gYXJnc0NvbnRlbnQuY2hhckF0KGkpO1xuICAgICAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnWyc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5pbmdCcmFja2V0ID0gbmV3IGFyZ3VtZW50XzEuQXJndW1lbnQoXCJbXCIsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KGFyZ3NPZmZzZXQgKyBpKSwgZG9jdW1lbnQucG9zaXRpb25BdChhcmdzT2Zmc2V0ICsgaSArIDEpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gJ1snO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHF1b3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZEFyZyA9IGVzY2FwZWRBcmcgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYXJnc0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3QgPT09ICdbJyB8fCBsYXN0ID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRBcmcgPSBlc2NhcGVkQXJnICsgY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxhc3QgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdW90ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkQXJnID0gZXNjYXBlZEFyZyArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXVvdGVkIHN0cmluZyBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVvdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qc29uU3RyaW5ncy5wdXNoKG5ldyBqc29uQXJndW1lbnRfMS5KU09OQXJndW1lbnQoZXNjYXBlZEFyZywgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoYXJnc09mZnNldCArIHN0YXJ0KSwgZG9jdW1lbnQucG9zaXRpb25BdChhcmdzT2Zmc2V0ICsgaSArIDEpKSwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoYXJnc09mZnNldCArIHN0YXJ0ICsgMSksIGRvY3VtZW50LnBvc2l0aW9uQXQoYXJnc09mZnNldCArIGkpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRBcmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGEgLCBvciBhIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhcmdzQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhcmdzQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnLCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChxdW90ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRBcmcgPSBlc2NhcGVkQXJnICsgY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9ICcsJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGFyZ3NDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICddJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1b3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZEFyZyA9IGVzY2FwZWRBcmcgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxhc3QgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2luZ0JyYWNrZXQgPSBuZXcgYXJndW1lbnRfMS5Bcmd1bWVudChcIl1cIiwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoYXJnc09mZnNldCArIGkpLCBkb2N1bWVudC5wb3NpdGlvbkF0KGFyZ3NPZmZzZXQgKyBpICsgMSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGFyZ3NDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1b3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhcmdzQ29udGVudC5jaGFyQXQoaSArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkQXJnID0gZXNjYXBlZEFyZyArIGFyZ3NDb250ZW50LmNoYXJBdChpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlQ2hlY2s6IGZvciAobGV0IGogPSBpICsgMjsgaiA8IGFyZ3NDb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFyZ3NDb250ZW50LmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBvbmUgbW9yZSBmb3IgXFxyXFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgYXJnc0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGVzY2FwZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBvbmUgbW9yZSBmb3IgXFxyXFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlQ2hlY2s6IGZvciAobGV0IGogPSBpICsgMTsgaiA8IGFyZ3NDb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhcmdzQ29udGVudC5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBvbmUgbW9yZSBmb3IgXFxyXFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGFyZ3NDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGVzY2FwZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhayBhcmdzQ2hlY2s7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFxdW90ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGFyZ3NDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkQXJnID0gZXNjYXBlZEFyZyArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3BTZWFyY2hpbmdGb3JGbGFncyhfdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGdldE9wZW5pbmdCcmFja2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuaW5nQnJhY2tldDtcbiAgICB9XG4gICAgZ2V0SlNPTlN0cmluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb25TdHJpbmdzO1xuICAgIH1cbiAgICBnZXRDbG9zaW5nQnJhY2tldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2luZ0JyYWNrZXQ7XG4gICAgfVxufVxuZXhwb3J0cy5KU09OSW5zdHJ1Y3Rpb24gPSBKU09OSW5zdHJ1Y3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/line.js":
/*!*************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/line.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Line = void 0;\nclass Line {\n    constructor(document, range) {\n        this.document = document;\n        this.range = range;\n    }\n    getRange() {\n        return this.range;\n    }\n    getTextContent() {\n        return this.document.getText().substring(this.document.offsetAt(this.range.start), this.document.offsetAt(this.range.end));\n    }\n    isAfter(line) {\n        return this.range.start.line > line.range.start.line;\n    }\n    isBefore(line) {\n        return this.range.start.line < line;\n    }\n}\nexports.Line = Line;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL2xpbmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvbGluZS5qcz9iMjg0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MaW5lID0gdm9pZCAwO1xuY2xhc3MgTGluZSB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cbiAgICBnZXRSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2U7XG4gICAgfVxuICAgIGdldFRleHRDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodGhpcy5yYW5nZS5zdGFydCksIHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodGhpcy5yYW5nZS5lbmQpKTtcbiAgICB9XG4gICAgaXNBZnRlcihsaW5lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlLnN0YXJ0LmxpbmUgPiBsaW5lLnJhbmdlLnN0YXJ0LmxpbmU7XG4gICAgfVxuICAgIGlzQmVmb3JlKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2Uuc3RhcnQubGluZSA8IGxpbmU7XG4gICAgfVxufVxuZXhwb3J0cy5MaW5lID0gTGluZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/line.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/main.js":
/*!*************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/main.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DockerfileParser = exports.DefaultVariables = exports.Directive = exports.Keyword = exports.Workdir = exports.Volume = exports.User = exports.Stopsignal = exports.Shell = exports.Run = exports.PropertyInstruction = exports.Onbuild = exports.ModifiableInstruction = exports.Label = exports.JSONInstruction = exports.Heredoc = exports.Healthcheck = exports.From = exports.Env = exports.Entrypoint = exports.Copy = exports.Cmd = exports.Arg = exports.Add = exports.Variable = exports.Property = exports.ParserDirective = exports.Line = exports.Instruction = exports.Flag = exports.Comment = exports.JSONArgument = exports.Argument = void 0;\nvar argument_1 = __webpack_require__(/*! ./argument */ \"(rsc)/./node_modules/dockerfile-ast/lib/argument.js\");\nObject.defineProperty(exports, \"Argument\", ({ enumerable: true, get: function () { return argument_1.Argument; } }));\nvar jsonArgument_1 = __webpack_require__(/*! ./jsonArgument */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonArgument.js\");\nObject.defineProperty(exports, \"JSONArgument\", ({ enumerable: true, get: function () { return jsonArgument_1.JSONArgument; } }));\nconst comment_1 = __webpack_require__(/*! ./comment */ \"(rsc)/./node_modules/dockerfile-ast/lib/comment.js\");\nObject.defineProperty(exports, \"Comment\", ({ enumerable: true, get: function () { return comment_1.Comment; } }));\nconst parser_1 = __webpack_require__(/*! ./parser */ \"(rsc)/./node_modules/dockerfile-ast/lib/parser.js\");\nvar flag_1 = __webpack_require__(/*! ./flag */ \"(rsc)/./node_modules/dockerfile-ast/lib/flag.js\");\nObject.defineProperty(exports, \"Flag\", ({ enumerable: true, get: function () { return flag_1.Flag; } }));\nconst instruction_1 = __webpack_require__(/*! ./instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nObject.defineProperty(exports, \"Instruction\", ({ enumerable: true, get: function () { return instruction_1.Instruction; } }));\nvar line_1 = __webpack_require__(/*! ./line */ \"(rsc)/./node_modules/dockerfile-ast/lib/line.js\");\nObject.defineProperty(exports, \"Line\", ({ enumerable: true, get: function () { return line_1.Line; } }));\nconst parserDirective_1 = __webpack_require__(/*! ./parserDirective */ \"(rsc)/./node_modules/dockerfile-ast/lib/parserDirective.js\");\nObject.defineProperty(exports, \"ParserDirective\", ({ enumerable: true, get: function () { return parserDirective_1.ParserDirective; } }));\nvar property_1 = __webpack_require__(/*! ./property */ \"(rsc)/./node_modules/dockerfile-ast/lib/property.js\");\nObject.defineProperty(exports, \"Property\", ({ enumerable: true, get: function () { return property_1.Property; } }));\nvar variable_1 = __webpack_require__(/*! ./variable */ \"(rsc)/./node_modules/dockerfile-ast/lib/variable.js\");\nObject.defineProperty(exports, \"Variable\", ({ enumerable: true, get: function () { return variable_1.Variable; } }));\nvar add_1 = __webpack_require__(/*! ./instructions/add */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/add.js\");\nObject.defineProperty(exports, \"Add\", ({ enumerable: true, get: function () { return add_1.Add; } }));\nconst arg_1 = __webpack_require__(/*! ./instructions/arg */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/arg.js\");\nObject.defineProperty(exports, \"Arg\", ({ enumerable: true, get: function () { return arg_1.Arg; } }));\nconst cmd_1 = __webpack_require__(/*! ./instructions/cmd */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/cmd.js\");\nObject.defineProperty(exports, \"Cmd\", ({ enumerable: true, get: function () { return cmd_1.Cmd; } }));\nconst copy_1 = __webpack_require__(/*! ./instructions/copy */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/copy.js\");\nObject.defineProperty(exports, \"Copy\", ({ enumerable: true, get: function () { return copy_1.Copy; } }));\nconst entrypoint_1 = __webpack_require__(/*! ./instructions/entrypoint */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/entrypoint.js\");\nObject.defineProperty(exports, \"Entrypoint\", ({ enumerable: true, get: function () { return entrypoint_1.Entrypoint; } }));\nconst env_1 = __webpack_require__(/*! ./instructions/env */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/env.js\");\nObject.defineProperty(exports, \"Env\", ({ enumerable: true, get: function () { return env_1.Env; } }));\nconst from_1 = __webpack_require__(/*! ./instructions/from */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/from.js\");\nObject.defineProperty(exports, \"From\", ({ enumerable: true, get: function () { return from_1.From; } }));\nconst healthcheck_1 = __webpack_require__(/*! ./instructions/healthcheck */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/healthcheck.js\");\nObject.defineProperty(exports, \"Healthcheck\", ({ enumerable: true, get: function () { return healthcheck_1.Healthcheck; } }));\nvar heredoc_1 = __webpack_require__(/*! ./heredoc */ \"(rsc)/./node_modules/dockerfile-ast/lib/heredoc.js\");\nObject.defineProperty(exports, \"Heredoc\", ({ enumerable: true, get: function () { return heredoc_1.Heredoc; } }));\nvar jsonInstruction_1 = __webpack_require__(/*! ./jsonInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/jsonInstruction.js\");\nObject.defineProperty(exports, \"JSONInstruction\", ({ enumerable: true, get: function () { return jsonInstruction_1.JSONInstruction; } }));\nvar label_1 = __webpack_require__(/*! ./instructions/label */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/label.js\");\nObject.defineProperty(exports, \"Label\", ({ enumerable: true, get: function () { return label_1.Label; } }));\nvar modifiableInstruction_1 = __webpack_require__(/*! ./modifiableInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/modifiableInstruction.js\");\nObject.defineProperty(exports, \"ModifiableInstruction\", ({ enumerable: true, get: function () { return modifiableInstruction_1.ModifiableInstruction; } }));\nvar onbuild_1 = __webpack_require__(/*! ./instructions/onbuild */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/onbuild.js\");\nObject.defineProperty(exports, \"Onbuild\", ({ enumerable: true, get: function () { return onbuild_1.Onbuild; } }));\nvar propertyInstruction_1 = __webpack_require__(/*! ./propertyInstruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/propertyInstruction.js\");\nObject.defineProperty(exports, \"PropertyInstruction\", ({ enumerable: true, get: function () { return propertyInstruction_1.PropertyInstruction; } }));\nvar run_1 = __webpack_require__(/*! ./instructions/run */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/run.js\");\nObject.defineProperty(exports, \"Run\", ({ enumerable: true, get: function () { return run_1.Run; } }));\nvar shell_1 = __webpack_require__(/*! ./instructions/shell */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/shell.js\");\nObject.defineProperty(exports, \"Shell\", ({ enumerable: true, get: function () { return shell_1.Shell; } }));\nvar stopsignal_1 = __webpack_require__(/*! ./instructions/stopsignal */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/stopsignal.js\");\nObject.defineProperty(exports, \"Stopsignal\", ({ enumerable: true, get: function () { return stopsignal_1.Stopsignal; } }));\nvar user_1 = __webpack_require__(/*! ./instructions/user */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/user.js\");\nObject.defineProperty(exports, \"User\", ({ enumerable: true, get: function () { return user_1.User; } }));\nvar volume_1 = __webpack_require__(/*! ./instructions/volume */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/volume.js\");\nObject.defineProperty(exports, \"Volume\", ({ enumerable: true, get: function () { return volume_1.Volume; } }));\nconst workdir_1 = __webpack_require__(/*! ./instructions/workdir */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/workdir.js\");\nObject.defineProperty(exports, \"Workdir\", ({ enumerable: true, get: function () { return workdir_1.Workdir; } }));\nvar Keyword;\n(function (Keyword) {\n    Keyword[\"ADD\"] = \"ADD\";\n    Keyword[\"ARG\"] = \"ARG\";\n    Keyword[\"CMD\"] = \"CMD\";\n    Keyword[\"COPY\"] = \"COPY\";\n    Keyword[\"ENTRYPOINT\"] = \"ENTRYPOINT\";\n    Keyword[\"ENV\"] = \"ENV\";\n    Keyword[\"EXPOSE\"] = \"EXPOSE\";\n    Keyword[\"FROM\"] = \"FROM\";\n    Keyword[\"HEALTHCHECK\"] = \"HEALTHCHECK\";\n    Keyword[\"LABEL\"] = \"LABEL\";\n    Keyword[\"MAINTAINER\"] = \"MAINTAINER\";\n    Keyword[\"ONBUILD\"] = \"ONBUILD\";\n    Keyword[\"RUN\"] = \"RUN\";\n    Keyword[\"SHELL\"] = \"SHELL\";\n    Keyword[\"STOPSIGNAL\"] = \"STOPSIGNAL\";\n    Keyword[\"USER\"] = \"USER\";\n    Keyword[\"VOLUME\"] = \"VOLUME\";\n    Keyword[\"WORKDIR\"] = \"WORKDIR\";\n})(Keyword || (exports.Keyword = Keyword = {}));\nvar Directive;\n(function (Directive) {\n    Directive[\"escape\"] = \"escape\";\n    Directive[\"syntax\"] = \"syntax\";\n})(Directive || (exports.Directive = Directive = {}));\nexports.DefaultVariables = [\n    \"ALL_PROXY\", \"all_proxy\",\n    \"FTP_PROXY\", \"ftp_proxy\",\n    \"HTTP_PROXY\", \"http_proxy\",\n    \"HTTPS_PROXY\", \"https_proxy\",\n    \"NO_PROXY\", \"no_proxy\"\n];\nvar DockerfileParser;\n(function (DockerfileParser) {\n    function parse(content) {\n        let parser = new parser_1.Parser();\n        return parser.parse(content);\n    }\n    DockerfileParser.parse = parse;\n})(DockerfileParser || (exports.DockerfileParser = DockerfileParser = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL21haW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsd0JBQXdCLEdBQUcsaUJBQWlCLEdBQUcsZUFBZSxHQUFHLGVBQWUsR0FBRyxjQUFjLEdBQUcsWUFBWSxHQUFHLGtCQUFrQixHQUFHLGFBQWEsR0FBRyxXQUFXLEdBQUcsMkJBQTJCLEdBQUcsZUFBZSxHQUFHLDZCQUE2QixHQUFHLGFBQWEsR0FBRyx1QkFBdUIsR0FBRyxlQUFlLEdBQUcsbUJBQW1CLEdBQUcsWUFBWSxHQUFHLFdBQVcsR0FBRyxrQkFBa0IsR0FBRyxZQUFZLEdBQUcsV0FBVyxHQUFHLFdBQVcsR0FBRyxXQUFXLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsdUJBQXVCLEdBQUcsWUFBWSxHQUFHLG1CQUFtQixHQUFHLFlBQVksR0FBRyxlQUFlLEdBQUcsb0JBQW9CLEdBQUcsZ0JBQWdCO0FBQzNuQixpQkFBaUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUNyQyw0Q0FBMkMsRUFBRSxxQ0FBcUMsK0JBQStCLEVBQUM7QUFDbEgscUJBQXFCLG1CQUFPLENBQUMsK0VBQWdCO0FBQzdDLGdEQUErQyxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUM5SCxrQkFBa0IsbUJBQU8sQ0FBQyxxRUFBVztBQUNyQywyQ0FBMEMsRUFBRSxxQ0FBcUMsNkJBQTZCLEVBQUM7QUFDL0csaUJBQWlCLG1CQUFPLENBQUMsbUVBQVU7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLCtEQUFRO0FBQzdCLHdDQUF1QyxFQUFFLHFDQUFxQyx1QkFBdUIsRUFBQztBQUN0RyxzQkFBc0IsbUJBQU8sQ0FBQyw2RUFBZTtBQUM3QywrQ0FBOEMsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDM0gsYUFBYSxtQkFBTyxDQUFDLCtEQUFRO0FBQzdCLHdDQUF1QyxFQUFFLHFDQUFxQyx1QkFBdUIsRUFBQztBQUN0RywwQkFBMEIsbUJBQU8sQ0FBQyxxRkFBbUI7QUFDckQsbURBQWtELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQ3ZJLGlCQUFpQixtQkFBTyxDQUFDLHVFQUFZO0FBQ3JDLDRDQUEyQyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNsSCxpQkFBaUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUNyQyw0Q0FBMkMsRUFBRSxxQ0FBcUMsK0JBQStCLEVBQUM7QUFDbEgsWUFBWSxtQkFBTyxDQUFDLHVGQUFvQjtBQUN4Qyx1Q0FBc0MsRUFBRSxxQ0FBcUMscUJBQXFCLEVBQUM7QUFDbkcsY0FBYyxtQkFBTyxDQUFDLHVGQUFvQjtBQUMxQyx1Q0FBc0MsRUFBRSxxQ0FBcUMscUJBQXFCLEVBQUM7QUFDbkcsY0FBYyxtQkFBTyxDQUFDLHVGQUFvQjtBQUMxQyx1Q0FBc0MsRUFBRSxxQ0FBcUMscUJBQXFCLEVBQUM7QUFDbkcsZUFBZSxtQkFBTyxDQUFDLHlGQUFxQjtBQUM1Qyx3Q0FBdUMsRUFBRSxxQ0FBcUMsdUJBQXVCLEVBQUM7QUFDdEcscUJBQXFCLG1CQUFPLENBQUMscUdBQTJCO0FBQ3hELDhDQUE2QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN4SCxjQUFjLG1CQUFPLENBQUMsdUZBQW9CO0FBQzFDLHVDQUFzQyxFQUFFLHFDQUFxQyxxQkFBcUIsRUFBQztBQUNuRyxlQUFlLG1CQUFPLENBQUMseUZBQXFCO0FBQzVDLHdDQUF1QyxFQUFFLHFDQUFxQyx1QkFBdUIsRUFBQztBQUN0RyxzQkFBc0IsbUJBQU8sQ0FBQyx1R0FBNEI7QUFDMUQsK0NBQThDLEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQzNILGdCQUFnQixtQkFBTyxDQUFDLHFFQUFXO0FBQ25DLDJDQUEwQyxFQUFFLHFDQUFxQyw2QkFBNkIsRUFBQztBQUMvRyx3QkFBd0IsbUJBQU8sQ0FBQyxxRkFBbUI7QUFDbkQsbURBQWtELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQ3ZJLGNBQWMsbUJBQU8sQ0FBQywyRkFBc0I7QUFDNUMseUNBQXdDLEVBQUUscUNBQXFDLHlCQUF5QixFQUFDO0FBQ3pHLDhCQUE4QixtQkFBTyxDQUFDLGlHQUF5QjtBQUMvRCx5REFBd0QsRUFBRSxxQ0FBcUMseURBQXlELEVBQUM7QUFDekosZ0JBQWdCLG1CQUFPLENBQUMsK0ZBQXdCO0FBQ2hELDJDQUEwQyxFQUFFLHFDQUFxQyw2QkFBNkIsRUFBQztBQUMvRyw0QkFBNEIsbUJBQU8sQ0FBQyw2RkFBdUI7QUFDM0QsdURBQXNELEVBQUUscUNBQXFDLHFEQUFxRCxFQUFDO0FBQ25KLFlBQVksbUJBQU8sQ0FBQyx1RkFBb0I7QUFDeEMsdUNBQXNDLEVBQUUscUNBQXFDLHFCQUFxQixFQUFDO0FBQ25HLGNBQWMsbUJBQU8sQ0FBQywyRkFBc0I7QUFDNUMseUNBQXdDLEVBQUUscUNBQXFDLHlCQUF5QixFQUFDO0FBQ3pHLG1CQUFtQixtQkFBTyxDQUFDLHFHQUEyQjtBQUN0RCw4Q0FBNkMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDeEgsYUFBYSxtQkFBTyxDQUFDLHlGQUFxQjtBQUMxQyx3Q0FBdUMsRUFBRSxxQ0FBcUMsdUJBQXVCLEVBQUM7QUFDdEcsZUFBZSxtQkFBTyxDQUFDLDZGQUF1QjtBQUM5QywwQ0FBeUMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDNUcsa0JBQWtCLG1CQUFPLENBQUMsK0ZBQXdCO0FBQ2xELDJDQUEwQyxFQUFFLHFDQUFxQyw2QkFBNkIsRUFBQztBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxjQUFjLGVBQWUsZUFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0JBQWdCLGlCQUFpQixpQkFBaUI7QUFDbkQsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1QkFBdUIsd0JBQXdCLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL2RvY2tlcmZpbGUtYXN0L2xpYi9tYWluLmpzPzEwOTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRvY2tlcmZpbGVQYXJzZXIgPSBleHBvcnRzLkRlZmF1bHRWYXJpYWJsZXMgPSBleHBvcnRzLkRpcmVjdGl2ZSA9IGV4cG9ydHMuS2V5d29yZCA9IGV4cG9ydHMuV29ya2RpciA9IGV4cG9ydHMuVm9sdW1lID0gZXhwb3J0cy5Vc2VyID0gZXhwb3J0cy5TdG9wc2lnbmFsID0gZXhwb3J0cy5TaGVsbCA9IGV4cG9ydHMuUnVuID0gZXhwb3J0cy5Qcm9wZXJ0eUluc3RydWN0aW9uID0gZXhwb3J0cy5PbmJ1aWxkID0gZXhwb3J0cy5Nb2RpZmlhYmxlSW5zdHJ1Y3Rpb24gPSBleHBvcnRzLkxhYmVsID0gZXhwb3J0cy5KU09OSW5zdHJ1Y3Rpb24gPSBleHBvcnRzLkhlcmVkb2MgPSBleHBvcnRzLkhlYWx0aGNoZWNrID0gZXhwb3J0cy5Gcm9tID0gZXhwb3J0cy5FbnYgPSBleHBvcnRzLkVudHJ5cG9pbnQgPSBleHBvcnRzLkNvcHkgPSBleHBvcnRzLkNtZCA9IGV4cG9ydHMuQXJnID0gZXhwb3J0cy5BZGQgPSBleHBvcnRzLlZhcmlhYmxlID0gZXhwb3J0cy5Qcm9wZXJ0eSA9IGV4cG9ydHMuUGFyc2VyRGlyZWN0aXZlID0gZXhwb3J0cy5MaW5lID0gZXhwb3J0cy5JbnN0cnVjdGlvbiA9IGV4cG9ydHMuRmxhZyA9IGV4cG9ydHMuQ29tbWVudCA9IGV4cG9ydHMuSlNPTkFyZ3VtZW50ID0gZXhwb3J0cy5Bcmd1bWVudCA9IHZvaWQgMDtcbnZhciBhcmd1bWVudF8xID0gcmVxdWlyZShcIi4vYXJndW1lbnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBcmd1bWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRfMS5Bcmd1bWVudDsgfSB9KTtcbnZhciBqc29uQXJndW1lbnRfMSA9IHJlcXVpcmUoXCIuL2pzb25Bcmd1bWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkpTT05Bcmd1bWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4ganNvbkFyZ3VtZW50XzEuSlNPTkFyZ3VtZW50OyB9IH0pO1xuY29uc3QgY29tbWVudF8xID0gcmVxdWlyZShcIi4vY29tbWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNvbW1lbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbW1lbnRfMS5Db21tZW50OyB9IH0pO1xuY29uc3QgcGFyc2VyXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJcIik7XG52YXIgZmxhZ18xID0gcmVxdWlyZShcIi4vZmxhZ1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZsYWdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZsYWdfMS5GbGFnOyB9IH0pO1xuY29uc3QgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSW5zdHJ1Y3Rpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RydWN0aW9uXzEuSW5zdHJ1Y3Rpb247IH0gfSk7XG52YXIgbGluZV8xID0gcmVxdWlyZShcIi4vbGluZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxpbmVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxpbmVfMS5MaW5lOyB9IH0pO1xuY29uc3QgcGFyc2VyRGlyZWN0aXZlXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJEaXJlY3RpdmVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYXJzZXJEaXJlY3RpdmVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhcnNlckRpcmVjdGl2ZV8xLlBhcnNlckRpcmVjdGl2ZTsgfSB9KTtcbnZhciBwcm9wZXJ0eV8xID0gcmVxdWlyZShcIi4vcHJvcGVydHlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQcm9wZXJ0eVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvcGVydHlfMS5Qcm9wZXJ0eTsgfSB9KTtcbnZhciB2YXJpYWJsZV8xID0gcmVxdWlyZShcIi4vdmFyaWFibGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJWYXJpYWJsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFyaWFibGVfMS5WYXJpYWJsZTsgfSB9KTtcbnZhciBhZGRfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9hZGRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBZGRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkZF8xLkFkZDsgfSB9KTtcbmNvbnN0IGFyZ18xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2FyZ1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkFyZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJnXzEuQXJnOyB9IH0pO1xuY29uc3QgY21kXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvY21kXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ21kXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbWRfMS5DbWQ7IH0gfSk7XG5jb25zdCBjb3B5XzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvY29weVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNvcHlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvcHlfMS5Db3B5OyB9IH0pO1xuY29uc3QgZW50cnlwb2ludF8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2VudHJ5cG9pbnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFbnRyeXBvaW50XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbnRyeXBvaW50XzEuRW50cnlwb2ludDsgfSB9KTtcbmNvbnN0IGVudl8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2VudlwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkVudlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZW52XzEuRW52OyB9IH0pO1xuY29uc3QgZnJvbV8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2Zyb21cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJGcm9tXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tXzEuRnJvbTsgfSB9KTtcbmNvbnN0IGhlYWx0aGNoZWNrXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvaGVhbHRoY2hlY2tcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIZWFsdGhjaGVja1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGVhbHRoY2hlY2tfMS5IZWFsdGhjaGVjazsgfSB9KTtcbnZhciBoZXJlZG9jXzEgPSByZXF1aXJlKFwiLi9oZXJlZG9jXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSGVyZWRvY1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGVyZWRvY18xLkhlcmVkb2M7IH0gfSk7XG52YXIganNvbkluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi9qc29uSW5zdHJ1Y3Rpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJKU09OSW5zdHJ1Y3Rpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGpzb25JbnN0cnVjdGlvbl8xLkpTT05JbnN0cnVjdGlvbjsgfSB9KTtcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2xhYmVsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTGFiZWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsXzEuTGFiZWw7IH0gfSk7XG52YXIgbW9kaWZpYWJsZUluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi9tb2RpZmlhYmxlSW5zdHJ1Y3Rpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNb2RpZmlhYmxlSW5zdHJ1Y3Rpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1vZGlmaWFibGVJbnN0cnVjdGlvbl8xLk1vZGlmaWFibGVJbnN0cnVjdGlvbjsgfSB9KTtcbnZhciBvbmJ1aWxkXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvb25idWlsZFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk9uYnVpbGRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uYnVpbGRfMS5PbmJ1aWxkOyB9IH0pO1xudmFyIHByb3BlcnR5SW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5SW5zdHJ1Y3Rpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQcm9wZXJ0eUluc3RydWN0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wZXJ0eUluc3RydWN0aW9uXzEuUHJvcGVydHlJbnN0cnVjdGlvbjsgfSB9KTtcbnZhciBydW5fMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9ydW5cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSdW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ1bl8xLlJ1bjsgfSB9KTtcbnZhciBzaGVsbF8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL3NoZWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2hlbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoZWxsXzEuU2hlbGw7IH0gfSk7XG52YXIgc3RvcHNpZ25hbF8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL3N0b3BzaWduYWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdG9wc2lnbmFsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9wc2lnbmFsXzEuU3RvcHNpZ25hbDsgfSB9KTtcbnZhciB1c2VyXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvdXNlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlVzZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZXJfMS5Vc2VyOyB9IH0pO1xudmFyIHZvbHVtZV8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL3ZvbHVtZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZvbHVtZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdm9sdW1lXzEuVm9sdW1lOyB9IH0pO1xuY29uc3Qgd29ya2Rpcl8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL3dvcmtkaXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJXb3JrZGlyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3b3JrZGlyXzEuV29ya2RpcjsgfSB9KTtcbnZhciBLZXl3b3JkO1xuKGZ1bmN0aW9uIChLZXl3b3JkKSB7XG4gICAgS2V5d29yZFtcIkFERFwiXSA9IFwiQUREXCI7XG4gICAgS2V5d29yZFtcIkFSR1wiXSA9IFwiQVJHXCI7XG4gICAgS2V5d29yZFtcIkNNRFwiXSA9IFwiQ01EXCI7XG4gICAgS2V5d29yZFtcIkNPUFlcIl0gPSBcIkNPUFlcIjtcbiAgICBLZXl3b3JkW1wiRU5UUllQT0lOVFwiXSA9IFwiRU5UUllQT0lOVFwiO1xuICAgIEtleXdvcmRbXCJFTlZcIl0gPSBcIkVOVlwiO1xuICAgIEtleXdvcmRbXCJFWFBPU0VcIl0gPSBcIkVYUE9TRVwiO1xuICAgIEtleXdvcmRbXCJGUk9NXCJdID0gXCJGUk9NXCI7XG4gICAgS2V5d29yZFtcIkhFQUxUSENIRUNLXCJdID0gXCJIRUFMVEhDSEVDS1wiO1xuICAgIEtleXdvcmRbXCJMQUJFTFwiXSA9IFwiTEFCRUxcIjtcbiAgICBLZXl3b3JkW1wiTUFJTlRBSU5FUlwiXSA9IFwiTUFJTlRBSU5FUlwiO1xuICAgIEtleXdvcmRbXCJPTkJVSUxEXCJdID0gXCJPTkJVSUxEXCI7XG4gICAgS2V5d29yZFtcIlJVTlwiXSA9IFwiUlVOXCI7XG4gICAgS2V5d29yZFtcIlNIRUxMXCJdID0gXCJTSEVMTFwiO1xuICAgIEtleXdvcmRbXCJTVE9QU0lHTkFMXCJdID0gXCJTVE9QU0lHTkFMXCI7XG4gICAgS2V5d29yZFtcIlVTRVJcIl0gPSBcIlVTRVJcIjtcbiAgICBLZXl3b3JkW1wiVk9MVU1FXCJdID0gXCJWT0xVTUVcIjtcbiAgICBLZXl3b3JkW1wiV09SS0RJUlwiXSA9IFwiV09SS0RJUlwiO1xufSkoS2V5d29yZCB8fCAoZXhwb3J0cy5LZXl3b3JkID0gS2V5d29yZCA9IHt9KSk7XG52YXIgRGlyZWN0aXZlO1xuKGZ1bmN0aW9uIChEaXJlY3RpdmUpIHtcbiAgICBEaXJlY3RpdmVbXCJlc2NhcGVcIl0gPSBcImVzY2FwZVwiO1xuICAgIERpcmVjdGl2ZVtcInN5bnRheFwiXSA9IFwic3ludGF4XCI7XG59KShEaXJlY3RpdmUgfHwgKGV4cG9ydHMuRGlyZWN0aXZlID0gRGlyZWN0aXZlID0ge30pKTtcbmV4cG9ydHMuRGVmYXVsdFZhcmlhYmxlcyA9IFtcbiAgICBcIkFMTF9QUk9YWVwiLCBcImFsbF9wcm94eVwiLFxuICAgIFwiRlRQX1BST1hZXCIsIFwiZnRwX3Byb3h5XCIsXG4gICAgXCJIVFRQX1BST1hZXCIsIFwiaHR0cF9wcm94eVwiLFxuICAgIFwiSFRUUFNfUFJPWFlcIiwgXCJodHRwc19wcm94eVwiLFxuICAgIFwiTk9fUFJPWFlcIiwgXCJub19wcm94eVwiXG5dO1xudmFyIERvY2tlcmZpbGVQYXJzZXI7XG4oZnVuY3Rpb24gKERvY2tlcmZpbGVQYXJzZXIpIHtcbiAgICBmdW5jdGlvbiBwYXJzZShjb250ZW50KSB7XG4gICAgICAgIGxldCBwYXJzZXIgPSBuZXcgcGFyc2VyXzEuUGFyc2VyKCk7XG4gICAgICAgIHJldHVybiBwYXJzZXIucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIERvY2tlcmZpbGVQYXJzZXIucGFyc2UgPSBwYXJzZTtcbn0pKERvY2tlcmZpbGVQYXJzZXIgfHwgKGV4cG9ydHMuRG9ja2VyZmlsZVBhcnNlciA9IERvY2tlcmZpbGVQYXJzZXIgPSB7fSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/main.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/modifiableInstruction.js":
/*!******************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/modifiableInstruction.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ModifiableInstruction = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst flag_1 = __webpack_require__(/*! ./flag */ \"(rsc)/./node_modules/dockerfile-ast/lib/flag.js\");\nconst instruction_1 = __webpack_require__(/*! ./instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nclass ModifiableInstruction extends instruction_1.Instruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    getFlags() {\n        if (!this.flags) {\n            this.flags = [];\n            for (let arg of this.getArguments()) {\n                let value = arg.getValue();\n                if (this.stopSearchingForFlags(value)) {\n                    return this.flags;\n                }\n                else if (value.indexOf(\"--\") === 0) {\n                    let range = arg.getRange();\n                    let rawValue = this.document.getText().substring(this.document.offsetAt(range.start), this.document.offsetAt(range.end));\n                    let nameIndex = value.indexOf('=');\n                    let index = rawValue.indexOf('=');\n                    let firstMatch = false;\n                    let secondMatch = false;\n                    let startIndex = -1;\n                    nameSearchLoop: for (let i = 0; i < rawValue.length; i++) {\n                        switch (rawValue.charAt(i)) {\n                            case '\\\\':\n                            case ' ':\n                            case '\\t':\n                            case '\\r':\n                            case '\\n':\n                                break;\n                            case '-':\n                                if (secondMatch) {\n                                    startIndex = i;\n                                    break nameSearchLoop;\n                                }\n                                else if (firstMatch) {\n                                    secondMatch = true;\n                                }\n                                else {\n                                    firstMatch = true;\n                                }\n                                break;\n                            default:\n                                startIndex = i;\n                                break nameSearchLoop;\n                        }\n                    }\n                    let nameStart = this.document.positionAt(this.document.offsetAt(range.start) + startIndex);\n                    if (index === -1) {\n                        this.flags.push(new flag_1.Flag(this.document, range, value.substring(2), vscode_languageserver_types_1.Range.create(nameStart, range.end), null, null));\n                    }\n                    else if (index === value.length - 1) {\n                        let nameEnd = this.document.positionAt(this.document.offsetAt(range.start) + index);\n                        this.flags.push(new flag_1.Flag(this.document, range, value.substring(2, index), vscode_languageserver_types_1.Range.create(nameStart, nameEnd), \"\", vscode_languageserver_types_1.Range.create(range.end, range.end)));\n                    }\n                    else {\n                        let nameEnd = this.document.positionAt(this.document.offsetAt(range.start) + index);\n                        this.flags.push(new flag_1.Flag(this.document, range, value.substring(2, nameIndex), vscode_languageserver_types_1.Range.create(nameStart, nameEnd), value.substring(nameIndex + 1), vscode_languageserver_types_1.Range.create(this.document.positionAt(this.document.offsetAt(range.start) + index + 1), range.end)));\n                    }\n                }\n            }\n        }\n        return this.flags;\n    }\n    getArguments() {\n        const args = super.getArguments();\n        const flags = this.getFlags();\n        if (flags.length === 0) {\n            return args;\n        }\n        for (let i = 0; i < flags.length; i++) {\n            args.shift();\n        }\n        return args;\n    }\n}\nexports.ModifiableInstruction = ModifiableInstruction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL21vZGlmaWFibGVJbnN0cnVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0Isc0NBQXNDLG1CQUFPLENBQUMscUdBQTZCO0FBQzNFLGVBQWUsbUJBQU8sQ0FBQywrREFBUTtBQUMvQixzQkFBc0IsbUJBQU8sQ0FBQyw2RUFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFCQUFxQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtCQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL21vZGlmaWFibGVJbnN0cnVjdGlvbi5qcz9hM2M5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Nb2RpZmlhYmxlSW5zdHJ1Y3Rpb24gPSB2b2lkIDA7XG5jb25zdCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMSA9IHJlcXVpcmUoXCJ2c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXNcIik7XG5jb25zdCBmbGFnXzEgPSByZXF1aXJlKFwiLi9mbGFnXCIpO1xuY29uc3QgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9uXCIpO1xuY2xhc3MgTW9kaWZpYWJsZUluc3RydWN0aW9uIGV4dGVuZHMgaW5zdHJ1Y3Rpb25fMS5JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgZ2V0RmxhZ3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5mbGFncykge1xuICAgICAgICAgICAgdGhpcy5mbGFncyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgYXJnIG9mIHRoaXMuZ2V0QXJndW1lbnRzKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBhcmcuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9wU2VhcmNoaW5nRm9yRmxhZ3ModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZsYWdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5pbmRleE9mKFwiLS1cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gYXJnLmdldFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCByYXdWYWx1ZSA9IHRoaXMuZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cmluZyh0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJhbmdlLnN0YXJ0KSwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5lbmQpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWVJbmRleCA9IHZhbHVlLmluZGV4T2YoJz0nKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gcmF3VmFsdWUuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlyc3RNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZVNlYXJjaExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgcmF3VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmF3VmFsdWUuY2hhckF0KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgbmFtZVNlYXJjaExvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlyc3RNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIG5hbWVTZWFyY2hMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lU3RhcnQgPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQodGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCkgKyBzdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFncy5wdXNoKG5ldyBmbGFnXzEuRmxhZyh0aGlzLmRvY3VtZW50LCByYW5nZSwgdmFsdWUuc3Vic3RyaW5nKDIpLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUobmFtZVN0YXJ0LCByYW5nZS5lbmQpLCBudWxsLCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5kZXggPT09IHZhbHVlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lRW5kID0gdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFncy5wdXNoKG5ldyBmbGFnXzEuRmxhZyh0aGlzLmRvY3VtZW50LCByYW5nZSwgdmFsdWUuc3Vic3RyaW5nKDIsIGluZGV4KSwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKG5hbWVTdGFydCwgbmFtZUVuZCksIFwiXCIsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShyYW5nZS5lbmQsIHJhbmdlLmVuZCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lRW5kID0gdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFncy5wdXNoKG5ldyBmbGFnXzEuRmxhZyh0aGlzLmRvY3VtZW50LCByYW5nZSwgdmFsdWUuc3Vic3RyaW5nKDIsIG5hbWVJbmRleCksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZShuYW1lU3RhcnQsIG5hbWVFbmQpLCB2YWx1ZS5zdWJzdHJpbmcobmFtZUluZGV4ICsgMSksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQodGhpcy5kb2N1bWVudC5vZmZzZXRBdChyYW5nZS5zdGFydCkgKyBpbmRleCArIDEpLCByYW5nZS5lbmQpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhZ3M7XG4gICAgfVxuICAgIGdldEFyZ3VtZW50cygpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHN1cGVyLmdldEFyZ3VtZW50cygpO1xuICAgICAgICBjb25zdCBmbGFncyA9IHRoaXMuZ2V0RmxhZ3MoKTtcbiAgICAgICAgaWYgKGZsYWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH1cbn1cbmV4cG9ydHMuTW9kaWZpYWJsZUluc3RydWN0aW9uID0gTW9kaWZpYWJsZUluc3RydWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/modifiableInstruction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/parser.js":
/*!***************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/parser.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/* --------------------------------------------------------------------------------------------\n * Copyright (c) Remy Suen. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parser = void 0;\nconst vscode_languageserver_textdocument_1 = __webpack_require__(/*! vscode-languageserver-textdocument */ \"(rsc)/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js\");\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst comment_1 = __webpack_require__(/*! ./comment */ \"(rsc)/./node_modules/dockerfile-ast/lib/comment.js\");\nconst parserDirective_1 = __webpack_require__(/*! ./parserDirective */ \"(rsc)/./node_modules/dockerfile-ast/lib/parserDirective.js\");\nconst instruction_1 = __webpack_require__(/*! ./instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nconst add_1 = __webpack_require__(/*! ./instructions/add */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/add.js\");\nconst arg_1 = __webpack_require__(/*! ./instructions/arg */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/arg.js\");\nconst cmd_1 = __webpack_require__(/*! ./instructions/cmd */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/cmd.js\");\nconst copy_1 = __webpack_require__(/*! ./instructions/copy */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/copy.js\");\nconst env_1 = __webpack_require__(/*! ./instructions/env */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/env.js\");\nconst entrypoint_1 = __webpack_require__(/*! ./instructions/entrypoint */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/entrypoint.js\");\nconst from_1 = __webpack_require__(/*! ./instructions/from */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/from.js\");\nconst healthcheck_1 = __webpack_require__(/*! ./instructions/healthcheck */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/healthcheck.js\");\nconst label_1 = __webpack_require__(/*! ./instructions/label */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/label.js\");\nconst onbuild_1 = __webpack_require__(/*! ./instructions/onbuild */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/onbuild.js\");\nconst run_1 = __webpack_require__(/*! ./instructions/run */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/run.js\");\nconst shell_1 = __webpack_require__(/*! ./instructions/shell */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/shell.js\");\nconst stopsignal_1 = __webpack_require__(/*! ./instructions/stopsignal */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/stopsignal.js\");\nconst workdir_1 = __webpack_require__(/*! ./instructions/workdir */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/workdir.js\");\nconst user_1 = __webpack_require__(/*! ./instructions/user */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/user.js\");\nconst volume_1 = __webpack_require__(/*! ./instructions/volume */ \"(rsc)/./node_modules/dockerfile-ast/lib/instructions/volume.js\");\nconst dockerfile_1 = __webpack_require__(/*! ./dockerfile */ \"(rsc)/./node_modules/dockerfile-ast/lib/dockerfile.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nconst main_1 = __webpack_require__(/*! ./main */ \"(rsc)/./node_modules/dockerfile-ast/lib/main.js\");\nclass Parser {\n    constructor() {\n        this.escapeChar = null;\n    }\n    static createInstruction(document, dockerfile, escapeChar, lineRange, instruction, instructionRange) {\n        switch (instruction.toUpperCase()) {\n            case \"ADD\":\n                return new add_1.Add(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"ARG\":\n                return new arg_1.Arg(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"CMD\":\n                return new cmd_1.Cmd(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"COPY\":\n                return new copy_1.Copy(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"ENTRYPOINT\":\n                return new entrypoint_1.Entrypoint(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"ENV\":\n                return new env_1.Env(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"FROM\":\n                return new from_1.From(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"HEALTHCHECK\":\n                return new healthcheck_1.Healthcheck(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"LABEL\":\n                return new label_1.Label(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"ONBUILD\":\n                return new onbuild_1.Onbuild(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"RUN\":\n                return new run_1.Run(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"SHELL\":\n                return new shell_1.Shell(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"STOPSIGNAL\":\n                return new stopsignal_1.Stopsignal(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"WORKDIR\":\n                return new workdir_1.Workdir(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"USER\":\n                return new user_1.User(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n            case \"VOLUME\":\n                return new volume_1.Volume(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n        }\n        return new instruction_1.Instruction(document, lineRange, dockerfile, escapeChar, instruction, instructionRange);\n    }\n    getParserDirectives(document, buffer) {\n        // reset the escape directive in between runs\n        const directives = [];\n        this.escapeChar = '';\n        const offset = util_1.Util.isUTF8BOM(buffer.substring(0, 1)) ? 1 : 0;\n        directiveCheck: for (let i = offset; i < buffer.length; i++) {\n            switch (buffer.charAt(i)) {\n                case ' ':\n                case '\\t':\n                    break;\n                case '\\r':\n                case '\\n':\n                    // blank lines stop the parsing of directives immediately\n                    break directiveCheck;\n                case '#':\n                    let directiveStart = -1;\n                    let directiveEnd = -1;\n                    for (let j = i + 1; j < buffer.length; j++) {\n                        let char = buffer.charAt(j);\n                        switch (char) {\n                            case ' ':\n                            case '\\t':\n                                if (directiveStart !== -1 && directiveEnd === -1) {\n                                    directiveEnd = j;\n                                }\n                                break;\n                            case '\\r':\n                            case '\\n':\n                                break directiveCheck;\n                            case '=':\n                                let valueStart = -1;\n                                let valueEnd = -1;\n                                if (directiveEnd === -1) {\n                                    directiveEnd = j;\n                                }\n                                // assume the line ends with the file\n                                let lineEnd = buffer.length;\n                                directiveValue: for (let k = j + 1; k < buffer.length; k++) {\n                                    char = buffer.charAt(k);\n                                    switch (char) {\n                                        case '\\r':\n                                        case '\\n':\n                                            if (valueStart !== -1 && valueEnd === -1) {\n                                                valueEnd = k;\n                                            }\n                                            // line break found, reset\n                                            lineEnd = k;\n                                            break directiveValue;\n                                        case '\\t':\n                                        case ' ':\n                                            if (valueStart !== -1 && valueEnd === -1) {\n                                                valueEnd = k;\n                                            }\n                                            continue;\n                                        default:\n                                            if (valueStart === -1) {\n                                                valueStart = k;\n                                            }\n                                            break;\n                                    }\n                                }\n                                if (directiveStart === -1) {\n                                    // no directive, it's a regular comment\n                                    break directiveCheck;\n                                }\n                                if (valueStart === -1) {\n                                    // no non-whitespace characters found, highlight all the characters then\n                                    valueStart = j + 1;\n                                    valueEnd = lineEnd;\n                                }\n                                else if (valueEnd === -1) {\n                                    // reached EOF\n                                    valueEnd = buffer.length;\n                                }\n                                const lineRange = vscode_languageserver_types_1.Range.create(document.positionAt(i), document.positionAt(lineEnd));\n                                const nameRange = vscode_languageserver_types_1.Range.create(document.positionAt(directiveStart), document.positionAt(directiveEnd));\n                                const valueRange = vscode_languageserver_types_1.Range.create(document.positionAt(valueStart), document.positionAt(valueEnd));\n                                directives.push(new parserDirective_1.ParserDirective(document, lineRange, nameRange, valueRange));\n                                directiveStart = -1;\n                                if (buffer.charAt(valueEnd) === '\\r') {\n                                    // skip over the \\r\n                                    i = valueEnd + 1;\n                                }\n                                else {\n                                    i = valueEnd;\n                                }\n                                continue directiveCheck;\n                            default:\n                                if (directiveStart === -1) {\n                                    directiveStart = j;\n                                }\n                                break;\n                        }\n                    }\n                    break;\n                default:\n                    break directiveCheck;\n            }\n        }\n        return directives;\n    }\n    parse(buffer) {\n        this.document = vscode_languageserver_textdocument_1.TextDocument.create(\"\", \"\", 0, buffer);\n        this.buffer = buffer;\n        let dockerfile = new dockerfile_1.Dockerfile(this.document);\n        let directives = this.getParserDirectives(this.document, this.buffer);\n        let offset = 0;\n        this.escapeChar = '\\\\';\n        if (directives.length > 0) {\n            dockerfile.setDirectives(directives);\n            this.escapeChar = dockerfile.getEscapeCharacter();\n            // start parsing after the directives\n            offset = this.document.offsetAt(vscode_languageserver_types_1.Position.create(directives.length, 0));\n        }\n        else if (util_1.Util.isUTF8BOM(buffer.substring(0, 1))) {\n            offset = 1;\n        }\n        for (let i = offset; i < this.buffer.length; i++) {\n            const char = this.buffer.charAt(i);\n            switch (char) {\n                case ' ':\n                case '\\t':\n                case '\\r':\n                case '\\n':\n                    break;\n                case '#':\n                    i = this.processComment(dockerfile, i);\n                    break;\n                default:\n                    i = this.processInstruction(dockerfile, char, i);\n                    break;\n            }\n        }\n        dockerfile.organizeComments();\n        return dockerfile;\n    }\n    processInstruction(dockerfile, char, start) {\n        let instruction = char;\n        let instructionEnd = -1;\n        let escapedInstruction = false;\n        instructionCheck: for (let i = start + 1; i < this.buffer.length; i++) {\n            char = this.buffer.charAt(i);\n            switch (char) {\n                case this.escapeChar:\n                    escapedInstruction = true;\n                    char = this.buffer.charAt(i + 1);\n                    if (char === '\\r' || char === '\\n') {\n                        if (instructionEnd === -1) {\n                            instructionEnd = i;\n                        }\n                        i++;\n                    }\n                    else if (char === ' ' || char === '\\t') {\n                        for (let j = i + 2; j < this.buffer.length; j++) {\n                            switch (this.buffer.charAt(j)) {\n                                case ' ':\n                                case '\\t':\n                                    break;\n                                case '\\r':\n                                case '\\n':\n                                    i = j;\n                                    continue instructionCheck;\n                                default:\n                                    // found an argument, mark end of instruction\n                                    instructionEnd = i + 1;\n                                    instruction = instruction + this.escapeChar;\n                                    i = j - 2;\n                                    continue instructionCheck;\n                            }\n                        }\n                        // reached EOF\n                        instructionEnd = i + 1;\n                        instruction = instruction + this.escapeChar;\n                        break instructionCheck;\n                    }\n                    else {\n                        instructionEnd = i + 1;\n                        instruction = instruction + this.escapeChar;\n                        // reset and consider it as one contiguous word\n                        escapedInstruction = false;\n                    }\n                    break;\n                case ' ':\n                case '\\t':\n                    if (escapedInstruction) {\n                        // on an escaped newline, need to search for non-whitespace\n                        escapeCheck: for (let j = i + 1; j < this.buffer.length; j++) {\n                            switch (this.buffer.charAt(j)) {\n                                case ' ':\n                                case '\\t':\n                                    break;\n                                case '\\r':\n                                case '\\n':\n                                    i = j;\n                                    continue instructionCheck;\n                                default:\n                                    break escapeCheck;\n                            }\n                        }\n                        escapedInstruction = false;\n                    }\n                    if (instructionEnd === -1) {\n                        instructionEnd = i;\n                    }\n                    i = this.processArguments(dockerfile, instruction, instructionEnd, start, i);\n                    dockerfile.addInstruction(this.createInstruction(dockerfile, instruction, start, instructionEnd, i));\n                    return i;\n                case '\\r':\n                case '\\n':\n                    if (escapedInstruction) {\n                        continue;\n                    }\n                    if (instructionEnd === -1) {\n                        instructionEnd = i;\n                    }\n                    dockerfile.addInstruction(this.createInstruction(dockerfile, instruction, start, i, i));\n                    return i;\n                case '#':\n                    if (escapedInstruction) {\n                        continue;\n                    }\n                default:\n                    instructionEnd = i + 1;\n                    instruction = instruction + char;\n                    escapedInstruction = false;\n                    break;\n            }\n        }\n        // reached EOF\n        if (instructionEnd === -1) {\n            instructionEnd = this.buffer.length;\n        }\n        dockerfile.addInstruction(this.createInstruction(dockerfile, instruction, start, instructionEnd, this.buffer.length));\n        return this.buffer.length;\n    }\n    processHeredocs(instruction, offset) {\n        let keyword = instruction.getKeyword();\n        if (keyword === main_1.Keyword.ONBUILD) {\n            instruction = instruction.getTriggerInstruction();\n            if (instruction === null) {\n                return offset;\n            }\n            keyword = instruction.getKeyword();\n        }\n        if (keyword !== main_1.Keyword.ADD && keyword !== main_1.Keyword.COPY && keyword !== main_1.Keyword.RUN) {\n            return offset;\n        }\n        const heredocs = [];\n        let tabbed = false;\n        for (const arg of instruction.getArguments()) {\n            const value = arg.getValue();\n            if (value.startsWith(\"<<\") && value.length > 2) {\n                if (value.startsWith(\"<<-\")) {\n                    tabbed = true;\n                }\n                const name = util_1.Util.parseHeredocName(value);\n                if (name !== null) {\n                    heredocs.push(name);\n                }\n            }\n        }\n        if (heredocs.length > 0) {\n            for (const heredoc of heredocs) {\n                offset = this.parseHeredoc(heredoc, offset, tabbed);\n            }\n        }\n        return offset;\n    }\n    processArguments(dockerfile, instruction, instructionEnd, start, offset) {\n        let escaped = false;\n        argumentsCheck: for (let i = offset + 1; i < this.buffer.length; i++) {\n            switch (this.buffer.charAt(i)) {\n                case '\\r':\n                case '\\n':\n                    if (escaped) {\n                        continue;\n                    }\n                    return this.processHeredocs(this.createInstruction(dockerfile, instruction, start, instructionEnd, i), i);\n                case this.escapeChar:\n                    const next = this.buffer.charAt(i + 1);\n                    if (next === '\\n' || next === '\\r') {\n                        escaped = true;\n                        i++;\n                    }\n                    else if (next === ' ' || next === '\\t') {\n                        for (let j = i + 2; j < this.buffer.length; j++) {\n                            switch (this.buffer.charAt(j)) {\n                                case ' ':\n                                case '\\t':\n                                    break;\n                                case '\\r':\n                                case '\\n':\n                                    escaped = true;\n                                default:\n                                    i = j;\n                                    continue argumentsCheck;\n                            }\n                        }\n                        // reached EOF\n                        return this.buffer.length;\n                    }\n                    continue;\n                case '#':\n                    if (escaped) {\n                        i = this.processComment(dockerfile, i);\n                        continue argumentsCheck;\n                    }\n                    break;\n                case ' ':\n                case '\\t':\n                    break;\n                default:\n                    if (escaped) {\n                        escaped = false;\n                    }\n                    break;\n            }\n        }\n        return this.buffer.length;\n    }\n    processComment(dockerfile, start) {\n        let end = this.buffer.length;\n        commentLoop: for (let i = start + 1; i < this.buffer.length; i++) {\n            switch (this.buffer.charAt(i)) {\n                case '\\r':\n                case '\\n':\n                    end = i;\n                    break commentLoop;\n            }\n        }\n        const range = vscode_languageserver_types_1.Range.create(this.document.positionAt(start), this.document.positionAt(end));\n        dockerfile.addComment(new comment_1.Comment(this.document, range));\n        return end;\n    }\n    parseHeredoc(heredocName, offset, tabbed) {\n        let startWord = -1;\n        let lineStart = true;\n        for (let i = offset; i < this.buffer.length; i++) {\n            switch (this.buffer.charAt(i)) {\n                case ' ':\n                    lineStart = false;\n                    break;\n                case '\\t':\n                    if (!tabbed) {\n                        lineStart = false;\n                    }\n                    break;\n                case '\\r':\n                case '\\n':\n                    if (startWord !== -1 && heredocName === this.buffer.substring(startWord, i)) {\n                        return i;\n                    }\n                    startWord = -1;\n                    lineStart = true;\n                    break;\n                default:\n                    if (lineStart) {\n                        startWord = i;\n                        lineStart = false;\n                    }\n                    break;\n            }\n        }\n        return this.buffer.length;\n    }\n    createInstruction(dockerfile, instruction, start, instructionEnd, end) {\n        const startPosition = this.document.positionAt(start);\n        const instructionRange = vscode_languageserver_types_1.Range.create(startPosition, this.document.positionAt(instructionEnd));\n        const lineRange = vscode_languageserver_types_1.Range.create(startPosition, this.document.positionAt(end));\n        return Parser.createInstruction(this.document, dockerfile, this.escapeChar, lineRange, instruction, instructionRange);\n    }\n}\nexports.Parser = Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCw2Q0FBNkMsbUJBQU8sQ0FBQyxtSEFBb0M7QUFDekYsc0NBQXNDLG1CQUFPLENBQUMscUdBQTZCO0FBQzNFLGtCQUFrQixtQkFBTyxDQUFDLHFFQUFXO0FBQ3JDLDBCQUEwQixtQkFBTyxDQUFDLHFGQUFtQjtBQUNyRCxzQkFBc0IsbUJBQU8sQ0FBQyw2RUFBZTtBQUM3QyxjQUFjLG1CQUFPLENBQUMsdUZBQW9CO0FBQzFDLGNBQWMsbUJBQU8sQ0FBQyx1RkFBb0I7QUFDMUMsY0FBYyxtQkFBTyxDQUFDLHVGQUFvQjtBQUMxQyxlQUFlLG1CQUFPLENBQUMseUZBQXFCO0FBQzVDLGNBQWMsbUJBQU8sQ0FBQyx1RkFBb0I7QUFDMUMscUJBQXFCLG1CQUFPLENBQUMscUdBQTJCO0FBQ3hELGVBQWUsbUJBQU8sQ0FBQyx5RkFBcUI7QUFDNUMsc0JBQXNCLG1CQUFPLENBQUMsdUdBQTRCO0FBQzFELGdCQUFnQixtQkFBTyxDQUFDLDJGQUFzQjtBQUM5QyxrQkFBa0IsbUJBQU8sQ0FBQywrRkFBd0I7QUFDbEQsY0FBYyxtQkFBTyxDQUFDLHVGQUFvQjtBQUMxQyxnQkFBZ0IsbUJBQU8sQ0FBQywyRkFBc0I7QUFDOUMscUJBQXFCLG1CQUFPLENBQUMscUdBQTJCO0FBQ3hELGtCQUFrQixtQkFBTyxDQUFDLCtGQUF3QjtBQUNsRCxlQUFlLG1CQUFPLENBQUMseUZBQXFCO0FBQzVDLGlCQUFpQixtQkFBTyxDQUFDLDZGQUF1QjtBQUNoRCxxQkFBcUIsbUJBQU8sQ0FBQywyRUFBYztBQUMzQyxlQUFlLG1CQUFPLENBQUMsK0RBQVE7QUFDL0IsZUFBZSxtQkFBTyxDQUFDLCtEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG1CQUFtQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG1CQUFtQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxtQkFBbUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsd0JBQXdCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHdCQUF3QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsd0JBQXdCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsd0JBQXdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsd0JBQXdCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx3QkFBd0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix3QkFBd0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3BhcnNlci5qcz82ODhiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIFJlbXkgU3Vlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbid1c2Ugc3RyaWN0Jztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3RleHRkb2N1bWVudF8xID0gcmVxdWlyZShcInZzY29kZS1sYW5ndWFnZXNlcnZlci10ZXh0ZG9jdW1lbnRcIik7XG5jb25zdCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMSA9IHJlcXVpcmUoXCJ2c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXNcIik7XG5jb25zdCBjb21tZW50XzEgPSByZXF1aXJlKFwiLi9jb21tZW50XCIpO1xuY29uc3QgcGFyc2VyRGlyZWN0aXZlXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJEaXJlY3RpdmVcIik7XG5jb25zdCBpbnN0cnVjdGlvbl8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25cIik7XG5jb25zdCBhZGRfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9hZGRcIik7XG5jb25zdCBhcmdfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9hcmdcIik7XG5jb25zdCBjbWRfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9jbWRcIik7XG5jb25zdCBjb3B5XzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvY29weVwiKTtcbmNvbnN0IGVudl8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2VudlwiKTtcbmNvbnN0IGVudHJ5cG9pbnRfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9lbnRyeXBvaW50XCIpO1xuY29uc3QgZnJvbV8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2Zyb21cIik7XG5jb25zdCBoZWFsdGhjaGVja18xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL2hlYWx0aGNoZWNrXCIpO1xuY29uc3QgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9sYWJlbFwiKTtcbmNvbnN0IG9uYnVpbGRfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9vbmJ1aWxkXCIpO1xuY29uc3QgcnVuXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvcnVuXCIpO1xuY29uc3Qgc2hlbGxfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9zaGVsbFwiKTtcbmNvbnN0IHN0b3BzaWduYWxfMSA9IHJlcXVpcmUoXCIuL2luc3RydWN0aW9ucy9zdG9wc2lnbmFsXCIpO1xuY29uc3Qgd29ya2Rpcl8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL3dvcmtkaXJcIik7XG5jb25zdCB1c2VyXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvbnMvdXNlclwiKTtcbmNvbnN0IHZvbHVtZV8xID0gcmVxdWlyZShcIi4vaW5zdHJ1Y3Rpb25zL3ZvbHVtZVwiKTtcbmNvbnN0IGRvY2tlcmZpbGVfMSA9IHJlcXVpcmUoXCIuL2RvY2tlcmZpbGVcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgbWFpbl8xID0gcmVxdWlyZShcIi4vbWFpblwiKTtcbmNsYXNzIFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXNjYXBlQ2hhciA9IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVJbnN0cnVjdGlvbihkb2N1bWVudCwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgbGluZVJhbmdlLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzd2l0Y2ggKGluc3RydWN0aW9uLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJBRERcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGFkZF8xLkFkZChkb2N1bWVudCwgbGluZVJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgICAgICBjYXNlIFwiQVJHXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBhcmdfMS5BcmcoZG9jdW1lbnQsIGxpbmVSYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgICAgICAgICAgY2FzZSBcIkNNRFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY21kXzEuQ21kKGRvY3VtZW50LCBsaW5lUmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICAgICAgICAgIGNhc2UgXCJDT1BZXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBjb3B5XzEuQ29weShkb2N1bWVudCwgbGluZVJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgICAgICBjYXNlIFwiRU5UUllQT0lOVFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgZW50cnlwb2ludF8xLkVudHJ5cG9pbnQoZG9jdW1lbnQsIGxpbmVSYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgICAgICAgICAgY2FzZSBcIkVOVlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgZW52XzEuRW52KGRvY3VtZW50LCBsaW5lUmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICAgICAgICAgIGNhc2UgXCJGUk9NXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBmcm9tXzEuRnJvbShkb2N1bWVudCwgbGluZVJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgICAgICBjYXNlIFwiSEVBTFRIQ0hFQ0tcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGhlYWx0aGNoZWNrXzEuSGVhbHRoY2hlY2soZG9jdW1lbnQsIGxpbmVSYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgICAgICAgICAgY2FzZSBcIkxBQkVMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBsYWJlbF8xLkxhYmVsKGRvY3VtZW50LCBsaW5lUmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICAgICAgICAgIGNhc2UgXCJPTkJVSUxEXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBvbmJ1aWxkXzEuT25idWlsZChkb2N1bWVudCwgbGluZVJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgICAgICBjYXNlIFwiUlVOXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBydW5fMS5SdW4oZG9jdW1lbnQsIGxpbmVSYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgICAgICAgICAgY2FzZSBcIlNIRUxMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBzaGVsbF8xLlNoZWxsKGRvY3VtZW50LCBsaW5lUmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICAgICAgICAgIGNhc2UgXCJTVE9QU0lHTkFMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBzdG9wc2lnbmFsXzEuU3RvcHNpZ25hbChkb2N1bWVudCwgbGluZVJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgICAgICBjYXNlIFwiV09SS0RJUlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd29ya2Rpcl8xLldvcmtkaXIoZG9jdW1lbnQsIGxpbmVSYW5nZSwgZG9ja2VyZmlsZSwgZXNjYXBlQ2hhciwgaW5zdHJ1Y3Rpb24sIGluc3RydWN0aW9uUmFuZ2UpO1xuICAgICAgICAgICAgY2FzZSBcIlVTRVJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHVzZXJfMS5Vc2VyKGRvY3VtZW50LCBsaW5lUmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICAgICAgICAgIGNhc2UgXCJWT0xVTUVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHZvbHVtZV8xLlZvbHVtZShkb2N1bWVudCwgbGluZVJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBpbnN0cnVjdGlvbl8xLkluc3RydWN0aW9uKGRvY3VtZW50LCBsaW5lUmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICB9XG4gICAgZ2V0UGFyc2VyRGlyZWN0aXZlcyhkb2N1bWVudCwgYnVmZmVyKSB7XG4gICAgICAgIC8vIHJlc2V0IHRoZSBlc2NhcGUgZGlyZWN0aXZlIGluIGJldHdlZW4gcnVuc1xuICAgICAgICBjb25zdCBkaXJlY3RpdmVzID0gW107XG4gICAgICAgIHRoaXMuZXNjYXBlQ2hhciA9ICcnO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB1dGlsXzEuVXRpbC5pc1VURjhCT00oYnVmZmVyLnN1YnN0cmluZygwLCAxKSkgPyAxIDogMDtcbiAgICAgICAgZGlyZWN0aXZlQ2hlY2s6IGZvciAobGV0IGkgPSBvZmZzZXQ7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYnVmZmVyLmNoYXJBdChpKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gYmxhbmsgbGluZXMgc3RvcCB0aGUgcGFyc2luZyBvZiBkaXJlY3RpdmVzIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRpcmVjdGl2ZUNoZWNrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgZGlyZWN0aXZlU3RhcnQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcmVjdGl2ZUVuZCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBidWZmZXIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFyID0gYnVmZmVyLmNoYXJBdChqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3RpdmVTdGFydCAhPT0gLTEgJiYgZGlyZWN0aXZlRW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlRW5kID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGRpcmVjdGl2ZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJz0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVTdGFydCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVFbmQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZUVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZUVuZCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXNzdW1lIHRoZSBsaW5lIGVuZHMgd2l0aCB0aGUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGluZUVuZCA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlOiBmb3IgKGxldCBrID0gaiArIDE7IGsgPCBidWZmZXIubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgPSBidWZmZXIuY2hhckF0KGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVTdGFydCAhPT0gLTEgJiYgdmFsdWVFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUVuZCA9IGs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGluZSBicmVhayBmb3VuZCwgcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUVuZCA9IGs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGRpcmVjdGl2ZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVN0YXJ0ICE9PSAtMSAmJiB2YWx1ZUVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlRW5kID0gaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVTdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlU3RhcnQgPSBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3RpdmVTdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIGRpcmVjdGl2ZSwgaXQncyBhIHJlZ3VsYXIgY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgZGlyZWN0aXZlQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGZvdW5kLCBoaWdobGlnaHQgYWxsIHRoZSBjaGFyYWN0ZXJzIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlU3RhcnQgPSBqICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlRW5kID0gbGluZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZUVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgRU9GXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUVuZCA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZVJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoaSksIGRvY3VtZW50LnBvc2l0aW9uQXQobGluZUVuZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lUmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChkaXJlY3RpdmVTdGFydCksIGRvY3VtZW50LnBvc2l0aW9uQXQoZGlyZWN0aXZlRW5kKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlUmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdCh2YWx1ZVN0YXJ0KSwgZG9jdW1lbnQucG9zaXRpb25BdCh2YWx1ZUVuZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzLnB1c2gobmV3IHBhcnNlckRpcmVjdGl2ZV8xLlBhcnNlckRpcmVjdGl2ZShkb2N1bWVudCwgbGluZVJhbmdlLCBuYW1lUmFuZ2UsIHZhbHVlUmFuZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlU3RhcnQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5jaGFyQXQodmFsdWVFbmQpID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBvdmVyIHRoZSBcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB2YWx1ZUVuZCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gdmFsdWVFbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgZGlyZWN0aXZlQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZVN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlU3RhcnQgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRpcmVjdGl2ZUNoZWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cbiAgICBwYXJzZShidWZmZXIpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudCA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90ZXh0ZG9jdW1lbnRfMS5UZXh0RG9jdW1lbnQuY3JlYXRlKFwiXCIsIFwiXCIsIDAsIGJ1ZmZlcik7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICBsZXQgZG9ja2VyZmlsZSA9IG5ldyBkb2NrZXJmaWxlXzEuRG9ja2VyZmlsZSh0aGlzLmRvY3VtZW50KTtcbiAgICAgICAgbGV0IGRpcmVjdGl2ZXMgPSB0aGlzLmdldFBhcnNlckRpcmVjdGl2ZXModGhpcy5kb2N1bWVudCwgdGhpcy5idWZmZXIpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5lc2NhcGVDaGFyID0gJ1xcXFwnO1xuICAgICAgICBpZiAoZGlyZWN0aXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBkb2NrZXJmaWxlLnNldERpcmVjdGl2ZXMoZGlyZWN0aXZlcyk7XG4gICAgICAgICAgICB0aGlzLmVzY2FwZUNoYXIgPSBkb2NrZXJmaWxlLmdldEVzY2FwZUNoYXJhY3RlcigpO1xuICAgICAgICAgICAgLy8gc3RhcnQgcGFyc2luZyBhZnRlciB0aGUgZGlyZWN0aXZlc1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kb2N1bWVudC5vZmZzZXRBdCh2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5Qb3NpdGlvbi5jcmVhdGUoZGlyZWN0aXZlcy5sZW5ndGgsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1dGlsXzEuVXRpbC5pc1VURjhCT00oYnVmZmVyLnN1YnN0cmluZygwLCAxKSkpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IG9mZnNldDsgaSA8IHRoaXMuYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGhpcy5idWZmZXIuY2hhckF0KGkpO1xuICAgICAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgICAgICBpID0gdGhpcy5wcm9jZXNzQ29tbWVudChkb2NrZXJmaWxlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaSA9IHRoaXMucHJvY2Vzc0luc3RydWN0aW9uKGRvY2tlcmZpbGUsIGNoYXIsIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb2NrZXJmaWxlLm9yZ2FuaXplQ29tbWVudHMoKTtcbiAgICAgICAgcmV0dXJuIGRvY2tlcmZpbGU7XG4gICAgfVxuICAgIHByb2Nlc3NJbnN0cnVjdGlvbihkb2NrZXJmaWxlLCBjaGFyLCBzdGFydCkge1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb24gPSBjaGFyO1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb25FbmQgPSAtMTtcbiAgICAgICAgbGV0IGVzY2FwZWRJbnN0cnVjdGlvbiA9IGZhbHNlO1xuICAgICAgICBpbnN0cnVjdGlvbkNoZWNrOiBmb3IgKGxldCBpID0gc3RhcnQgKyAxOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoYXIgPSB0aGlzLmJ1ZmZlci5jaGFyQXQoaSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZEluc3RydWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2hhciA9IHRoaXMuYnVmZmVyLmNoYXJBdChpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnXFxyJyB8fCBjaGFyID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uRW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSAnICcgfHwgY2hhciA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMjsgaiA8IHRoaXMuYnVmZmVyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmJ1ZmZlci5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgaW5zdHJ1Y3Rpb25DaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGFuIGFyZ3VtZW50LCBtYXJrIGVuZCBvZiBpbnN0cnVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25FbmQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24gKyB0aGlzLmVzY2FwZUNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaiAtIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBpbnN0cnVjdGlvbkNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgRU9GXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbkVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbiArIHRoaXMuZXNjYXBlQ2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGluc3RydWN0aW9uQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbkVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbiArIHRoaXMuZXNjYXBlQ2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IGFuZCBjb25zaWRlciBpdCBhcyBvbmUgY29udGlndW91cyB3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkSW5zdHJ1Y3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZEluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiBhbiBlc2NhcGVkIG5ld2xpbmUsIG5lZWQgdG8gc2VhcmNoIGZvciBub24td2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlQ2hlY2s6IGZvciAobGV0IGogPSBpICsgMTsgaiA8IHRoaXMuYnVmZmVyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmJ1ZmZlci5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgaW5zdHJ1Y3Rpb25DaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGVzY2FwZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRJbnN0cnVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbkVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpID0gdGhpcy5wcm9jZXNzQXJndW1lbnRzKGRvY2tlcmZpbGUsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvbkVuZCwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgICAgICBkb2NrZXJmaWxlLmFkZEluc3RydWN0aW9uKHRoaXMuY3JlYXRlSW5zdHJ1Y3Rpb24oZG9ja2VyZmlsZSwgaW5zdHJ1Y3Rpb24sIHN0YXJ0LCBpbnN0cnVjdGlvbkVuZCwgaSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbkVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkb2NrZXJmaWxlLmFkZEluc3RydWN0aW9uKHRoaXMuY3JlYXRlSW5zdHJ1Y3Rpb24oZG9ja2VyZmlsZSwgaW5zdHJ1Y3Rpb24sIHN0YXJ0LCBpLCBpKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZEluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uRW5kID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24gKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkSW5zdHJ1Y3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhY2hlZCBFT0ZcbiAgICAgICAgaWYgKGluc3RydWN0aW9uRW5kID09PSAtMSkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25FbmQgPSB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZG9ja2VyZmlsZS5hZGRJbnN0cnVjdGlvbih0aGlzLmNyZWF0ZUluc3RydWN0aW9uKGRvY2tlcmZpbGUsIGluc3RydWN0aW9uLCBzdGFydCwgaW5zdHJ1Y3Rpb25FbmQsIHRoaXMuYnVmZmVyLmxlbmd0aCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBwcm9jZXNzSGVyZWRvY3MoaW5zdHJ1Y3Rpb24sIG9mZnNldCkge1xuICAgICAgICBsZXQga2V5d29yZCA9IGluc3RydWN0aW9uLmdldEtleXdvcmQoKTtcbiAgICAgICAgaWYgKGtleXdvcmQgPT09IG1haW5fMS5LZXl3b3JkLk9OQlVJTEQpIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24uZ2V0VHJpZ2dlckluc3RydWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5d29yZCA9IGluc3RydWN0aW9uLmdldEtleXdvcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5d29yZCAhPT0gbWFpbl8xLktleXdvcmQuQUREICYmIGtleXdvcmQgIT09IG1haW5fMS5LZXl3b3JkLkNPUFkgJiYga2V5d29yZCAhPT0gbWFpbl8xLktleXdvcmQuUlVOKSB7XG4gICAgICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlcmVkb2NzID0gW107XG4gICAgICAgIGxldCB0YWJiZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBhcmcgb2YgaW5zdHJ1Y3Rpb24uZ2V0QXJndW1lbnRzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXJnLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhcnRzV2l0aChcIjw8XCIpICYmIHZhbHVlLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuc3RhcnRzV2l0aChcIjw8LVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0YWJiZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gdXRpbF8xLlV0aWwucGFyc2VIZXJlZG9jTmFtZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVyZWRvY3MucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVkb2NzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaGVyZWRvYyBvZiBoZXJlZG9jcykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMucGFyc2VIZXJlZG9jKGhlcmVkb2MsIG9mZnNldCwgdGFiYmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbiAgICBwcm9jZXNzQXJndW1lbnRzKGRvY2tlcmZpbGUsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvbkVuZCwgc3RhcnQsIG9mZnNldCkge1xuICAgICAgICBsZXQgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICBhcmd1bWVudHNDaGVjazogZm9yIChsZXQgaSA9IG9mZnNldCArIDE7IGkgPCB0aGlzLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmJ1ZmZlci5jaGFyQXQoaSkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzSGVyZWRvY3ModGhpcy5jcmVhdGVJbnN0cnVjdGlvbihkb2NrZXJmaWxlLCBpbnN0cnVjdGlvbiwgc3RhcnQsIGluc3RydWN0aW9uRW5kLCBpKSwgaSk7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmJ1ZmZlci5jaGFyQXQoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9PT0gJ1xcbicgfHwgbmV4dCA9PT0gJ1xccicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09ICcgJyB8fCBuZXh0ID09PSAnXFx0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAyOyBqIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYnVmZmVyLmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGFyZ3VtZW50c0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWNoZWQgRU9GXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHRoaXMucHJvY2Vzc0NvbW1lbnQoZG9ja2VyZmlsZSwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBhcmd1bWVudHNDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgfVxuICAgIHByb2Nlc3NDb21tZW50KGRvY2tlcmZpbGUsIHN0YXJ0KSB7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIGNvbW1lbnRMb29wOiBmb3IgKGxldCBpID0gc3RhcnQgKyAxOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5idWZmZXIuY2hhckF0KGkpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBjb21tZW50TG9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5nZSA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnQpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoZW5kKSk7XG4gICAgICAgIGRvY2tlcmZpbGUuYWRkQ29tbWVudChuZXcgY29tbWVudF8xLkNvbW1lbnQodGhpcy5kb2N1bWVudCwgcmFuZ2UpKTtcbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9XG4gICAgcGFyc2VIZXJlZG9jKGhlcmVkb2NOYW1lLCBvZmZzZXQsIHRhYmJlZCkge1xuICAgICAgICBsZXQgc3RhcnRXb3JkID0gLTE7XG4gICAgICAgIGxldCBsaW5lU3RhcnQgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5idWZmZXIuY2hhckF0KGkpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhYmJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRXb3JkICE9PSAtMSAmJiBoZXJlZG9jTmFtZSA9PT0gdGhpcy5idWZmZXIuc3Vic3RyaW5nKHN0YXJ0V29yZCwgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0V29yZCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFdvcmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICB9XG4gICAgY3JlYXRlSW5zdHJ1Y3Rpb24oZG9ja2VyZmlsZSwgaW5zdHJ1Y3Rpb24sIHN0YXJ0LCBpbnN0cnVjdGlvbkVuZCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnQpO1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvblJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHN0YXJ0UG9zaXRpb24sIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbkVuZCkpO1xuICAgICAgICBjb25zdCBsaW5lUmFuZ2UgPSB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoc3RhcnRQb3NpdGlvbiwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KGVuZCkpO1xuICAgICAgICByZXR1cm4gUGFyc2VyLmNyZWF0ZUluc3RydWN0aW9uKHRoaXMuZG9jdW1lbnQsIGRvY2tlcmZpbGUsIHRoaXMuZXNjYXBlQ2hhciwgbGluZVJhbmdlLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSk7XG4gICAgfVxufVxuZXhwb3J0cy5QYXJzZXIgPSBQYXJzZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/parserDirective.js":
/*!************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/parserDirective.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ParserDirective = void 0;\nconst main_1 = __webpack_require__(/*! ./main */ \"(rsc)/./node_modules/dockerfile-ast/lib/main.js\");\nconst line_1 = __webpack_require__(/*! ./line */ \"(rsc)/./node_modules/dockerfile-ast/lib/line.js\");\nclass ParserDirective extends line_1.Line {\n    constructor(document, range, nameRange, valueRange) {\n        super(document, range);\n        this.nameRange = nameRange;\n        this.valueRange = valueRange;\n    }\n    toString() {\n        return \"# \" + this.getName() + '=' + this.getValue();\n    }\n    getNameRange() {\n        return this.nameRange;\n    }\n    getValueRange() {\n        return this.valueRange;\n    }\n    getName() {\n        return this.document.getText().substring(this.document.offsetAt(this.nameRange.start), this.document.offsetAt(this.nameRange.end));\n    }\n    getValue() {\n        return this.document.getText().substring(this.document.offsetAt(this.valueRange.start), this.document.offsetAt(this.valueRange.end));\n    }\n    getDirective() {\n        const directive = main_1.Directive[this.getName().toLowerCase()];\n        return directive === undefined ? null : directive;\n    }\n}\nexports.ParserDirective = ParserDirective;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3BhcnNlckRpcmVjdGl2ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsZUFBZSxtQkFBTyxDQUFDLCtEQUFRO0FBQy9CLGVBQWUsbUJBQU8sQ0FBQywrREFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3BhcnNlckRpcmVjdGl2ZS5qcz9kMWIzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXJzZXJEaXJlY3RpdmUgPSB2b2lkIDA7XG5jb25zdCBtYWluXzEgPSByZXF1aXJlKFwiLi9tYWluXCIpO1xuY29uc3QgbGluZV8xID0gcmVxdWlyZShcIi4vbGluZVwiKTtcbmNsYXNzIFBhcnNlckRpcmVjdGl2ZSBleHRlbmRzIGxpbmVfMS5MaW5lIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgcmFuZ2UsIG5hbWVSYW5nZSwgdmFsdWVSYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLm5hbWVSYW5nZSA9IG5hbWVSYW5nZTtcbiAgICAgICAgdGhpcy52YWx1ZVJhbmdlID0gdmFsdWVSYW5nZTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIiMgXCIgKyB0aGlzLmdldE5hbWUoKSArICc9JyArIHRoaXMuZ2V0VmFsdWUoKTtcbiAgICB9XG4gICAgZ2V0TmFtZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lUmFuZ2U7XG4gICAgfVxuICAgIGdldFZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlUmFuZ2U7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmdldFRleHQoKS5zdWJzdHJpbmcodGhpcy5kb2N1bWVudC5vZmZzZXRBdCh0aGlzLm5hbWVSYW5nZS5zdGFydCksIHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodGhpcy5uYW1lUmFuZ2UuZW5kKSk7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodGhpcy52YWx1ZVJhbmdlLnN0YXJ0KSwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdCh0aGlzLnZhbHVlUmFuZ2UuZW5kKSk7XG4gICAgfVxuICAgIGdldERpcmVjdGl2ZSgpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gbWFpbl8xLkRpcmVjdGl2ZVt0aGlzLmdldE5hbWUoKS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRpcmVjdGl2ZTtcbiAgICB9XG59XG5leHBvcnRzLlBhcnNlckRpcmVjdGl2ZSA9IFBhcnNlckRpcmVjdGl2ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/parserDirective.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/property.js":
/*!*****************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/property.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Property = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nclass Property {\n    constructor(document, escapeChar, arg, arg2) {\n        this.assignmentOperatorRange = null;\n        this.assignmentOperator = null;\n        this.valueRange = null;\n        this.value = null;\n        this.document = document;\n        this.escapeChar = escapeChar;\n        this.nameRange = Property.getNameRange(document, arg);\n        let value = document.getText().substring(document.offsetAt(this.nameRange.start), document.offsetAt(this.nameRange.end));\n        this.name = Property.getValue(value, escapeChar);\n        if (arg2) {\n            this.valueRange = arg2.getRange();\n            value = document.getText().substring(document.offsetAt(this.valueRange.start), document.offsetAt(this.valueRange.end));\n            this.value = Property.getValue(value, escapeChar);\n            this.range = vscode_languageserver_types_1.Range.create(this.nameRange.start, this.valueRange.end);\n        }\n        else {\n            let argRange = arg.getRange();\n            if (this.nameRange.start.line === argRange.start.line\n                && this.nameRange.start.character === argRange.start.character\n                && this.nameRange.end.line === argRange.end.line\n                && this.nameRange.end.character === argRange.end.character) {\n            }\n            else {\n                this.valueRange = Property.getValueRange(document, arg);\n                value = document.getText().substring(document.offsetAt(this.valueRange.start), document.offsetAt(this.valueRange.end));\n                this.value = Property.getValue(value, escapeChar);\n                this.assignmentOperatorRange = vscode_languageserver_types_1.Range.create(this.nameRange.end, this.valueRange.start);\n                this.assignmentOperator = \"=\";\n            }\n            this.range = argRange;\n        }\n    }\n    getRange() {\n        return this.range;\n    }\n    getName() {\n        return this.name;\n    }\n    getNameRange() {\n        return this.nameRange;\n    }\n    getValue() {\n        return this.value;\n    }\n    getValueRange() {\n        return this.valueRange;\n    }\n    /**\n     * Retrieves the operator used for delimiting between the name and\n     * value of this property. This will either be the \"=\" character\n     * or null if a character was not used or if this property has no\n     * value defined.\n     */\n    getAssignmentOperator() {\n        return this.assignmentOperator;\n    }\n    getAssignmentOperatorRange() {\n        return this.assignmentOperatorRange;\n    }\n    /**\n     * Returns the value of this property including any enclosing\n     * single or double quotes and relevant escape characters.\n     * Escaped newlines and its associated contiguous whitespace\n     * characters however will not be returned as they are deemed to\n     * be uninteresting to clients trying to return a Dockerfile.\n     *\n     * @return the unescaped value of this property or null if this\n     *         property has no associated value\n     */\n    getUnescapedValue() {\n        if (this.valueRange === null) {\n            return null;\n        }\n        let escaped = false;\n        let rawValue = \"\";\n        let value = this.document.getText().substring(this.document.offsetAt(this.valueRange.start), this.document.offsetAt(this.valueRange.end));\n        rawLoop: for (let i = 0; i < value.length; i++) {\n            let char = value.charAt(i);\n            switch (char) {\n                case this.escapeChar:\n                    for (let j = i + 1; j < value.length; j++) {\n                        switch (value.charAt(j)) {\n                            case '\\r':\n                                j++;\n                            case '\\n':\n                                escaped = true;\n                                i = j;\n                                continue rawLoop;\n                            case ' ':\n                            case '\\t':\n                                break;\n                            default:\n                                rawValue = rawValue + char;\n                                continue rawLoop;\n                        }\n                    }\n                    // this happens if there's only whitespace after the escape character\n                    rawValue = rawValue + char;\n                    break;\n                case '\\r':\n                case '\\n':\n                    break;\n                case ' ':\n                case '\\t':\n                    if (!escaped) {\n                        rawValue = rawValue + char;\n                    }\n                    break;\n                case '#':\n                    if (escaped) {\n                        for (let j = i + 1; j < value.length; j++) {\n                            switch (value.charAt(j)) {\n                                case '\\r':\n                                    j++;\n                                case '\\n':\n                                    i = j;\n                                    continue rawLoop;\n                            }\n                        }\n                    }\n                    else {\n                        rawValue = rawValue + char;\n                    }\n                    break;\n                default:\n                    rawValue = rawValue + char;\n                    escaped = false;\n                    break;\n            }\n        }\n        return rawValue;\n    }\n    static getNameRange(document, arg) {\n        let value = arg.getValue();\n        let index = value.indexOf('=');\n        if (index !== -1) {\n            let initial = value.charAt(0);\n            let before = value.charAt(index - 1);\n            // check if content before the equals sign are in quotes\n            // \"var\"=value\n            // 'var'=value\n            // otherwise, just assume it's a standard definition\n            // var=value\n            if ((initial === '\"' && before === '\"') || (initial === '\\'' && before === '\\'') || (initial !== '\"' && initial !== '\\'')) {\n                return vscode_languageserver_types_1.Range.create(arg.getRange().start, document.positionAt(document.offsetAt(arg.getRange().start) + index));\n            }\n        }\n        // no '=' found, just defined the property's name\n        return arg.getRange();\n    }\n    static getValueRange(document, arg) {\n        return vscode_languageserver_types_1.Range.create(document.positionAt(document.offsetAt(arg.getRange().start) + arg.getValue().indexOf('=') + 1), document.positionAt(document.offsetAt(arg.getRange().end)));\n    }\n    /**\n     * Returns the actual value of this key-value pair. The value will\n     * have its escape characters removed if applicable. If the value\n     * spans multiple lines and there are comments nested within the\n     * lines, they too will be removed.\n     *\n     * @return the value that this key-value pair will actually be, may\n     *         be null if no value is defined, may be the empty string\n     *         if the value only consists of whitespace\n     */\n    static getValue(value, escapeChar) {\n        let escaped = false;\n        const skip = util_1.Util.findLeadingNonWhitespace(value, escapeChar);\n        if (skip !== 0 && value.charAt(skip) === '#') {\n            // need to skip over comments\n            escaped = true;\n        }\n        value = value.substring(skip);\n        let first = value.charAt(0);\n        let last = value.charAt(value.length - 1);\n        let literal = first === '\\'' || first === '\"';\n        let inSingle = (first === '\\'' && last === '\\'');\n        let inDouble = false;\n        if (first === '\"') {\n            for (let i = 1; i < value.length; i++) {\n                if (value.charAt(i) === escapeChar) {\n                    i++;\n                }\n                else if (value.charAt(i) === '\"' && i === value.length - 1) {\n                    inDouble = true;\n                }\n            }\n        }\n        if (inSingle || inDouble) {\n            value = value.substring(1, value.length - 1);\n        }\n        let commentCheck = -1;\n        let escapedValue = \"\";\n        let start = 0;\n        parseValue: for (let i = 0; i < value.length; i++) {\n            let char = value.charAt(i);\n            switch (char) {\n                case escapeChar:\n                    if (i + 1 === value.length) {\n                        escapedValue = escapedValue + escapeChar;\n                        break parseValue;\n                    }\n                    char = value.charAt(i + 1);\n                    if (char === ' ' || char === '\\t') {\n                        whitespaceCheck: for (let j = i + 2; j < value.length; j++) {\n                            let char2 = value.charAt(j);\n                            switch (char2) {\n                                case ' ':\n                                case '\\t':\n                                    break;\n                                case '\\r':\n                                    j++;\n                                case '\\n':\n                                    escaped = true;\n                                    i = j;\n                                    continue parseValue;\n                                default:\n                                    if (!inDouble && !inSingle && !literal) {\n                                        if (char2 === escapeChar) {\n                                            // add the escaped character\n                                            escapedValue = escapedValue + char;\n                                            // now start parsing from the next escape character\n                                            i = i + 1;\n                                        }\n                                        else {\n                                            // the expectation is that this j = i + 2 here\n                                            escapedValue = escapedValue + char + char2;\n                                            i = j;\n                                        }\n                                        continue parseValue;\n                                    }\n                                    break whitespaceCheck;\n                            }\n                        }\n                    }\n                    if (inDouble) {\n                        if (char === '\\r') {\n                            escaped = true;\n                            i = i + 2;\n                        }\n                        else if (char === '\\n') {\n                            escaped = true;\n                            i++;\n                        }\n                        else if (char !== '\"') {\n                            if (char === escapeChar) {\n                                i++;\n                            }\n                            escapedValue = escapedValue + escapeChar;\n                        }\n                        continue parseValue;\n                    }\n                    else if (inSingle || literal) {\n                        if (char === '\\r') {\n                            escaped = true;\n                            i = i + 2;\n                        }\n                        else if (char === '\\n') {\n                            escaped = true;\n                            i++;\n                        }\n                        else {\n                            escapedValue = escapedValue + escapeChar;\n                        }\n                        continue parseValue;\n                    }\n                    else if (char === escapeChar) {\n                        // double escape, append one and move on\n                        escapedValue = escapedValue + escapeChar;\n                        i++;\n                    }\n                    else if (char === '\\r') {\n                        escaped = true;\n                        // offset one more for \\r\\n\n                        i = i + 2;\n                    }\n                    else if (char === '\\n') {\n                        escaped = true;\n                        i++;\n                        start = i;\n                    }\n                    else {\n                        // any other escapes are simply ignored\n                        escapedValue = escapedValue + char;\n                        i++;\n                    }\n                    break;\n                case ' ':\n                case '\\t':\n                    if (escaped && commentCheck === -1) {\n                        commentCheck = i;\n                    }\n                    escapedValue = escapedValue + char;\n                    break;\n                case '\\r':\n                    i++;\n                case '\\n':\n                    if (escaped && commentCheck !== -1) {\n                        // rollback and remove the whitespace that was previously appended\n                        escapedValue = escapedValue.substring(0, escapedValue.length - (i - commentCheck - 1));\n                        commentCheck = -1;\n                    }\n                    break;\n                case '#':\n                    // a newline was escaped and now there's a comment\n                    if (escaped) {\n                        if (commentCheck !== -1) {\n                            // rollback and remove the whitespace that was previously appended\n                            escapedValue = escapedValue.substring(0, escapedValue.length - (i - commentCheck));\n                            commentCheck = -1;\n                        }\n                        newlineCheck: for (let j = i + 1; j < value.length; j++) {\n                            switch (value.charAt(j)) {\n                                case '\\r':\n                                    j++;\n                                case '\\n':\n                                    i = j;\n                                    break newlineCheck;\n                            }\n                        }\n                        continue parseValue;\n                    }\n                default:\n                    if (escaped) {\n                        escaped = false;\n                        commentCheck = -1;\n                    }\n                    escapedValue = escapedValue + char;\n                    break;\n            }\n        }\n        return escapedValue;\n    }\n}\nexports.Property = Property;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3Byb3BlcnR5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixzQ0FBc0MsbUJBQU8sQ0FBQyxxR0FBNkI7QUFDM0UsZUFBZSxtQkFBTyxDQUFDLCtEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGtCQUFrQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGtCQUFrQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0JBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxrQkFBa0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0JBQWtCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3Byb3BlcnR5LmpzPzY3YWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlByb3BlcnR5ID0gdm9pZCAwO1xuY29uc3QgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEgPSByZXF1aXJlKFwidnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNsYXNzIFByb3BlcnR5IHtcbiAgICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgZXNjYXBlQ2hhciwgYXJnLCBhcmcyKSB7XG4gICAgICAgIHRoaXMuYXNzaWdubWVudE9wZXJhdG9yUmFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmFzc2lnbm1lbnRPcGVyYXRvciA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsdWVSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuZXNjYXBlQ2hhciA9IGVzY2FwZUNoYXI7XG4gICAgICAgIHRoaXMubmFtZVJhbmdlID0gUHJvcGVydHkuZ2V0TmFtZVJhbmdlKGRvY3VtZW50LCBhcmcpO1xuICAgICAgICBsZXQgdmFsdWUgPSBkb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKGRvY3VtZW50Lm9mZnNldEF0KHRoaXMubmFtZVJhbmdlLnN0YXJ0KSwgZG9jdW1lbnQub2Zmc2V0QXQodGhpcy5uYW1lUmFuZ2UuZW5kKSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFByb3BlcnR5LmdldFZhbHVlKHZhbHVlLCBlc2NhcGVDaGFyKTtcbiAgICAgICAgaWYgKGFyZzIpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVSYW5nZSA9IGFyZzIuZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIHZhbHVlID0gZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cmluZyhkb2N1bWVudC5vZmZzZXRBdCh0aGlzLnZhbHVlUmFuZ2Uuc3RhcnQpLCBkb2N1bWVudC5vZmZzZXRBdCh0aGlzLnZhbHVlUmFuZ2UuZW5kKSk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gUHJvcGVydHkuZ2V0VmFsdWUodmFsdWUsIGVzY2FwZUNoYXIpO1xuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLm5hbWVSYW5nZS5zdGFydCwgdGhpcy52YWx1ZVJhbmdlLmVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYXJnUmFuZ2UgPSBhcmcuZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWVSYW5nZS5zdGFydC5saW5lID09PSBhcmdSYW5nZS5zdGFydC5saW5lXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5uYW1lUmFuZ2Uuc3RhcnQuY2hhcmFjdGVyID09PSBhcmdSYW5nZS5zdGFydC5jaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAmJiB0aGlzLm5hbWVSYW5nZS5lbmQubGluZSA9PT0gYXJnUmFuZ2UuZW5kLmxpbmVcbiAgICAgICAgICAgICAgICAmJiB0aGlzLm5hbWVSYW5nZS5lbmQuY2hhcmFjdGVyID09PSBhcmdSYW5nZS5lbmQuY2hhcmFjdGVyKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlUmFuZ2UgPSBQcm9wZXJ0eS5nZXRWYWx1ZVJhbmdlKGRvY3VtZW50LCBhcmcpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cmluZyhkb2N1bWVudC5vZmZzZXRBdCh0aGlzLnZhbHVlUmFuZ2Uuc3RhcnQpLCBkb2N1bWVudC5vZmZzZXRBdCh0aGlzLnZhbHVlUmFuZ2UuZW5kKSk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFByb3BlcnR5LmdldFZhbHVlKHZhbHVlLCBlc2NhcGVDaGFyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2lnbm1lbnRPcGVyYXRvclJhbmdlID0gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMubmFtZVJhbmdlLmVuZCwgdGhpcy52YWx1ZVJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2lnbm1lbnRPcGVyYXRvciA9IFwiPVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IGFyZ1JhbmdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZTtcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG4gICAgZ2V0TmFtZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lUmFuZ2U7XG4gICAgfVxuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgZ2V0VmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVSYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBvcGVyYXRvciB1c2VkIGZvciBkZWxpbWl0aW5nIGJldHdlZW4gdGhlIG5hbWUgYW5kXG4gICAgICogdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eS4gVGhpcyB3aWxsIGVpdGhlciBiZSB0aGUgXCI9XCIgY2hhcmFjdGVyXG4gICAgICogb3IgbnVsbCBpZiBhIGNoYXJhY3RlciB3YXMgbm90IHVzZWQgb3IgaWYgdGhpcyBwcm9wZXJ0eSBoYXMgbm9cbiAgICAgKiB2YWx1ZSBkZWZpbmVkLlxuICAgICAqL1xuICAgIGdldEFzc2lnbm1lbnRPcGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudE9wZXJhdG9yO1xuICAgIH1cbiAgICBnZXRBc3NpZ25tZW50T3BlcmF0b3JSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudE9wZXJhdG9yUmFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaW5jbHVkaW5nIGFueSBlbmNsb3NpbmdcbiAgICAgKiBzaW5nbGUgb3IgZG91YmxlIHF1b3RlcyBhbmQgcmVsZXZhbnQgZXNjYXBlIGNoYXJhY3RlcnMuXG4gICAgICogRXNjYXBlZCBuZXdsaW5lcyBhbmQgaXRzIGFzc29jaWF0ZWQgY29udGlndW91cyB3aGl0ZXNwYWNlXG4gICAgICogY2hhcmFjdGVycyBob3dldmVyIHdpbGwgbm90IGJlIHJldHVybmVkIGFzIHRoZXkgYXJlIGRlZW1lZCB0b1xuICAgICAqIGJlIHVuaW50ZXJlc3RpbmcgdG8gY2xpZW50cyB0cnlpbmcgdG8gcmV0dXJuIGEgRG9ja2VyZmlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhlIHVuZXNjYXBlZCB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IG9yIG51bGwgaWYgdGhpc1xuICAgICAqICAgICAgICAgcHJvcGVydHkgaGFzIG5vIGFzc29jaWF0ZWQgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRVbmVzY2FwZWRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVSYW5nZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHJhd1ZhbHVlID0gXCJcIjtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5kb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyaW5nKHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQodGhpcy52YWx1ZVJhbmdlLnN0YXJ0KSwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdCh0aGlzLnZhbHVlUmFuZ2UuZW5kKSk7XG4gICAgICAgIHJhd0xvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyID0gdmFsdWUuY2hhckF0KGkpO1xuICAgICAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHJhd0xvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3VmFsdWUgPSByYXdWYWx1ZSArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHJhd0xvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBoYXBwZW5zIGlmIHRoZXJlJ3Mgb25seSB3aGl0ZXNwYWNlIGFmdGVyIHRoZSBlc2NhcGUgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgIHJhd1ZhbHVlID0gcmF3VmFsdWUgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3VmFsdWUgPSByYXdWYWx1ZSArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUuY2hhckF0KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHJhd0xvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3VmFsdWUgPSByYXdWYWx1ZSArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmF3VmFsdWUgPSByYXdWYWx1ZSArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0TmFtZVJhbmdlKGRvY3VtZW50LCBhcmcpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gYXJnLmdldFZhbHVlKCk7XG4gICAgICAgIGxldCBpbmRleCA9IHZhbHVlLmluZGV4T2YoJz0nKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGV0IGluaXRpYWwgPSB2YWx1ZS5jaGFyQXQoMCk7XG4gICAgICAgICAgICBsZXQgYmVmb3JlID0gdmFsdWUuY2hhckF0KGluZGV4IC0gMSk7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjb250ZW50IGJlZm9yZSB0aGUgZXF1YWxzIHNpZ24gYXJlIGluIHF1b3Rlc1xuICAgICAgICAgICAgLy8gXCJ2YXJcIj12YWx1ZVxuICAgICAgICAgICAgLy8gJ3Zhcic9dmFsdWVcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwganVzdCBhc3N1bWUgaXQncyBhIHN0YW5kYXJkIGRlZmluaXRpb25cbiAgICAgICAgICAgIC8vIHZhcj12YWx1ZVxuICAgICAgICAgICAgaWYgKChpbml0aWFsID09PSAnXCInICYmIGJlZm9yZSA9PT0gJ1wiJykgfHwgKGluaXRpYWwgPT09ICdcXCcnICYmIGJlZm9yZSA9PT0gJ1xcJycpIHx8IChpbml0aWFsICE9PSAnXCInICYmIGluaXRpYWwgIT09ICdcXCcnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoYXJnLmdldFJhbmdlKCkuc3RhcnQsIGRvY3VtZW50LnBvc2l0aW9uQXQoZG9jdW1lbnQub2Zmc2V0QXQoYXJnLmdldFJhbmdlKCkuc3RhcnQpICsgaW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBubyAnPScgZm91bmQsIGp1c3QgZGVmaW5lZCB0aGUgcHJvcGVydHkncyBuYW1lXG4gICAgICAgIHJldHVybiBhcmcuZ2V0UmFuZ2UoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldFZhbHVlUmFuZ2UoZG9jdW1lbnQsIGFyZykge1xuICAgICAgICByZXR1cm4gdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoZG9jdW1lbnQub2Zmc2V0QXQoYXJnLmdldFJhbmdlKCkuc3RhcnQpICsgYXJnLmdldFZhbHVlKCkuaW5kZXhPZignPScpICsgMSksIGRvY3VtZW50LnBvc2l0aW9uQXQoZG9jdW1lbnQub2Zmc2V0QXQoYXJnLmdldFJhbmdlKCkuZW5kKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUgb2YgdGhpcyBrZXktdmFsdWUgcGFpci4gVGhlIHZhbHVlIHdpbGxcbiAgICAgKiBoYXZlIGl0cyBlc2NhcGUgY2hhcmFjdGVycyByZW1vdmVkIGlmIGFwcGxpY2FibGUuIElmIHRoZSB2YWx1ZVxuICAgICAqIHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCB0aGVyZSBhcmUgY29tbWVudHMgbmVzdGVkIHdpdGhpbiB0aGVcbiAgICAgKiBsaW5lcywgdGhleSB0b28gd2lsbCBiZSByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgdmFsdWUgdGhhdCB0aGlzIGtleS12YWx1ZSBwYWlyIHdpbGwgYWN0dWFsbHkgYmUsIG1heVxuICAgICAqICAgICAgICAgYmUgbnVsbCBpZiBubyB2YWx1ZSBpcyBkZWZpbmVkLCBtYXkgYmUgdGhlIGVtcHR5IHN0cmluZ1xuICAgICAqICAgICAgICAgaWYgdGhlIHZhbHVlIG9ubHkgY29uc2lzdHMgb2Ygd2hpdGVzcGFjZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRWYWx1ZSh2YWx1ZSwgZXNjYXBlQ2hhcikge1xuICAgICAgICBsZXQgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBza2lwID0gdXRpbF8xLlV0aWwuZmluZExlYWRpbmdOb25XaGl0ZXNwYWNlKHZhbHVlLCBlc2NhcGVDaGFyKTtcbiAgICAgICAgaWYgKHNraXAgIT09IDAgJiYgdmFsdWUuY2hhckF0KHNraXApID09PSAnIycpIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gc2tpcCBvdmVyIGNvbW1lbnRzXG4gICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZyhza2lwKTtcbiAgICAgICAgbGV0IGZpcnN0ID0gdmFsdWUuY2hhckF0KDApO1xuICAgICAgICBsZXQgbGFzdCA9IHZhbHVlLmNoYXJBdCh2YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgbGV0IGxpdGVyYWwgPSBmaXJzdCA9PT0gJ1xcJycgfHwgZmlyc3QgPT09ICdcIic7XG4gICAgICAgIGxldCBpblNpbmdsZSA9IChmaXJzdCA9PT0gJ1xcJycgJiYgbGFzdCA9PT0gJ1xcJycpO1xuICAgICAgICBsZXQgaW5Eb3VibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGZpcnN0ID09PSAnXCInKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNoYXJBdChpKSA9PT0gZXNjYXBlQ2hhcikge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmNoYXJBdChpKSA9PT0gJ1wiJyAmJiBpID09PSB2YWx1ZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGluRG91YmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluU2luZ2xlIHx8IGluRG91YmxlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxLCB2YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tbWVudENoZWNrID0gLTE7XG4gICAgICAgIGxldCBlc2NhcGVkVmFsdWUgPSBcIlwiO1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBwYXJzZVZhbHVlOiBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hhciA9IHZhbHVlLmNoYXJBdChpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgICAgICAgIGNhc2UgZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgKyAxID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWRWYWx1ZSA9IGVzY2FwZWRWYWx1ZSArIGVzY2FwZUNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBwYXJzZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoYXIgPSB2YWx1ZS5jaGFyQXQoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJyAnIHx8IGNoYXIgPT09ICdcXHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZXNwYWNlQ2hlY2s6IGZvciAobGV0IGogPSBpICsgMjsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXIyID0gdmFsdWUuY2hhckF0KGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBwYXJzZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbkRvdWJsZSAmJiAhaW5TaW5nbGUgJiYgIWxpdGVyYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcjIgPT09IGVzY2FwZUNoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBlc2NhcGVkIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkVmFsdWUgPSBlc2NhcGVkVmFsdWUgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3cgc3RhcnQgcGFyc2luZyBmcm9tIHRoZSBuZXh0IGVzY2FwZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGV4cGVjdGF0aW9uIGlzIHRoYXQgdGhpcyBqID0gaSArIDIgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkVmFsdWUgPSBlc2NhcGVkVmFsdWUgKyBjaGFyICsgY2hhcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBwYXJzZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgd2hpdGVzcGFjZUNoZWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5Eb3VibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciAhPT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBlc2NhcGVDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFZhbHVlID0gZXNjYXBlZFZhbHVlICsgZXNjYXBlQ2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHBhcnNlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5TaW5nbGUgfHwgbGl0ZXJhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkVmFsdWUgPSBlc2NhcGVkVmFsdWUgKyBlc2NhcGVDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgcGFyc2VWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSBlc2NhcGVDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb3VibGUgZXNjYXBlLCBhcHBlbmQgb25lIGFuZCBtb3ZlIG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkVmFsdWUgPSBlc2NhcGVkVmFsdWUgKyBlc2NhcGVDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09ICdcXHInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBvbmUgbW9yZSBmb3IgXFxyXFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gaSArIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55IG90aGVyIGVzY2FwZXMgYXJlIHNpbXBseSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkVmFsdWUgPSBlc2NhcGVkVmFsdWUgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkICYmIGNvbW1lbnRDaGVjayA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDaGVjayA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFZhbHVlID0gZXNjYXBlZFZhbHVlICsgY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkICYmIGNvbW1lbnRDaGVjayAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJvbGxiYWNrIGFuZCByZW1vdmUgdGhlIHdoaXRlc3BhY2UgdGhhdCB3YXMgcHJldmlvdXNseSBhcHBlbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFZhbHVlID0gZXNjYXBlZFZhbHVlLnN1YnN0cmluZygwLCBlc2NhcGVkVmFsdWUubGVuZ3RoIC0gKGkgLSBjb21tZW50Q2hlY2sgLSAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q2hlY2sgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBuZXdsaW5lIHdhcyBlc2NhcGVkIGFuZCBub3cgdGhlcmUncyBhIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50Q2hlY2sgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcm9sbGJhY2sgYW5kIHJlbW92ZSB0aGUgd2hpdGVzcGFjZSB0aGF0IHdhcyBwcmV2aW91c2x5IGFwcGVuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFZhbHVlID0gZXNjYXBlZFZhbHVlLnN1YnN0cmluZygwLCBlc2NhcGVkVmFsdWUubGVuZ3RoIC0gKGkgLSBjb21tZW50Q2hlY2spKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q2hlY2sgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld2xpbmVDaGVjazogZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBuZXdsaW5lQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgcGFyc2VWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q2hlY2sgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkVmFsdWUgPSBlc2NhcGVkVmFsdWUgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXNjYXBlZFZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuUHJvcGVydHkgPSBQcm9wZXJ0eTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/property.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/propertyInstruction.js":
/*!****************************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/propertyInstruction.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PropertyInstruction = void 0;\nconst vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ \"(rsc)/./node_modules/vscode-languageserver-types/lib/umd/main.js\");\nconst instruction_1 = __webpack_require__(/*! ./instruction */ \"(rsc)/./node_modules/dockerfile-ast/lib/instruction.js\");\nconst property_1 = __webpack_require__(/*! ./property */ \"(rsc)/./node_modules/dockerfile-ast/lib/property.js\");\nconst argument_1 = __webpack_require__(/*! ./argument */ \"(rsc)/./node_modules/dockerfile-ast/lib/argument.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/dockerfile-ast/lib/util.js\");\nclass PropertyInstruction extends instruction_1.Instruction {\n    constructor(document, range, dockerfile, escapeChar, instruction, instructionRange) {\n        super(document, range, dockerfile, escapeChar, instruction, instructionRange);\n        this.properties = undefined;\n    }\n    getProperties() {\n        if (this.properties === undefined) {\n            let args = this.getPropertyArguments();\n            if (args.length === 0) {\n                this.properties = [];\n            }\n            else if (args.length === 1) {\n                this.properties = [new property_1.Property(this.document, this.escapeChar, args[0])];\n            }\n            else if (args.length === 2) {\n                if (args[0].getValue().indexOf('=') === -1) {\n                    this.properties = [new property_1.Property(this.document, this.escapeChar, args[0], args[1])];\n                }\n                else {\n                    this.properties = [\n                        new property_1.Property(this.document, this.escapeChar, args[0]),\n                        new property_1.Property(this.document, this.escapeChar, args[1])\n                    ];\n                }\n            }\n            else if (args[0].getValue().indexOf('=') === -1) {\n                let text = this.document.getText();\n                let start = args[1].getRange().start;\n                let end = args[args.length - 1].getRange().end;\n                text = text.substring(this.document.offsetAt(start), this.document.offsetAt(end));\n                this.properties = [new property_1.Property(this.document, this.escapeChar, args[0], new argument_1.Argument(text, vscode_languageserver_types_1.Range.create(args[1].getRange().start, args[args.length - 1].getRange().end)))];\n            }\n            else {\n                this.properties = [];\n                for (let i = 0; i < args.length; i++) {\n                    this.properties.push(new property_1.Property(this.document, this.escapeChar, args[i]));\n                }\n            }\n        }\n        return this.properties;\n    }\n    /**\n     * Goes from the back of the string and returns the first\n     * non-whitespace character that is found. If an escape character\n     * is found with newline characters, the escape character will\n     * not be considered a non-whitespace character and its index in\n     * the string will not be returned.\n     *\n     * @param content the string to search through\n     * @return the index in the string for the first non-whitespace\n     *         character when searching from the end of the string\n     */\n    findTrailingNonWhitespace(content) {\n        // loop back to find the first non-whitespace character\n        let index = content.length;\n        whitespaceCheck: for (let i = content.length - 1; i >= 0; i--) {\n            switch (content.charAt(i)) {\n                case ' ':\n                case '\\t':\n                    continue;\n                case '\\n':\n                    if (content.charAt(i - 1) === '\\r') {\n                        i = i - 1;\n                    }\n                case '\\r':\n                    newlineCheck: for (let j = i - 1; j >= 0; j--) {\n                        switch (content.charAt(j)) {\n                            case ' ':\n                            case '\\t':\n                            case '\\r':\n                            case '\\n':\n                            case this.escapeChar:\n                                continue;\n                            default:\n                                index = j;\n                                break newlineCheck;\n                        }\n                    }\n                    break whitespaceCheck;\n                default:\n                    index = i;\n                    break whitespaceCheck;\n            }\n        }\n        return index;\n    }\n    getPropertyArguments() {\n        const args = [];\n        let range = this.getInstructionRange();\n        let instructionNameEndOffset = this.document.offsetAt(range.end);\n        let extra = instructionNameEndOffset - this.document.offsetAt(range.start);\n        let content = this.getTextContent();\n        let fullArgs = content.substring(extra);\n        let start = util_1.Util.findLeadingNonWhitespace(fullArgs, this.escapeChar);\n        if (start === -1) {\n            // only whitespace found, no arguments\n            return [];\n        }\n        const startPosition = this.document.positionAt(instructionNameEndOffset + start);\n        // records whether the parser has just processed an escaped newline or not,\n        // if our starting position is not on the same line as the instruction then\n        // the start of the content is already on an escaped line\n        let escaped = range.start.line !== startPosition.line;\n        // flag to track if the last character was an escape character\n        let endingEscape = false;\n        // position before the first escape character was hit\n        let mark = -1;\n        let end = this.findTrailingNonWhitespace(fullArgs);\n        content = fullArgs.substring(start, end + 1);\n        let argStart = escaped ? -1 : 0;\n        let spaced = false;\n        argumentLoop: for (let i = 0; i < content.length; i++) {\n            let char = content.charAt(i);\n            switch (char) {\n                case this.escapeChar:\n                    if (i + 1 === content.length) {\n                        endingEscape = true;\n                        break argumentLoop;\n                    }\n                    if (!escaped) {\n                        mark = i;\n                    }\n                    switch (content.charAt(i + 1)) {\n                        case ' ':\n                        case '\\t':\n                            if (!util_1.Util.isWhitespace(content.charAt(i + 2))) {\n                                // space was escaped, continue as normal\n                                i = i + 1;\n                                continue argumentLoop;\n                            }\n                            // whitespace encountered, need to figure out if it extends to EOL\n                            whitespaceCheck: for (let j = i + 2; j < content.length; j++) {\n                                switch (content.charAt(j)) {\n                                    case '\\r':\n                                        // offset one more for \\r\\n\n                                        j++;\n                                    case '\\n':\n                                        // whitespace only, safe to skip\n                                        escaped = true;\n                                        i = j;\n                                        continue argumentLoop;\n                                    case ' ':\n                                    case '\\t':\n                                        // ignore whitespace\n                                        break;\n                                    default:\n                                        // whitespace doesn't extend to EOL, create an argument\n                                        args.push(new argument_1.Argument(content.substring(argStart, i), vscode_languageserver_types_1.Range.create(this.document.positionAt(instructionNameEndOffset + start + argStart), this.document.positionAt(instructionNameEndOffset + start + i + 2))));\n                                        argStart = j;\n                                        break whitespaceCheck;\n                                }\n                            }\n                            // go back and start processing the encountered non-whitespace character\n                            i = argStart - 1;\n                            continue argumentLoop;\n                        case '\\r':\n                            // offset one more for \\r\\n\n                            i++;\n                        case '\\n':\n                            // immediately followed by a newline, skip the newline\n                            escaped = true;\n                            i = i + 1;\n                            continue argumentLoop;\n                        case this.escapeChar:\n                            // double escape found, skip it and move on\n                            if (argStart === -1) {\n                                argStart = i;\n                            }\n                            i = i + 1;\n                            continue argumentLoop;\n                        default:\n                            if (argStart === -1) {\n                                argStart = i;\n                            }\n                            // non-whitespace encountered, skip the escape and process the\n                            // character normally\n                            continue argumentLoop;\n                    }\n                case '\\'':\n                case '\"':\n                    if (spaced) {\n                        this.createSpacedArgument(argStart, args, content, mark, instructionNameEndOffset, start);\n                        // reset to start a new argument\n                        argStart = i;\n                        spaced = false;\n                    }\n                    if (argStart === -1) {\n                        argStart = i;\n                    }\n                    for (let j = i + 1; j < content.length; j++) {\n                        switch (content.charAt(j)) {\n                            case char:\n                                if (content.charAt(j + 1) !== ' ' && content.charAt(j + 1) !== '') {\n                                    // there is more content after this quote,\n                                    // continue so that it is all processed as\n                                    // one single argument\n                                    i = j;\n                                    continue argumentLoop;\n                                }\n                                args.push(new argument_1.Argument(content.substring(argStart, j + 1), vscode_languageserver_types_1.Range.create(this.document.positionAt(instructionNameEndOffset + start + argStart), this.document.positionAt(instructionNameEndOffset + start + j + 1))));\n                                i = j;\n                                argStart = -1;\n                                continue argumentLoop;\n                            case this.escapeChar:\n                                j++;\n                                break;\n                        }\n                    }\n                    break argumentLoop;\n                case ' ':\n                case '\\t':\n                    if (escaped) {\n                        // consider there to be a space only if an argument\n                        // is not spanning multiple lines\n                        if (argStart !== -1) {\n                            spaced = true;\n                        }\n                    }\n                    else if (argStart !== -1) {\n                        args.push(new argument_1.Argument(content.substring(argStart, i), vscode_languageserver_types_1.Range.create(this.document.positionAt(instructionNameEndOffset + start + argStart), this.document.positionAt(instructionNameEndOffset + start + i))));\n                        argStart = -1;\n                    }\n                    break;\n                case '\\r':\n                    // offset one more for \\r\\n\n                    i++;\n                case '\\n':\n                    spaced = false;\n                    break;\n                case '#':\n                    if (escaped) {\n                        // a newline was escaped and now there's a comment\n                        for (let j = i + 1; j < content.length; j++) {\n                            switch (content.charAt(j)) {\n                                case '\\r':\n                                    j++;\n                                case '\\n':\n                                    i = j;\n                                    spaced = false;\n                                    continue argumentLoop;\n                            }\n                        }\n                        // went to the end without finding a newline,\n                        // the comment was the last line in the instruction,\n                        // just stop parsing, create an argument if needed\n                        if (argStart !== -1) {\n                            let value = content.substring(argStart, mark);\n                            args.push(new argument_1.Argument(value, vscode_languageserver_types_1.Range.create(this.document.positionAt(instructionNameEndOffset + start + argStart), this.document.positionAt(instructionNameEndOffset + start + mark))));\n                            argStart = -1;\n                        }\n                        break argumentLoop;\n                    }\n                    else if (argStart === -1) {\n                        argStart = i;\n                    }\n                    break;\n                default:\n                    if (spaced) {\n                        this.createSpacedArgument(argStart, args, content, mark, instructionNameEndOffset, start);\n                        // reset to start a new argument\n                        argStart = i;\n                        spaced = false;\n                    }\n                    escaped = false;\n                    if (argStart === -1) {\n                        argStart = i;\n                    }\n                    // variable detected\n                    if (char === '$' && content.charAt(i + 1) === '{') {\n                        let singleQuotes = false;\n                        let doubleQuotes = false;\n                        let escaped = false;\n                        for (let j = i + 1; j < content.length; j++) {\n                            switch (content.charAt(j)) {\n                                case this.escapeChar:\n                                    escaped = true;\n                                    break;\n                                case '\\r':\n                                case '\\n':\n                                    break;\n                                case '\\'':\n                                    singleQuotes = !singleQuotes;\n                                    escaped = false;\n                                    break;\n                                case '\"':\n                                    doubleQuotes = !doubleQuotes;\n                                    escaped = false;\n                                    break;\n                                case ' ':\n                                case '\\t':\n                                    if (escaped || singleQuotes || doubleQuotes) {\n                                        break;\n                                    }\n                                    i = j - 1;\n                                    continue argumentLoop;\n                                case '}':\n                                    i = j;\n                                    continue argumentLoop;\n                                default:\n                                    escaped = false;\n                                    break;\n                            }\n                        }\n                        break argumentLoop;\n                    }\n                    break;\n            }\n        }\n        if (argStart !== -1 && argStart !== content.length) {\n            let end = endingEscape ? content.length - 1 : content.length;\n            let value = content.substring(argStart, end);\n            args.push(new argument_1.Argument(value, vscode_languageserver_types_1.Range.create(this.document.positionAt(instructionNameEndOffset + start + argStart), this.document.positionAt(instructionNameEndOffset + start + end))));\n        }\n        return args;\n    }\n    createSpacedArgument(argStart, args, content, mark, instructionNameEndOffset, start) {\n        if (argStart !== -1) {\n            args.push(new argument_1.Argument(content.substring(argStart, mark), vscode_languageserver_types_1.Range.create(this.document.positionAt(instructionNameEndOffset + start + argStart), this.document.positionAt(instructionNameEndOffset + start + mark))));\n        }\n    }\n}\nexports.PropertyInstruction = PropertyInstruction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3Byb3BlcnR5SW5zdHJ1Y3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCO0FBQzNCLHNDQUFzQyxtQkFBTyxDQUFDLHFHQUE2QjtBQUMzRSxzQkFBc0IsbUJBQU8sQ0FBQyw2RUFBZTtBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUN2QyxtQkFBbUIsbUJBQU8sQ0FBQyx1RUFBWTtBQUN2QyxlQUFlLG1CQUFPLENBQUMsK0RBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsUUFBUTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsUUFBUTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLG9CQUFvQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0JBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsb0JBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3Byb3BlcnR5SW5zdHJ1Y3Rpb24uanM/MjhkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUHJvcGVydHlJbnN0cnVjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xID0gcmVxdWlyZShcInZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlc1wiKTtcbmNvbnN0IGluc3RydWN0aW9uXzEgPSByZXF1aXJlKFwiLi9pbnN0cnVjdGlvblwiKTtcbmNvbnN0IHByb3BlcnR5XzEgPSByZXF1aXJlKFwiLi9wcm9wZXJ0eVwiKTtcbmNvbnN0IGFyZ3VtZW50XzEgPSByZXF1aXJlKFwiLi9hcmd1bWVudFwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jbGFzcyBQcm9wZXJ0eUluc3RydWN0aW9uIGV4dGVuZHMgaW5zdHJ1Y3Rpb25fMS5JbnN0cnVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZG9jdW1lbnQsIHJhbmdlLCBkb2NrZXJmaWxlLCBlc2NhcGVDaGFyLCBpbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25SYW5nZSkge1xuICAgICAgICBzdXBlcihkb2N1bWVudCwgcmFuZ2UsIGRvY2tlcmZpbGUsIGVzY2FwZUNoYXIsIGluc3RydWN0aW9uLCBpbnN0cnVjdGlvblJhbmdlKTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBhcmdzID0gdGhpcy5nZXRQcm9wZXJ0eUFyZ3VtZW50cygpO1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtuZXcgcHJvcGVydHlfMS5Qcm9wZXJ0eSh0aGlzLmRvY3VtZW50LCB0aGlzLmVzY2FwZUNoYXIsIGFyZ3NbMF0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0uZ2V0VmFsdWUoKS5pbmRleE9mKCc9JykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtuZXcgcHJvcGVydHlfMS5Qcm9wZXJ0eSh0aGlzLmRvY3VtZW50LCB0aGlzLmVzY2FwZUNoYXIsIGFyZ3NbMF0sIGFyZ3NbMV0pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwcm9wZXJ0eV8xLlByb3BlcnR5KHRoaXMuZG9jdW1lbnQsIHRoaXMuZXNjYXBlQ2hhciwgYXJnc1swXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgcHJvcGVydHlfMS5Qcm9wZXJ0eSh0aGlzLmRvY3VtZW50LCB0aGlzLmVzY2FwZUNoYXIsIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJnc1swXS5nZXRWYWx1ZSgpLmluZGV4T2YoJz0nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMuZG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGFyZ3NbMV0uZ2V0UmFuZ2UoKS5zdGFydDtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdLmdldFJhbmdlKCkuZW5kO1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZyh0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHN0YXJ0KSwgdGhpcy5kb2N1bWVudC5vZmZzZXRBdChlbmQpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbbmV3IHByb3BlcnR5XzEuUHJvcGVydHkodGhpcy5kb2N1bWVudCwgdGhpcy5lc2NhcGVDaGFyLCBhcmdzWzBdLCBuZXcgYXJndW1lbnRfMS5Bcmd1bWVudCh0ZXh0LCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUoYXJnc1sxXS5nZXRSYW5nZSgpLnN0YXJ0LCBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKS5lbmQpKSldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcy5wdXNoKG5ldyBwcm9wZXJ0eV8xLlByb3BlcnR5KHRoaXMuZG9jdW1lbnQsIHRoaXMuZXNjYXBlQ2hhciwgYXJnc1tpXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHb2VzIGZyb20gdGhlIGJhY2sgb2YgdGhlIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgZmlyc3RcbiAgICAgKiBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgdGhhdCBpcyBmb3VuZC4gSWYgYW4gZXNjYXBlIGNoYXJhY3RlclxuICAgICAqIGlzIGZvdW5kIHdpdGggbmV3bGluZSBjaGFyYWN0ZXJzLCB0aGUgZXNjYXBlIGNoYXJhY3RlciB3aWxsXG4gICAgICogbm90IGJlIGNvbnNpZGVyZWQgYSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgYW5kIGl0cyBpbmRleCBpblxuICAgICAqIHRoZSBzdHJpbmcgd2lsbCBub3QgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGVudCB0aGUgc3RyaW5nIHRvIHNlYXJjaCB0aHJvdWdoXG4gICAgICogQHJldHVybiB0aGUgaW5kZXggaW4gdGhlIHN0cmluZyBmb3IgdGhlIGZpcnN0IG5vbi13aGl0ZXNwYWNlXG4gICAgICogICAgICAgICBjaGFyYWN0ZXIgd2hlbiBzZWFyY2hpbmcgZnJvbSB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcbiAgICAgKi9cbiAgICBmaW5kVHJhaWxpbmdOb25XaGl0ZXNwYWNlKGNvbnRlbnQpIHtcbiAgICAgICAgLy8gbG9vcCBiYWNrIHRvIGZpbmQgdGhlIGZpcnN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlclxuICAgICAgICBsZXQgaW5kZXggPSBjb250ZW50Lmxlbmd0aDtcbiAgICAgICAgd2hpdGVzcGFjZUNoZWNrOiBmb3IgKGxldCBpID0gY29udGVudC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChpKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LmNoYXJBdChpIC0gMSkgPT09ICdcXHInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICBuZXdsaW5lQ2hlY2s6IGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29udGVudC5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBuZXdsaW5lQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgd2hpdGVzcGFjZUNoZWNrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgd2hpdGVzcGFjZUNoZWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgZ2V0UHJvcGVydHlBcmd1bWVudHMoKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBbXTtcbiAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5nZXRJbnN0cnVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgPSB0aGlzLmRvY3VtZW50Lm9mZnNldEF0KHJhbmdlLmVuZCk7XG4gICAgICAgIGxldCBleHRyYSA9IGluc3RydWN0aW9uTmFtZUVuZE9mZnNldCAtIHRoaXMuZG9jdW1lbnQub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuZ2V0VGV4dENvbnRlbnQoKTtcbiAgICAgICAgbGV0IGZ1bGxBcmdzID0gY29udGVudC5zdWJzdHJpbmcoZXh0cmEpO1xuICAgICAgICBsZXQgc3RhcnQgPSB1dGlsXzEuVXRpbC5maW5kTGVhZGluZ05vbldoaXRlc3BhY2UoZnVsbEFyZ3MsIHRoaXMuZXNjYXBlQ2hhcik7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgd2hpdGVzcGFjZSBmb3VuZCwgbm8gYXJndW1lbnRzXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgKyBzdGFydCk7XG4gICAgICAgIC8vIHJlY29yZHMgd2hldGhlciB0aGUgcGFyc2VyIGhhcyBqdXN0IHByb2Nlc3NlZCBhbiBlc2NhcGVkIG5ld2xpbmUgb3Igbm90LFxuICAgICAgICAvLyBpZiBvdXIgc3RhcnRpbmcgcG9zaXRpb24gaXMgbm90IG9uIHRoZSBzYW1lIGxpbmUgYXMgdGhlIGluc3RydWN0aW9uIHRoZW5cbiAgICAgICAgLy8gdGhlIHN0YXJ0IG9mIHRoZSBjb250ZW50IGlzIGFscmVhZHkgb24gYW4gZXNjYXBlZCBsaW5lXG4gICAgICAgIGxldCBlc2NhcGVkID0gcmFuZ2Uuc3RhcnQubGluZSAhPT0gc3RhcnRQb3NpdGlvbi5saW5lO1xuICAgICAgICAvLyBmbGFnIHRvIHRyYWNrIGlmIHRoZSBsYXN0IGNoYXJhY3RlciB3YXMgYW4gZXNjYXBlIGNoYXJhY3RlclxuICAgICAgICBsZXQgZW5kaW5nRXNjYXBlID0gZmFsc2U7XG4gICAgICAgIC8vIHBvc2l0aW9uIGJlZm9yZSB0aGUgZmlyc3QgZXNjYXBlIGNoYXJhY3RlciB3YXMgaGl0XG4gICAgICAgIGxldCBtYXJrID0gLTE7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmZpbmRUcmFpbGluZ05vbldoaXRlc3BhY2UoZnVsbEFyZ3MpO1xuICAgICAgICBjb250ZW50ID0gZnVsbEFyZ3Muc3Vic3RyaW5nKHN0YXJ0LCBlbmQgKyAxKTtcbiAgICAgICAgbGV0IGFyZ1N0YXJ0ID0gZXNjYXBlZCA/IC0xIDogMDtcbiAgICAgICAgbGV0IHNwYWNlZCA9IGZhbHNlO1xuICAgICAgICBhcmd1bWVudExvb3A6IGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoYXIgPSBjb250ZW50LmNoYXJBdChpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5lc2NhcGVDaGFyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPT09IGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRpbmdFc2NhcGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYXJndW1lbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyayA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChpICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXV0aWxfMS5VdGlsLmlzV2hpdGVzcGFjZShjb250ZW50LmNoYXJBdChpICsgMikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwYWNlIHdhcyBlc2NhcGVkLCBjb250aW51ZSBhcyBub3JtYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBhcmd1bWVudExvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaXRlc3BhY2UgZW5jb3VudGVyZWQsIG5lZWQgdG8gZmlndXJlIG91dCBpZiBpdCBleHRlbmRzIHRvIEVPTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlc3BhY2VDaGVjazogZm9yIChsZXQgaiA9IGkgKyAyOyBqIDwgY29udGVudC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnQuY2hhckF0KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBvbmUgbW9yZSBmb3IgXFxyXFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGl0ZXNwYWNlIG9ubHksIHNhZmUgdG8gc2tpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGFyZ3VtZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGl0ZXNwYWNlIGRvZXNuJ3QgZXh0ZW5kIHRvIEVPTCwgY3JlYXRlIGFuIGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG5ldyBhcmd1bWVudF8xLkFyZ3VtZW50KGNvbnRlbnQuc3Vic3RyaW5nKGFyZ1N0YXJ0LCBpKSwgdnNjb2RlX2xhbmd1YWdlc2VydmVyX3R5cGVzXzEuUmFuZ2UuY3JlYXRlKHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgKyBzdGFydCArIGFyZ1N0YXJ0KSwgdGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KGluc3RydWN0aW9uTmFtZUVuZE9mZnNldCArIHN0YXJ0ICsgaSArIDIpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1N0YXJ0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayB3aGl0ZXNwYWNlQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ28gYmFjayBhbmQgc3RhcnQgcHJvY2Vzc2luZyB0aGUgZW5jb3VudGVyZWQgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGFyZ1N0YXJ0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBhcmd1bWVudExvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBvbmUgbW9yZSBmb3IgXFxyXFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhIG5ld2xpbmUsIHNraXAgdGhlIG5ld2xpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgYXJndW1lbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG91YmxlIGVzY2FwZSBmb3VuZCwgc2tpcCBpdCBhbmQgbW92ZSBvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdTdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgYXJndW1lbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnU3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1N0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uLXdoaXRlc3BhY2UgZW5jb3VudGVyZWQsIHNraXAgdGhlIGVzY2FwZSBhbmQgcHJvY2VzcyB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFyYWN0ZXIgbm9ybWFsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBhcmd1bWVudExvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdcXCcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwYWNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVTcGFjZWRBcmd1bWVudChhcmdTdGFydCwgYXJncywgY29udGVudCwgbWFyaywgaW5zdHJ1Y3Rpb25OYW1lRW5kT2Zmc2V0LCBzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXNldCB0byBzdGFydCBhIG5ldyBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ1N0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29udGVudC5jaGFyQXQoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGNoYXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LmNoYXJBdChqICsgMSkgIT09ICcgJyAmJiBjb250ZW50LmNoYXJBdChqICsgMSkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBtb3JlIGNvbnRlbnQgYWZ0ZXIgdGhpcyBxdW90ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIHNvIHRoYXQgaXQgaXMgYWxsIHByb2Nlc3NlZCBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25lIHNpbmdsZSBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBhcmd1bWVudExvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG5ldyBhcmd1bWVudF8xLkFyZ3VtZW50KGNvbnRlbnQuc3Vic3RyaW5nKGFyZ1N0YXJ0LCBqICsgMSksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoaW5zdHJ1Y3Rpb25OYW1lRW5kT2Zmc2V0ICsgc3RhcnQgKyBhcmdTdGFydCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgKyBzdGFydCArIGogKyAxKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1N0YXJ0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGFyZ3VtZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhayBhcmd1bWVudExvb3A7XG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZXJlIHRvIGJlIGEgc3BhY2Ugb25seSBpZiBhbiBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgbm90IHNwYW5uaW5nIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnU3RhcnQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChuZXcgYXJndW1lbnRfMS5Bcmd1bWVudChjb250ZW50LnN1YnN0cmluZyhhcmdTdGFydCwgaSksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoaW5zdHJ1Y3Rpb25OYW1lRW5kT2Zmc2V0ICsgc3RhcnQgKyBhcmdTdGFydCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgKyBzdGFydCArIGkpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnU3RhcnQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgb25lIG1vcmUgZm9yIFxcclxcblxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBuZXdsaW5lIHdhcyBlc2NhcGVkIGFuZCBub3cgdGhlcmUncyBhIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnQuY2hhckF0KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgYXJndW1lbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlbnQgdG8gdGhlIGVuZCB3aXRob3V0IGZpbmRpbmcgYSBuZXdsaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGNvbW1lbnQgd2FzIHRoZSBsYXN0IGxpbmUgaW4gdGhlIGluc3RydWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBzdG9wIHBhcnNpbmcsIGNyZWF0ZSBhbiBhcmd1bWVudCBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBjb250ZW50LnN1YnN0cmluZyhhcmdTdGFydCwgbWFyayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG5ldyBhcmd1bWVudF8xLkFyZ3VtZW50KHZhbHVlLCB2c2NvZGVfbGFuZ3VhZ2VzZXJ2ZXJfdHlwZXNfMS5SYW5nZS5jcmVhdGUodGhpcy5kb2N1bWVudC5wb3NpdGlvbkF0KGluc3RydWN0aW9uTmFtZUVuZE9mZnNldCArIHN0YXJ0ICsgYXJnU3RhcnQpLCB0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoaW5zdHJ1Y3Rpb25OYW1lRW5kT2Zmc2V0ICsgc3RhcnQgKyBtYXJrKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdTdGFydCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYXJndW1lbnRMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ1N0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGFjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU3BhY2VkQXJndW1lbnQoYXJnU3RhcnQsIGFyZ3MsIGNvbnRlbnQsIG1hcmssIGluc3RydWN0aW9uTmFtZUVuZE9mZnNldCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdG8gc3RhcnQgYSBuZXcgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1N0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ1N0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhcmlhYmxlIGRldGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnJCcgJiYgY29udGVudC5jaGFyQXQoaSArIDEpID09PSAneycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaW5nbGVRdW90ZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb3VibGVRdW90ZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBjb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50LmNoYXJBdChqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFwnJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZVF1b3RlcyA9ICFzaW5nbGVRdW90ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG91YmxlUXVvdGVzID0gIWRvdWJsZVF1b3RlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlc2NhcGVkIHx8IHNpbmdsZVF1b3RlcyB8fCBkb3VibGVRdW90ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBqIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGFyZ3VtZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGFyZ3VtZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGFyZ3VtZW50TG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnU3RhcnQgIT09IC0xICYmIGFyZ1N0YXJ0ICE9PSBjb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGVuZCA9IGVuZGluZ0VzY2FwZSA/IGNvbnRlbnQubGVuZ3RoIC0gMSA6IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gY29udGVudC5zdWJzdHJpbmcoYXJnU3RhcnQsIGVuZCk7XG4gICAgICAgICAgICBhcmdzLnB1c2gobmV3IGFyZ3VtZW50XzEuQXJndW1lbnQodmFsdWUsIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoaW5zdHJ1Y3Rpb25OYW1lRW5kT2Zmc2V0ICsgc3RhcnQgKyBhcmdTdGFydCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgKyBzdGFydCArIGVuZCkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuICAgIGNyZWF0ZVNwYWNlZEFyZ3VtZW50KGFyZ1N0YXJ0LCBhcmdzLCBjb250ZW50LCBtYXJrLCBpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQsIHN0YXJ0KSB7XG4gICAgICAgIGlmIChhcmdTdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChuZXcgYXJndW1lbnRfMS5Bcmd1bWVudChjb250ZW50LnN1YnN0cmluZyhhcmdTdGFydCwgbWFyayksIHZzY29kZV9sYW5ndWFnZXNlcnZlcl90eXBlc18xLlJhbmdlLmNyZWF0ZSh0aGlzLmRvY3VtZW50LnBvc2l0aW9uQXQoaW5zdHJ1Y3Rpb25OYW1lRW5kT2Zmc2V0ICsgc3RhcnQgKyBhcmdTdGFydCksIHRoaXMuZG9jdW1lbnQucG9zaXRpb25BdChpbnN0cnVjdGlvbk5hbWVFbmRPZmZzZXQgKyBzdGFydCArIG1hcmspKSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Qcm9wZXJ0eUluc3RydWN0aW9uID0gUHJvcGVydHlJbnN0cnVjdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/propertyInstruction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/util.js":
/*!*************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/util.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/* --------------------------------------------------------------------------------------------\n * Copyright (c) Remy Suen. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Util = void 0;\nclass Util {\n    static isUTF8BOM(char) {\n        const uintArray = Uint8Array.from(Buffer.from(char, \"UTF-8\"));\n        return uintArray[0] === 0xEF && uintArray[1] == 0xBB && uintArray[2] == 0xBF;\n    }\n    static isWhitespace(char) {\n        return char === ' ' || char === '\\t' || Util.isNewline(char);\n    }\n    static isNewline(char) {\n        return char === '\\r' || char === '\\n';\n    }\n    static findLeadingNonWhitespace(content, escapeChar) {\n        whitespaceCheck: for (let i = 0; i < content.length; i++) {\n            switch (content.charAt(i)) {\n                case ' ':\n                case '\\t':\n                    continue;\n                case escapeChar:\n                    escapeCheck: for (let j = i + 1; j < content.length; j++) {\n                        switch (content.charAt(j)) {\n                            case ' ':\n                            case '\\t':\n                                continue;\n                            case '\\r':\n                                // offset one more for \\r\\n\n                                i = j + 1;\n                                continue whitespaceCheck;\n                            case '\\n':\n                                i = j;\n                                continue whitespaceCheck;\n                            default:\n                                break escapeCheck;\n                        }\n                    }\n                    // found an escape character and then reached EOF\n                    return -1;\n                default:\n                    return i;\n            }\n        }\n        // only possible if the content is the empty string\n        return -1;\n    }\n    /**\n     * Determines if the given position is contained within the given range.\n     *\n     * @param position the position to check\n     * @param range the range to see if the position is inside of\n     */\n    static isInsideRange(position, range) {\n        if (range.start.line === range.end.line) {\n            return range.start.line === position.line\n                && range.start.character <= position.character\n                && position.character <= range.end.character;\n        }\n        else if (range.start.line === position.line) {\n            return range.start.character <= position.character;\n        }\n        else if (range.end.line === position.line) {\n            return position.character <= range.end.character;\n        }\n        return range.start.line < position.line && position.line < range.end.line;\n    }\n    static parseHeredocName(value) {\n        value = value.substring(2);\n        if (value.charAt(0) === '-') {\n            value = value.substring(1);\n        }\n        if (value.charAt(0) === '\"') {\n            if (value.charAt(value.length - 1) !== '\"') {\n                return null;\n            }\n            value = value.substring(1, value.length - 1);\n        }\n        if (value.charAt(0) === '\\'') {\n            if (value.charAt(value.length - 1) !== '\\'') {\n                return null;\n            }\n            value = value.substring(1, value.length - 1);\n        }\n        if (value.charAt(0) === \"<\") {\n            return null;\n        }\n        return value;\n    }\n}\nexports.Util = Util;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3V0aWwuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9CQUFvQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELG9CQUFvQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvdXRpbC5qcz9mMDU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIFJlbXkgU3Vlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbid1c2Ugc3RyaWN0Jztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVXRpbCA9IHZvaWQgMDtcbmNsYXNzIFV0aWwge1xuICAgIHN0YXRpYyBpc1VURjhCT00oY2hhcikge1xuICAgICAgICBjb25zdCB1aW50QXJyYXkgPSBVaW50OEFycmF5LmZyb20oQnVmZmVyLmZyb20oY2hhciwgXCJVVEYtOFwiKSk7XG4gICAgICAgIHJldHVybiB1aW50QXJyYXlbMF0gPT09IDB4RUYgJiYgdWludEFycmF5WzFdID09IDB4QkIgJiYgdWludEFycmF5WzJdID09IDB4QkY7XG4gICAgfVxuICAgIHN0YXRpYyBpc1doaXRlc3BhY2UoY2hhcikge1xuICAgICAgICByZXR1cm4gY2hhciA9PT0gJyAnIHx8IGNoYXIgPT09ICdcXHQnIHx8IFV0aWwuaXNOZXdsaW5lKGNoYXIpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNOZXdsaW5lKGNoYXIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nO1xuICAgIH1cbiAgICBzdGF0aWMgZmluZExlYWRpbmdOb25XaGl0ZXNwYWNlKGNvbnRlbnQsIGVzY2FwZUNoYXIpIHtcbiAgICAgICAgd2hpdGVzcGFjZUNoZWNrOiBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY29udGVudC5jaGFyQXQoaSkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIGVzY2FwZUNoYXI6XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNoZWNrOiBmb3IgKGxldCBqID0gaSArIDE7IGogPCBjb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnQuY2hhckF0KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0IG9uZSBtb3JlIGZvciBcXHJcXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGogKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSB3aGl0ZXNwYWNlQ2hlY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHdoaXRlc3BhY2VDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBlc2NhcGVDaGVjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhbiBlc2NhcGUgY2hhcmFjdGVyIGFuZCB0aGVuIHJlYWNoZWQgRU9GXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IHBvc3NpYmxlIGlmIHRoZSBjb250ZW50IGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyBjb250YWluZWQgd2l0aGluIHRoZSBnaXZlbiByYW5nZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiB0aGUgcG9zaXRpb24gdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gcmFuZ2UgdGhlIHJhbmdlIHRvIHNlZSBpZiB0aGUgcG9zaXRpb24gaXMgaW5zaWRlIG9mXG4gICAgICovXG4gICAgc3RhdGljIGlzSW5zaWRlUmFuZ2UocG9zaXRpb24sIHJhbmdlKSB7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydC5saW5lID09PSByYW5nZS5lbmQubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0LmxpbmUgPT09IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgICAgICAgICAmJiByYW5nZS5zdGFydC5jaGFyYWN0ZXIgPD0gcG9zaXRpb24uY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgJiYgcG9zaXRpb24uY2hhcmFjdGVyIDw9IHJhbmdlLmVuZC5jaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFuZ2Uuc3RhcnQubGluZSA9PT0gcG9zaXRpb24ubGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0LmNoYXJhY3RlciA8PSBwb3NpdGlvbi5jaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFuZ2UuZW5kLmxpbmUgPT09IHBvc2l0aW9uLmxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbi5jaGFyYWN0ZXIgPD0gcmFuZ2UuZW5kLmNoYXJhY3RlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQubGluZSA8IHBvc2l0aW9uLmxpbmUgJiYgcG9zaXRpb24ubGluZSA8IHJhbmdlLmVuZC5saW5lO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VIZXJlZG9jTmFtZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygyKTtcbiAgICAgICAgaWYgKHZhbHVlLmNoYXJBdCgwKSA9PT0gJy0nKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUuY2hhckF0KDApID09PSAnXCInKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuY2hhckF0KHZhbHVlLmxlbmd0aCAtIDEpICE9PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxLCB2YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUuY2hhckF0KDApID09PSAnXFwnJykge1xuICAgICAgICAgICAgaWYgKHZhbHVlLmNoYXJBdCh2YWx1ZS5sZW5ndGggLSAxKSAhPT0gJ1xcJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEsIHZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5jaGFyQXQoMCkgPT09IFwiPFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5VdGlsID0gVXRpbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/dockerfile-ast/lib/variable.js":
/*!*****************************************************!*\
  !*** ./node_modules/dockerfile-ast/lib/variable.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Variable = void 0;\nclass Variable {\n    constructor(name, nameRange, range, modifier, modifierRange, substitutionParameter, substitutionRange, defined, buildVariable, stringValue) {\n        this.name = name;\n        this.nameRange = nameRange;\n        this.range = range;\n        this.modifier = modifier;\n        this.modifierRange = modifierRange;\n        this.substitutionParameter = substitutionParameter;\n        this.substitutionRange = substitutionRange;\n        this.defined = defined;\n        this.buildVariable = buildVariable;\n        this.stringValue = stringValue;\n    }\n    toString() {\n        return this.stringValue;\n    }\n    getName() {\n        return this.name;\n    }\n    getNameRange() {\n        return this.nameRange;\n    }\n    /**\n     * Returns the range of the entire variable. This includes the symbols for\n     * the declaration of the variable such as the $, {, and } symbols.\n     *\n     * @return the range in the document that this variable encompasses in its\n     *         entirety\n     */\n    getRange() {\n        return this.range;\n    }\n    /**\n     * Returns the modifier character that has been set for\n     * specifying how this variable should be expanded and resolved.\n     * If this variable is ${variable:+value} then the modifier\n     * character is '+'. Will be the empty string if the variable is\n     * declared as ${variable:}. Otherwise, will be null if this\n     * variable will not use variable substitution at all (such as\n     * ${variable} or $variable).\n     *\n     * @return this variable's modifier character, or the empty\n     *         string if it does not have one, or null if this\n     *         variable will not use variable substitution\n     */\n    getModifier() {\n        return this.modifier;\n    }\n    getModifierRange() {\n        return this.modifierRange;\n    }\n    /**\n     * Returns the parameter that will be used for substitution if\n     * this variable uses modifiers to define how its value should be\n     * resolved. If this variable is ${variable:+value} then the\n     * substitution value will be 'value'. Will be the empty string\n     * if the variable is declared as ${variable:+} or some other\n     * variant where the only thing that follows the modifier\n     * character (excluding considerations of escape characters and\n     * so on) is the variable's closing bracket. May be null if this\n     * variable does not have a modifier character defined (such as\n     * ${variable} or $variable).\n     *\n     * @return this variable's substitution parameter, or the empty\n     *         string if it does not have one, or null if there is\n     *         not one defined\n     */\n    getSubstitutionParameter() {\n        return this.substitutionParameter;\n    }\n    getSubstitutionRange() {\n        return this.substitutionRange;\n    }\n    /**\n     * Returns whether this variable has been defined or not.\n     *\n     * @return true if this variable has been defined, false otherwise\n     */\n    isDefined() {\n        return this.defined;\n    }\n    isBuildVariable() {\n        return this.buildVariable === true;\n    }\n    isEnvironmentVariable() {\n        return this.buildVariable === false;\n    }\n}\nexports.Variable = Variable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9ja2VyZmlsZS1hc3QvbGliL3ZhcmlhYmxlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsUUFBUTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpQkFBaUI7QUFDOUM7QUFDQSxxQkFBcUIsVUFBVTtBQUMvQjtBQUNBLFNBQVMsVUFBVTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGlCQUFpQjtBQUN4RDtBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9kb2NrZXJmaWxlLWFzdC9saWIvdmFyaWFibGUuanM/MDZhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVmFyaWFibGUgPSB2b2lkIDA7XG5jbGFzcyBWYXJpYWJsZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgbmFtZVJhbmdlLCByYW5nZSwgbW9kaWZpZXIsIG1vZGlmaWVyUmFuZ2UsIHN1YnN0aXR1dGlvblBhcmFtZXRlciwgc3Vic3RpdHV0aW9uUmFuZ2UsIGRlZmluZWQsIGJ1aWxkVmFyaWFibGUsIHN0cmluZ1ZhbHVlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubmFtZVJhbmdlID0gbmFtZVJhbmdlO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMubW9kaWZpZXIgPSBtb2RpZmllcjtcbiAgICAgICAgdGhpcy5tb2RpZmllclJhbmdlID0gbW9kaWZpZXJSYW5nZTtcbiAgICAgICAgdGhpcy5zdWJzdGl0dXRpb25QYXJhbWV0ZXIgPSBzdWJzdGl0dXRpb25QYXJhbWV0ZXI7XG4gICAgICAgIHRoaXMuc3Vic3RpdHV0aW9uUmFuZ2UgPSBzdWJzdGl0dXRpb25SYW5nZTtcbiAgICAgICAgdGhpcy5kZWZpbmVkID0gZGVmaW5lZDtcbiAgICAgICAgdGhpcy5idWlsZFZhcmlhYmxlID0gYnVpbGRWYXJpYWJsZTtcbiAgICAgICAgdGhpcy5zdHJpbmdWYWx1ZSA9IHN0cmluZ1ZhbHVlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nVmFsdWU7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuICAgIGdldE5hbWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZVJhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByYW5nZSBvZiB0aGUgZW50aXJlIHZhcmlhYmxlLiBUaGlzIGluY2x1ZGVzIHRoZSBzeW1ib2xzIGZvclxuICAgICAqIHRoZSBkZWNsYXJhdGlvbiBvZiB0aGUgdmFyaWFibGUgc3VjaCBhcyB0aGUgJCwgeywgYW5kIH0gc3ltYm9scy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhlIHJhbmdlIGluIHRoZSBkb2N1bWVudCB0aGF0IHRoaXMgdmFyaWFibGUgZW5jb21wYXNzZXMgaW4gaXRzXG4gICAgICogICAgICAgICBlbnRpcmV0eVxuICAgICAqL1xuICAgIGdldFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbW9kaWZpZXIgY2hhcmFjdGVyIHRoYXQgaGFzIGJlZW4gc2V0IGZvclxuICAgICAqIHNwZWNpZnlpbmcgaG93IHRoaXMgdmFyaWFibGUgc2hvdWxkIGJlIGV4cGFuZGVkIGFuZCByZXNvbHZlZC5cbiAgICAgKiBJZiB0aGlzIHZhcmlhYmxlIGlzICR7dmFyaWFibGU6K3ZhbHVlfSB0aGVuIHRoZSBtb2RpZmllclxuICAgICAqIGNoYXJhY3RlciBpcyAnKycuIFdpbGwgYmUgdGhlIGVtcHR5IHN0cmluZyBpZiB0aGUgdmFyaWFibGUgaXNcbiAgICAgKiBkZWNsYXJlZCBhcyAke3ZhcmlhYmxlOn0uIE90aGVyd2lzZSwgd2lsbCBiZSBudWxsIGlmIHRoaXNcbiAgICAgKiB2YXJpYWJsZSB3aWxsIG5vdCB1c2UgdmFyaWFibGUgc3Vic3RpdHV0aW9uIGF0IGFsbCAoc3VjaCBhc1xuICAgICAqICR7dmFyaWFibGV9IG9yICR2YXJpYWJsZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoaXMgdmFyaWFibGUncyBtb2RpZmllciBjaGFyYWN0ZXIsIG9yIHRoZSBlbXB0eVxuICAgICAqICAgICAgICAgc3RyaW5nIGlmIGl0IGRvZXMgbm90IGhhdmUgb25lLCBvciBudWxsIGlmIHRoaXNcbiAgICAgKiAgICAgICAgIHZhcmlhYmxlIHdpbGwgbm90IHVzZSB2YXJpYWJsZSBzdWJzdGl0dXRpb25cbiAgICAgKi9cbiAgICBnZXRNb2RpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kaWZpZXI7XG4gICAgfVxuICAgIGdldE1vZGlmaWVyUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGlmaWVyUmFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhcmFtZXRlciB0aGF0IHdpbGwgYmUgdXNlZCBmb3Igc3Vic3RpdHV0aW9uIGlmXG4gICAgICogdGhpcyB2YXJpYWJsZSB1c2VzIG1vZGlmaWVycyB0byBkZWZpbmUgaG93IGl0cyB2YWx1ZSBzaG91bGQgYmVcbiAgICAgKiByZXNvbHZlZC4gSWYgdGhpcyB2YXJpYWJsZSBpcyAke3ZhcmlhYmxlOit2YWx1ZX0gdGhlbiB0aGVcbiAgICAgKiBzdWJzdGl0dXRpb24gdmFsdWUgd2lsbCBiZSAndmFsdWUnLiBXaWxsIGJlIHRoZSBlbXB0eSBzdHJpbmdcbiAgICAgKiBpZiB0aGUgdmFyaWFibGUgaXMgZGVjbGFyZWQgYXMgJHt2YXJpYWJsZTorfSBvciBzb21lIG90aGVyXG4gICAgICogdmFyaWFudCB3aGVyZSB0aGUgb25seSB0aGluZyB0aGF0IGZvbGxvd3MgdGhlIG1vZGlmaWVyXG4gICAgICogY2hhcmFjdGVyIChleGNsdWRpbmcgY29uc2lkZXJhdGlvbnMgb2YgZXNjYXBlIGNoYXJhY3RlcnMgYW5kXG4gICAgICogc28gb24pIGlzIHRoZSB2YXJpYWJsZSdzIGNsb3NpbmcgYnJhY2tldC4gTWF5IGJlIG51bGwgaWYgdGhpc1xuICAgICAqIHZhcmlhYmxlIGRvZXMgbm90IGhhdmUgYSBtb2RpZmllciBjaGFyYWN0ZXIgZGVmaW5lZCAoc3VjaCBhc1xuICAgICAqICR7dmFyaWFibGV9IG9yICR2YXJpYWJsZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoaXMgdmFyaWFibGUncyBzdWJzdGl0dXRpb24gcGFyYW1ldGVyLCBvciB0aGUgZW1wdHlcbiAgICAgKiAgICAgICAgIHN0cmluZyBpZiBpdCBkb2VzIG5vdCBoYXZlIG9uZSwgb3IgbnVsbCBpZiB0aGVyZSBpc1xuICAgICAqICAgICAgICAgbm90IG9uZSBkZWZpbmVkXG4gICAgICovXG4gICAgZ2V0U3Vic3RpdHV0aW9uUGFyYW1ldGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJzdGl0dXRpb25QYXJhbWV0ZXI7XG4gICAgfVxuICAgIGdldFN1YnN0aXR1dGlvblJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJzdGl0dXRpb25SYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgdmFyaWFibGUgaGFzIGJlZW4gZGVmaW5lZCBvciBub3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdGhpcyB2YXJpYWJsZSBoYXMgYmVlbiBkZWZpbmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0RlZmluZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluZWQ7XG4gICAgfVxuICAgIGlzQnVpbGRWYXJpYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRWYXJpYWJsZSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgaXNFbnZpcm9ubWVudFZhcmlhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZFZhcmlhYmxlID09PSBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLlZhcmlhYmxlID0gVmFyaWFibGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/dockerfile-ast/lib/variable.js\n");

/***/ })

};
;