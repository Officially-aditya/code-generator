"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@inngest";
exports.ids = ["vendor-chunks/@inngest"];
exports.modules = {

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/anthropic.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/anthropic.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=anthropic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2FudGhyb3BpYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FnZW50LWtpdC9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9hbnRocm9waWMuanM/YTRjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFudGhyb3BpYy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/anthropic.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/gemini.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/gemini.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GeminiAiAdapter = void 0;\nvar GeminiAiAdapter;\n(function (GeminiAiAdapter) {\n    let HarmCategory;\n    (function (HarmCategory) {\n        HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n        HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n        HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n        HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n        HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n        HarmCategory[\"HARM_CATEGORY_CIVIC_INTEGRITY\"] = \"HARM_CATEGORY_CIVIC_INTEGRITY\";\n    })(HarmCategory = GeminiAiAdapter.HarmCategory || (GeminiAiAdapter.HarmCategory = {}));\n    let HarmBlockThreshold;\n    (function (HarmBlockThreshold) {\n        HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n        HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n        HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n        HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n        HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n        HarmBlockThreshold[\"OFF\"] = \"OFF\";\n    })(HarmBlockThreshold = GeminiAiAdapter.HarmBlockThreshold || (GeminiAiAdapter.HarmBlockThreshold = {}));\n})(GeminiAiAdapter || (exports.GeminiAiAdapter = GeminiAiAdapter = {}));\n//# sourceMappingURL=gemini.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2dlbWluaS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLG1GQUFtRjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxxR0FBcUc7QUFDMUcsQ0FBQyxzQkFBc0IsdUJBQXVCLHVCQUF1QjtBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FnZW50LWtpdC9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9nZW1pbmkuanM/MzM1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2VtaW5pQWlBZGFwdGVyID0gdm9pZCAwO1xudmFyIEdlbWluaUFpQWRhcHRlcjtcbihmdW5jdGlvbiAoR2VtaW5pQWlBZGFwdGVyKSB7XG4gICAgbGV0IEhhcm1DYXRlZ29yeTtcbiAgICAoZnVuY3Rpb24gKEhhcm1DYXRlZ29yeSkge1xuICAgICAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX1VOU1BFQ0lGSUVEXCJdID0gXCJIQVJNX0NBVEVHT1JZX1VOU1BFQ0lGSUVEXCI7XG4gICAgICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0hcIl0gPSBcIkhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0hcIjtcbiAgICAgICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVFwiXSA9IFwiSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVFwiO1xuICAgICAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCI7XG4gICAgICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVFwiXSA9IFwiSEFSTV9DQVRFR09SWV9IQVJBU1NNRU5UXCI7XG4gICAgICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfQ0lWSUNfSU5URUdSSVRZXCJdID0gXCJIQVJNX0NBVEVHT1JZX0NJVklDX0lOVEVHUklUWVwiO1xuICAgIH0pKEhhcm1DYXRlZ29yeSA9IEdlbWluaUFpQWRhcHRlci5IYXJtQ2F0ZWdvcnkgfHwgKEdlbWluaUFpQWRhcHRlci5IYXJtQ2F0ZWdvcnkgPSB7fSkpO1xuICAgIGxldCBIYXJtQmxvY2tUaHJlc2hvbGQ7XG4gICAgKGZ1bmN0aW9uIChIYXJtQmxvY2tUaHJlc2hvbGQpIHtcbiAgICAgICAgSGFybUJsb2NrVGhyZXNob2xkW1wiSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fQkxPQ0tfVEhSRVNIT0xEX1VOU1BFQ0lGSUVEXCI7XG4gICAgICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX0xPV19BTkRfQUJPVkVcIl0gPSBcIkJMT0NLX0xPV19BTkRfQUJPVkVcIjtcbiAgICAgICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTUVESVVNX0FORF9BQk9WRVwiXSA9IFwiQkxPQ0tfTUVESVVNX0FORF9BQk9WRVwiO1xuICAgICAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19PTkxZX0hJR0hcIl0gPSBcIkJMT0NLX09OTFlfSElHSFwiO1xuICAgICAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19OT05FXCJdID0gXCJCTE9DS19OT05FXCI7XG4gICAgICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIk9GRlwiXSA9IFwiT0ZGXCI7XG4gICAgfSkoSGFybUJsb2NrVGhyZXNob2xkID0gR2VtaW5pQWlBZGFwdGVyLkhhcm1CbG9ja1RocmVzaG9sZCB8fCAoR2VtaW5pQWlBZGFwdGVyLkhhcm1CbG9ja1RocmVzaG9sZCA9IHt9KSk7XG59KShHZW1pbmlBaUFkYXB0ZXIgfHwgKGV4cG9ydHMuR2VtaW5pQWlBZGFwdGVyID0gR2VtaW5pQWlBZGFwdGVyID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbWluaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/gemini.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/grok.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/grok.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=grok.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2dyb2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvYWRhcHRlcnMvZ3Jvay5qcz83NmU5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3Jvay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/grok.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/index.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./anthropic.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/anthropic.js\"), exports);\n__exportStar(__webpack_require__(/*! ./gemini.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/gemini.js\"), exports);\n__exportStar(__webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/openai.js\"), exports);\n__exportStar(__webpack_require__(/*! ./grok.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/grok.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWEsbUJBQU8sQ0FBQyxtSEFBZ0I7QUFDckMsYUFBYSxtQkFBTyxDQUFDLDZHQUFhO0FBQ2xDLGFBQWEsbUJBQU8sQ0FBQyw2R0FBYTtBQUNsQyxhQUFhLG1CQUFPLENBQUMseUdBQVc7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvYWRhcHRlcnMvaW5kZXguanM/YmFmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2FudGhyb3BpYy5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZ2VtaW5pLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9vcGVuYWkuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2dyb2suanNcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/openai.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/openai.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL29wZW5haS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FnZW50LWtpdC9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9vcGVuYWkuanM/YzE2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.envKeys = exports.processEnv = exports.allProcessEnv = void 0;\n/**\n * allProcessEnv returns the current process environment variables, or an empty\n * object if they cannot be read, making sure we support environments other than\n * Node such as Deno, too.\n *\n * Using this ensures we don't dangerously access `process.env` in environments\n * where it may not be defined, such as Deno or the browser.\n */\nconst allProcessEnv = () => {\n    // Node, or Node-like environments\n    try {\n        if (process.env) {\n            return process.env;\n        }\n    }\n    catch (_err) {\n        // noop\n    }\n    // Deno\n    try {\n        const env = Deno.env.toObject();\n        if (env) {\n            return env;\n        }\n    }\n    catch (_err) {\n        // noop\n    }\n    // Netlify\n    try {\n        const env = Netlify.env.toObject();\n        if (env) {\n            return env;\n        }\n    }\n    catch (_err) {\n        // noop\n    }\n    return {};\n};\nexports.allProcessEnv = allProcessEnv;\nconst processEnv = (key) => {\n    return (0, exports.allProcessEnv)()[key];\n};\nexports.processEnv = processEnv;\nvar envKeys;\n(function (envKeys) {\n    envKeys[\"OpenAiApiKey\"] = \"OPENAI_API_KEY\";\n    envKeys[\"GeminiApiKey\"] = \"GEMINI_API_KEY\";\n    envKeys[\"AnthropicApiKey\"] = \"ANTHROPIC_API_KEY\";\n    envKeys[\"DeepSeekApiKey\"] = \"DEEPSEEK_API_KEY\";\n    envKeys[\"GrokApiKey\"] = \"XAI_API_KEY\";\n})(envKeys || (exports.envKeys = envKeys = {}));\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2Vudi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxlQUFlLEdBQUcsa0JBQWtCLEdBQUcscUJBQXFCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsY0FBYyxlQUFlLGVBQWU7QUFDN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvZW52LmpzPzJhNTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVudktleXMgPSBleHBvcnRzLnByb2Nlc3NFbnYgPSBleHBvcnRzLmFsbFByb2Nlc3NFbnYgPSB2b2lkIDA7XG4vKipcbiAqIGFsbFByb2Nlc3NFbnYgcmV0dXJucyB0aGUgY3VycmVudCBwcm9jZXNzIGVudmlyb25tZW50IHZhcmlhYmxlcywgb3IgYW4gZW1wdHlcbiAqIG9iamVjdCBpZiB0aGV5IGNhbm5vdCBiZSByZWFkLCBtYWtpbmcgc3VyZSB3ZSBzdXBwb3J0IGVudmlyb25tZW50cyBvdGhlciB0aGFuXG4gKiBOb2RlIHN1Y2ggYXMgRGVubywgdG9vLlxuICpcbiAqIFVzaW5nIHRoaXMgZW5zdXJlcyB3ZSBkb24ndCBkYW5nZXJvdXNseSBhY2Nlc3MgYHByb2Nlc3MuZW52YCBpbiBlbnZpcm9ubWVudHNcbiAqIHdoZXJlIGl0IG1heSBub3QgYmUgZGVmaW5lZCwgc3VjaCBhcyBEZW5vIG9yIHRoZSBicm93c2VyLlxuICovXG5jb25zdCBhbGxQcm9jZXNzRW52ID0gKCkgPT4ge1xuICAgIC8vIE5vZGUsIG9yIE5vZGUtbGlrZSBlbnZpcm9ubWVudHNcbiAgICB0cnkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzLmVudjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoX2Vycikge1xuICAgICAgICAvLyBub29wXG4gICAgfVxuICAgIC8vIERlbm9cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnYgPSBEZW5vLmVudi50b09iamVjdCgpO1xuICAgICAgICBpZiAoZW52KSB7XG4gICAgICAgICAgICByZXR1cm4gZW52O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfZXJyKSB7XG4gICAgICAgIC8vIG5vb3BcbiAgICB9XG4gICAgLy8gTmV0bGlmeVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVudiA9IE5ldGxpZnkuZW52LnRvT2JqZWN0KCk7XG4gICAgICAgIGlmIChlbnYpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgIH1cbiAgICByZXR1cm4ge307XG59O1xuZXhwb3J0cy5hbGxQcm9jZXNzRW52ID0gYWxsUHJvY2Vzc0VudjtcbmNvbnN0IHByb2Nlc3NFbnYgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuICgwLCBleHBvcnRzLmFsbFByb2Nlc3NFbnYpKClba2V5XTtcbn07XG5leHBvcnRzLnByb2Nlc3NFbnYgPSBwcm9jZXNzRW52O1xudmFyIGVudktleXM7XG4oZnVuY3Rpb24gKGVudktleXMpIHtcbiAgICBlbnZLZXlzW1wiT3BlbkFpQXBpS2V5XCJdID0gXCJPUEVOQUlfQVBJX0tFWVwiO1xuICAgIGVudktleXNbXCJHZW1pbmlBcGlLZXlcIl0gPSBcIkdFTUlOSV9BUElfS0VZXCI7XG4gICAgZW52S2V5c1tcIkFudGhyb3BpY0FwaUtleVwiXSA9IFwiQU5USFJPUElDX0FQSV9LRVlcIjtcbiAgICBlbnZLZXlzW1wiRGVlcFNlZWtBcGlLZXlcIl0gPSBcIkRFRVBTRUVLX0FQSV9LRVlcIjtcbiAgICBlbnZLZXlzW1wiR3Jva0FwaUtleVwiXSA9IFwiWEFJX0FQSV9LRVlcIjtcbn0pKGVudktleXMgfHwgKGV4cG9ydHMuZW52S2V5cyA9IGVudktleXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./adapters/index.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/adapters/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./models/index.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWEsbUJBQU8sQ0FBQyxvSEFBcUI7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLGdIQUFtQjtBQUN4QyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FnZW50LWtpdC9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9pbmRleC5qcz84NDJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYWRhcHRlcnMvaW5kZXguanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21vZGVscy9pbmRleC5qc1wiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/anthropic.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/anthropic.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.anthropic = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create an Anthropic model using the Anthropic chat format.\n *\n * By default it targets the `https://api.anthropic.com/v1/` base URL, with the\n * \"2023-06-01\" anthropic-version header.\n */\nconst anthropic = (options) => {\n    var _a, _b;\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.AnthropicApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://api.anthropic.com/v1/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(\"messages\", baseUrl);\n    const headers = {\n        \"anthropic-version\": \"2023-06-01\",\n    };\n    if ((((_a = options.betaHeaders) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0) {\n        headers[\"anthropic-beta\"] = ((_b = options.betaHeaders) === null || _b === void 0 ? void 0 : _b.join(\",\")) || \"\";\n    }\n    return {\n        url: url.href,\n        authKey,\n        format: \"anthropic\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        },\n        headers,\n        options,\n    };\n};\nexports.anthropic = anthropic;\n//# sourceMappingURL=anthropic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9hbnRocm9waWMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGNBQWMsbUJBQU8sQ0FBQyw0RkFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9hbnRocm9waWMuanM/MDBjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYW50aHJvcGljID0gdm9pZCAwO1xuY29uc3QgZW52XzEgPSByZXF1aXJlKFwiLi4vZW52XCIpO1xuLyoqXG4gKiBDcmVhdGUgYW4gQW50aHJvcGljIG1vZGVsIHVzaW5nIHRoZSBBbnRocm9waWMgY2hhdCBmb3JtYXQuXG4gKlxuICogQnkgZGVmYXVsdCBpdCB0YXJnZXRzIHRoZSBgaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9gIGJhc2UgVVJMLCB3aXRoIHRoZVxuICogXCIyMDIzLTA2LTAxXCIgYW50aHJvcGljLXZlcnNpb24gaGVhZGVyLlxuICovXG5jb25zdCBhbnRocm9waWMgPSAob3B0aW9ucykgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgYXV0aEtleSA9IG9wdGlvbnMuYXBpS2V5IHx8ICgwLCBlbnZfMS5wcm9jZXNzRW52KShlbnZfMS5lbnZLZXlzLkFudGhyb3BpY0FwaUtleSkgfHwgXCJcIjtcbiAgICAvLyBFbnN1cmUgd2UgYWRkIGEgdHJhaWxpbmcgc2xhc2ggdG8gb3VyIGJhc2UgVVJMIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmUsXG4gICAgLy8gb3RoZXJ3aXNlIHdlJ2xsIHJlcGxhY2UgdGhlIHBhdGggaW5zdGVhZCBvZiBhcHBlbmRpbmcgaXQuXG4gICAgbGV0IGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgXCJodHRwczovL2FwaS5hbnRocm9waWMuY29tL3YxL1wiO1xuICAgIGlmICghYmFzZVVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgYmFzZVVybCArPSBcIi9cIjtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChcIm1lc3NhZ2VzXCIsIGJhc2VVcmwpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiYW50aHJvcGljLXZlcnNpb25cIjogXCIyMDIzLTA2LTAxXCIsXG4gICAgfTtcbiAgICBpZiAoKCgoX2EgPSBvcHRpb25zLmJldGFIZWFkZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB8fCAwKSA+IDApIHtcbiAgICAgICAgaGVhZGVyc1tcImFudGhyb3BpYy1iZXRhXCJdID0gKChfYiA9IG9wdGlvbnMuYmV0YUhlYWRlcnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5qb2luKFwiLFwiKSkgfHwgXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiB1cmwuaHJlZixcbiAgICAgICAgYXV0aEtleSxcbiAgICAgICAgZm9ybWF0OiBcImFudGhyb3BpY1wiLFxuICAgICAgICBvbkNhbGwoXywgYm9keSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LCBvcHRpb25zLmRlZmF1bHRQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGJvZHkubW9kZWwgfHwgKGJvZHkubW9kZWwgPSBvcHRpb25zLm1vZGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgb3B0aW9ucyxcbiAgICB9O1xufTtcbmV4cG9ydHMuYW50aHJvcGljID0gYW50aHJvcGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW50aHJvcGljLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/anthropic.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/deepseek.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/deepseek.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deepseek = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create a DeepSeek model using the OpenAI-compatible chat format.\n *\n * By default it targets the `https://api.deepseek.com/v1/` base URL.\n */\nconst deepseek = (options) => {\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.DeepSeekApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://api.deepseek.com/v1/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(\"chat/completions\", baseUrl);\n    return {\n        url: url.href,\n        authKey,\n        format: \"openai-chat\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        },\n        options,\n    };\n};\nexports.deepseek = deepseek;\n//# sourceMappingURL=deepseek.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9kZWVwc2Vlay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsY0FBYyxtQkFBTyxDQUFDLDRGQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvbW9kZWxzL2RlZXBzZWVrLmpzPzYyZGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZXBzZWVrID0gdm9pZCAwO1xuY29uc3QgZW52XzEgPSByZXF1aXJlKFwiLi4vZW52XCIpO1xuLyoqXG4gKiBDcmVhdGUgYSBEZWVwU2VlayBtb2RlbCB1c2luZyB0aGUgT3BlbkFJLWNvbXBhdGlibGUgY2hhdCBmb3JtYXQuXG4gKlxuICogQnkgZGVmYXVsdCBpdCB0YXJnZXRzIHRoZSBgaHR0cHM6Ly9hcGkuZGVlcHNlZWsuY29tL3YxL2AgYmFzZSBVUkwuXG4gKi9cbmNvbnN0IGRlZXBzZWVrID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBhdXRoS2V5ID0gb3B0aW9ucy5hcGlLZXkgfHwgKDAsIGVudl8xLnByb2Nlc3NFbnYpKGVudl8xLmVudktleXMuRGVlcFNlZWtBcGlLZXkpIHx8IFwiXCI7XG4gICAgLy8gRW5zdXJlIHdlIGFkZCBhIHRyYWlsaW5nIHNsYXNoIHRvIG91ciBiYXNlIFVSTCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lLFxuICAgIC8vIG90aGVyd2lzZSB3ZSdsbCByZXBsYWNlIHRoZSBwYXRoIGluc3RlYWQgb2YgYXBwZW5kaW5nIGl0LlxuICAgIGxldCBiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsIHx8IFwiaHR0cHM6Ly9hcGkuZGVlcHNlZWsuY29tL3YxL1wiO1xuICAgIGlmICghYmFzZVVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgYmFzZVVybCArPSBcIi9cIjtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChcImNoYXQvY29tcGxldGlvbnNcIiwgYmFzZVVybCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiB1cmwuaHJlZixcbiAgICAgICAgYXV0aEtleSxcbiAgICAgICAgZm9ybWF0OiBcIm9wZW5haS1jaGF0XCIsXG4gICAgICAgIG9uQ2FsbChfLCBib2R5KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJvZHksIG9wdGlvbnMuZGVmYXVsdFBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgYm9keS5tb2RlbCB8fCAoYm9keS5tb2RlbCA9IG9wdGlvbnMubW9kZWwpO1xuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zLFxuICAgIH07XG59O1xuZXhwb3J0cy5kZWVwc2VlayA9IGRlZXBzZWVrO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVlcHNlZWsuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/deepseek.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/gemini.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/gemini.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.gemini = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create a Gemini model using the OpenAI chat format.\n *\n * By default it targets the `https://generativelanguage.googleapis.com/v1beta/`\n * base URL.\n */\nconst gemini = (options) => {\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.GeminiApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://generativelanguage.googleapis.com/v1beta/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(`models/${options.model}:generateContent?key=${authKey}`, baseUrl);\n    const headers = {};\n    return {\n        url: url.href,\n        authKey,\n        format: \"gemini\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n        },\n        headers,\n        options,\n    };\n};\nexports.gemini = gemini;\n//# sourceMappingURL=gemini.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9nZW1pbmkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGNBQWMsbUJBQU8sQ0FBQyw0RkFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGNBQWMsdUJBQXVCLFFBQVE7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvbW9kZWxzL2dlbWluaS5qcz81NzFmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZW1pbmkgPSB2b2lkIDA7XG5jb25zdCBlbnZfMSA9IHJlcXVpcmUoXCIuLi9lbnZcIik7XG4vKipcbiAqIENyZWF0ZSBhIEdlbWluaSBtb2RlbCB1c2luZyB0aGUgT3BlbkFJIGNoYXQgZm9ybWF0LlxuICpcbiAqIEJ5IGRlZmF1bHQgaXQgdGFyZ2V0cyB0aGUgYGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9gXG4gKiBiYXNlIFVSTC5cbiAqL1xuY29uc3QgZ2VtaW5pID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBhdXRoS2V5ID0gb3B0aW9ucy5hcGlLZXkgfHwgKDAsIGVudl8xLnByb2Nlc3NFbnYpKGVudl8xLmVudktleXMuR2VtaW5pQXBpS2V5KSB8fCBcIlwiO1xuICAgIC8vIEVuc3VyZSB3ZSBhZGQgYSB0cmFpbGluZyBzbGFzaCB0byBvdXIgYmFzZSBVUkwgaWYgaXQgZG9lc24ndCBoYXZlIG9uZSxcbiAgICAvLyBvdGhlcndpc2Ugd2UnbGwgcmVwbGFjZSB0aGUgcGF0aCBpbnN0ZWFkIG9mIGFwcGVuZGluZyBpdC5cbiAgICBsZXQgYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybCB8fCBcImh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9cIjtcbiAgICBpZiAoIWJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGJhc2VVcmwgKz0gXCIvXCI7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYG1vZGVscy8ke29wdGlvbnMubW9kZWx9OmdlbmVyYXRlQ29udGVudD9rZXk9JHthdXRoS2V5fWAsIGJhc2VVcmwpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IHVybC5ocmVmLFxuICAgICAgICBhdXRoS2V5LFxuICAgICAgICBmb3JtYXQ6IFwiZ2VtaW5pXCIsXG4gICAgICAgIG9uQ2FsbChfLCBib2R5KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJvZHksIG9wdGlvbnMuZGVmYXVsdFBhcmFtZXRlcnMpO1xuICAgICAgICB9LFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBvcHRpb25zLFxuICAgIH07XG59O1xuZXhwb3J0cy5nZW1pbmkgPSBnZW1pbmk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW1pbmkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/gemini.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/grok.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/grok.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.grok = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js\");\nconst openai_js_1 = __webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/openai.js\");\n/**\n * Create a Grok model using the OpenAI chat format.\n *\n * By default it targets the `https://api.x.ai/v1`\n * base URL.\n */\nconst grok = (options) => {\n    const apiKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.GrokApiKey);\n    const baseUrl = options.baseUrl || \"https://api.x.ai/v1\";\n    const model = options.model;\n    const adapter = (0, openai_js_1.openai)(Object.assign(Object.assign({}, options), { apiKey,\n        baseUrl,\n        model }));\n    adapter.format = \"grok\";\n    return adapter;\n};\nexports.grok = grok;\n//# sourceMappingURL=grok.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9ncm9rLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixjQUFjLG1CQUFPLENBQUMsNEZBQVE7QUFDOUIsb0JBQW9CLG1CQUFPLENBQUMsMkdBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsY0FBYztBQUN4RjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvbW9kZWxzL2dyb2suanM/NmE1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ3JvayA9IHZvaWQgMDtcbmNvbnN0IGVudl8xID0gcmVxdWlyZShcIi4uL2VudlwiKTtcbmNvbnN0IG9wZW5haV9qc18xID0gcmVxdWlyZShcIi4vb3BlbmFpLmpzXCIpO1xuLyoqXG4gKiBDcmVhdGUgYSBHcm9rIG1vZGVsIHVzaW5nIHRoZSBPcGVuQUkgY2hhdCBmb3JtYXQuXG4gKlxuICogQnkgZGVmYXVsdCBpdCB0YXJnZXRzIHRoZSBgaHR0cHM6Ly9hcGkueC5haS92MWBcbiAqIGJhc2UgVVJMLlxuICovXG5jb25zdCBncm9rID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBhcGlLZXkgPSBvcHRpb25zLmFwaUtleSB8fCAoMCwgZW52XzEucHJvY2Vzc0VudikoZW52XzEuZW52S2V5cy5Hcm9rQXBpS2V5KTtcbiAgICBjb25zdCBiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsIHx8IFwiaHR0cHM6Ly9hcGkueC5haS92MVwiO1xuICAgIGNvbnN0IG1vZGVsID0gb3B0aW9ucy5tb2RlbDtcbiAgICBjb25zdCBhZGFwdGVyID0gKDAsIG9wZW5haV9qc18xLm9wZW5haSkoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBhcGlLZXksXG4gICAgICAgIGJhc2VVcmwsXG4gICAgICAgIG1vZGVsIH0pKTtcbiAgICBhZGFwdGVyLmZvcm1hdCA9IFwiZ3Jva1wiO1xuICAgIHJldHVybiBhZGFwdGVyO1xufTtcbmV4cG9ydHMuZ3JvayA9IGdyb2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm9rLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/grok.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/index.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./anthropic.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/anthropic.js\"), exports);\n__exportStar(__webpack_require__(/*! ./gemini.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/gemini.js\"), exports);\n__exportStar(__webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/openai.js\"), exports);\n__exportStar(__webpack_require__(/*! ./deepseek.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/deepseek.js\"), exports);\n__exportStar(__webpack_require__(/*! ./grok.js */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/grok.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsaUhBQWdCO0FBQ3JDLGFBQWEsbUJBQU8sQ0FBQywyR0FBYTtBQUNsQyxhQUFhLG1CQUFPLENBQUMsMkdBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLCtHQUFlO0FBQ3BDLGFBQWEsbUJBQU8sQ0FBQyx1R0FBVztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FnZW50LWtpdC9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvaW5kZXguanM/ZjRiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2FudGhyb3BpYy5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZ2VtaW5pLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9vcGVuYWkuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RlZXBzZWVrLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ncm9rLmpzXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/openai.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/openai.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.openai = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create an OpenAI model using the OpenAI chat format.\n *\n * By default it targets the `https://api.openai.com/v1/` base URL.\n */\nconst openai = (options) => {\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.OpenAiApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://api.openai.com/v1/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(\"chat/completions\", baseUrl);\n    return {\n        url: url.href,\n        authKey,\n        format: \"openai-chat\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        },\n        options,\n    };\n};\nexports.openai = openai;\n//# sourceMappingURL=openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9vcGVuYWkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGNBQWMsbUJBQU8sQ0FBQyw0RkFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L21vZGVscy9vcGVuYWkuanM/ODYwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMub3BlbmFpID0gdm9pZCAwO1xuY29uc3QgZW52XzEgPSByZXF1aXJlKFwiLi4vZW52XCIpO1xuLyoqXG4gKiBDcmVhdGUgYW4gT3BlbkFJIG1vZGVsIHVzaW5nIHRoZSBPcGVuQUkgY2hhdCBmb3JtYXQuXG4gKlxuICogQnkgZGVmYXVsdCBpdCB0YXJnZXRzIHRoZSBgaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9gIGJhc2UgVVJMLlxuICovXG5jb25zdCBvcGVuYWkgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGF1dGhLZXkgPSBvcHRpb25zLmFwaUtleSB8fCAoMCwgZW52XzEucHJvY2Vzc0VudikoZW52XzEuZW52S2V5cy5PcGVuQWlBcGlLZXkpIHx8IFwiXCI7XG4gICAgLy8gRW5zdXJlIHdlIGFkZCBhIHRyYWlsaW5nIHNsYXNoIHRvIG91ciBiYXNlIFVSTCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lLFxuICAgIC8vIG90aGVyd2lzZSB3ZSdsbCByZXBsYWNlIHRoZSBwYXRoIGluc3RlYWQgb2YgYXBwZW5kaW5nIGl0LlxuICAgIGxldCBiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsIHx8IFwiaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9cIjtcbiAgICBpZiAoIWJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGJhc2VVcmwgKz0gXCIvXCI7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoXCJjaGF0L2NvbXBsZXRpb25zXCIsIGJhc2VVcmwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVybDogdXJsLmhyZWYsXG4gICAgICAgIGF1dGhLZXksXG4gICAgICAgIGZvcm1hdDogXCJvcGVuYWktY2hhdFwiLFxuICAgICAgICBvbkNhbGwoXywgYm9keSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LCBvcHRpb25zLmRlZmF1bHRQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGJvZHkubW9kZWwgfHwgKGJvZHkubW9kZWwgPSBvcHRpb25zLm1vZGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICB9O1xufTtcbmV4cG9ydHMub3BlbmFpID0gb3BlbmFpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/models/openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/adapters/anthropic.js":
/*!*************************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/adapters/anthropic.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=anthropic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9hbnRocm9waWMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2FudGhyb3BpYy5qcz80ZDkyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW50aHJvcGljLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/adapters/anthropic.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/adapters/azure-openai.js":
/*!****************************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/adapters/azure-openai.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=azure-openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9henVyZS1vcGVuYWkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2F6dXJlLW9wZW5haS5qcz9kNjgwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXp1cmUtb3BlbmFpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/adapters/azure-openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/adapters/gemini.js":
/*!**********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/adapters/gemini.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GeminiAiAdapter = void 0;\nvar GeminiAiAdapter;\n(function (GeminiAiAdapter) {\n    let HarmCategory;\n    (function (HarmCategory) {\n        HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n        HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n        HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n        HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n        HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n        HarmCategory[\"HARM_CATEGORY_CIVIC_INTEGRITY\"] = \"HARM_CATEGORY_CIVIC_INTEGRITY\";\n    })(HarmCategory = GeminiAiAdapter.HarmCategory || (GeminiAiAdapter.HarmCategory = {}));\n    let HarmBlockThreshold;\n    (function (HarmBlockThreshold) {\n        HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n        HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n        HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n        HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n        HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n        HarmBlockThreshold[\"OFF\"] = \"OFF\";\n    })(HarmBlockThreshold = GeminiAiAdapter.HarmBlockThreshold || (GeminiAiAdapter.HarmBlockThreshold = {}));\n})(GeminiAiAdapter || (exports.GeminiAiAdapter = GeminiAiAdapter = {}));\n//# sourceMappingURL=gemini.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9nZW1pbmkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxtRkFBbUY7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUsscUdBQXFHO0FBQzFHLENBQUMsc0JBQXNCLHVCQUF1Qix1QkFBdUI7QUFDckUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2dlbWluaS5qcz81Njg2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HZW1pbmlBaUFkYXB0ZXIgPSB2b2lkIDA7XG52YXIgR2VtaW5pQWlBZGFwdGVyO1xuKGZ1bmN0aW9uIChHZW1pbmlBaUFkYXB0ZXIpIHtcbiAgICBsZXQgSGFybUNhdGVnb3J5O1xuICAgIChmdW5jdGlvbiAoSGFybUNhdGVnb3J5KSB7XG4gICAgICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fQ0FURUdPUllfVU5TUEVDSUZJRURcIjtcbiAgICAgICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSFwiXSA9IFwiSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSFwiO1xuICAgICAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCJdID0gXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCI7XG4gICAgICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlRcIl0gPSBcIkhBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlRcIjtcbiAgICAgICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9IQVJBU1NNRU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlRcIjtcbiAgICAgICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9DSVZJQ19JTlRFR1JJVFlcIl0gPSBcIkhBUk1fQ0FURUdPUllfQ0lWSUNfSU5URUdSSVRZXCI7XG4gICAgfSkoSGFybUNhdGVnb3J5ID0gR2VtaW5pQWlBZGFwdGVyLkhhcm1DYXRlZ29yeSB8fCAoR2VtaW5pQWlBZGFwdGVyLkhhcm1DYXRlZ29yeSA9IHt9KSk7XG4gICAgbGV0IEhhcm1CbG9ja1RocmVzaG9sZDtcbiAgICAoZnVuY3Rpb24gKEhhcm1CbG9ja1RocmVzaG9sZCkge1xuICAgICAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJIQVJNX0JMT0NLX1RIUkVTSE9MRF9VTlNQRUNJRklFRFwiXSA9IFwiSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRURcIjtcbiAgICAgICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTE9XX0FORF9BQk9WRVwiXSA9IFwiQkxPQ0tfTE9XX0FORF9BQk9WRVwiO1xuICAgICAgICBIYXJtQmxvY2tUaHJlc2hvbGRbXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCJdID0gXCJCTE9DS19NRURJVU1fQU5EX0FCT1ZFXCI7XG4gICAgICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX09OTFlfSElHSFwiXSA9IFwiQkxPQ0tfT05MWV9ISUdIXCI7XG4gICAgICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX05PTkVcIl0gPSBcIkJMT0NLX05PTkVcIjtcbiAgICAgICAgSGFybUJsb2NrVGhyZXNob2xkW1wiT0ZGXCJdID0gXCJPRkZcIjtcbiAgICB9KShIYXJtQmxvY2tUaHJlc2hvbGQgPSBHZW1pbmlBaUFkYXB0ZXIuSGFybUJsb2NrVGhyZXNob2xkIHx8IChHZW1pbmlBaUFkYXB0ZXIuSGFybUJsb2NrVGhyZXNob2xkID0ge30pKTtcbn0pKEdlbWluaUFpQWRhcHRlciB8fCAoZXhwb3J0cy5HZW1pbmlBaUFkYXB0ZXIgPSBHZW1pbmlBaUFkYXB0ZXIgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VtaW5pLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/adapters/gemini.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/adapters/grok.js":
/*!********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/adapters/grok.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=grok.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9ncm9rLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9ncm9rLmpzPzQ2NjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm9rLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/adapters/grok.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/adapters/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/adapters/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./anthropic.js */ \"(rsc)/./node_modules/@inngest/ai/dist/adapters/anthropic.js\"), exports);\n__exportStar(__webpack_require__(/*! ./gemini.js */ \"(rsc)/./node_modules/@inngest/ai/dist/adapters/gemini.js\"), exports);\n__exportStar(__webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/ai/dist/adapters/openai.js\"), exports);\n__exportStar(__webpack_require__(/*! ./azure-openai.js */ \"(rsc)/./node_modules/@inngest/ai/dist/adapters/azure-openai.js\"), exports);\n__exportStar(__webpack_require__(/*! ./grok.js */ \"(rsc)/./node_modules/@inngest/ai/dist/adapters/grok.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsbUZBQWdCO0FBQ3JDLGFBQWEsbUJBQU8sQ0FBQyw2RUFBYTtBQUNsQyxhQUFhLG1CQUFPLENBQUMsNkVBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLHlGQUFtQjtBQUN4QyxhQUFhLG1CQUFPLENBQUMseUVBQVc7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL2luZGV4LmpzPzI1YWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hbnRocm9waWMuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2dlbWluaS5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vb3BlbmFpLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9henVyZS1vcGVuYWkuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2dyb2suanNcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/adapters/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/adapters/openai.js":
/*!**********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/adapters/openai.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9hZGFwdGVycy9vcGVuYWkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2FkYXB0ZXJzL29wZW5haS5qcz9mNDk5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/adapters/openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/env.js":
/*!**********************************************!*\
  !*** ./node_modules/@inngest/ai/dist/env.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.envKeys = exports.processEnv = exports.allProcessEnv = void 0;\n/**\n * allProcessEnv returns the current process environment variables, or an empty\n * object if they cannot be read, making sure we support environments other than\n * Node such as Deno, too.\n *\n * Using this ensures we don't dangerously access `process.env` in environments\n * where it may not be defined, such as Deno or the browser.\n */\nconst allProcessEnv = () => {\n    // Node, or Node-like environments\n    try {\n        if (process.env) {\n            return process.env;\n        }\n    }\n    catch (_err) {\n        // noop\n    }\n    // Deno\n    try {\n        const env = Deno.env.toObject();\n        if (env) {\n            return env;\n        }\n    }\n    catch (_err) {\n        // noop\n    }\n    // Netlify\n    try {\n        const env = Netlify.env.toObject();\n        if (env) {\n            return env;\n        }\n    }\n    catch (_err) {\n        // noop\n    }\n    return {};\n};\nexports.allProcessEnv = allProcessEnv;\nconst processEnv = (key) => {\n    return (0, exports.allProcessEnv)()[key];\n};\nexports.processEnv = processEnv;\nvar envKeys;\n(function (envKeys) {\n    envKeys[\"OpenAiApiKey\"] = \"OPENAI_API_KEY\";\n    envKeys[\"GeminiApiKey\"] = \"GEMINI_API_KEY\";\n    envKeys[\"AnthropicApiKey\"] = \"ANTHROPIC_API_KEY\";\n    envKeys[\"DeepSeekApiKey\"] = \"DEEPSEEK_API_KEY\";\n    envKeys[\"GrokApiKey\"] = \"XAI_API_KEY\";\n    envKeys[\"AzureOpenAiApiKey\"] = \"AZURE_OPENAI_API_KEY\";\n})(envKeys || (exports.envKeys = envKeys = {}));\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9lbnYuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZSxHQUFHLGtCQUFrQixHQUFHLHFCQUFxQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsY0FBYyxlQUFlLGVBQWU7QUFDN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9haS9kaXN0L2Vudi5qcz82MTYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbnZLZXlzID0gZXhwb3J0cy5wcm9jZXNzRW52ID0gZXhwb3J0cy5hbGxQcm9jZXNzRW52ID0gdm9pZCAwO1xuLyoqXG4gKiBhbGxQcm9jZXNzRW52IHJldHVybnMgdGhlIGN1cnJlbnQgcHJvY2VzcyBlbnZpcm9ubWVudCB2YXJpYWJsZXMsIG9yIGFuIGVtcHR5XG4gKiBvYmplY3QgaWYgdGhleSBjYW5ub3QgYmUgcmVhZCwgbWFraW5nIHN1cmUgd2Ugc3VwcG9ydCBlbnZpcm9ubWVudHMgb3RoZXIgdGhhblxuICogTm9kZSBzdWNoIGFzIERlbm8sIHRvby5cbiAqXG4gKiBVc2luZyB0aGlzIGVuc3VyZXMgd2UgZG9uJ3QgZGFuZ2Vyb3VzbHkgYWNjZXNzIGBwcm9jZXNzLmVudmAgaW4gZW52aXJvbm1lbnRzXG4gKiB3aGVyZSBpdCBtYXkgbm90IGJlIGRlZmluZWQsIHN1Y2ggYXMgRGVubyBvciB0aGUgYnJvd3Nlci5cbiAqL1xuY29uc3QgYWxsUHJvY2Vzc0VudiA9ICgpID0+IHtcbiAgICAvLyBOb2RlLCBvciBOb2RlLWxpa2UgZW52aXJvbm1lbnRzXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52KSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgIH1cbiAgICAvLyBEZW5vXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZW52ID0gRGVuby5lbnYudG9PYmplY3QoKTtcbiAgICAgICAgaWYgKGVudikge1xuICAgICAgICAgICAgcmV0dXJuIGVudjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoX2Vycikge1xuICAgICAgICAvLyBub29wXG4gICAgfVxuICAgIC8vIE5ldGxpZnlcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnYgPSBOZXRsaWZ5LmVudi50b09iamVjdCgpO1xuICAgICAgICBpZiAoZW52KSB7XG4gICAgICAgICAgICByZXR1cm4gZW52O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfZXJyKSB7XG4gICAgICAgIC8vIG5vb3BcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufTtcbmV4cG9ydHMuYWxsUHJvY2Vzc0VudiA9IGFsbFByb2Nlc3NFbnY7XG5jb25zdCBwcm9jZXNzRW52ID0gKGtleSkgPT4ge1xuICAgIHJldHVybiAoMCwgZXhwb3J0cy5hbGxQcm9jZXNzRW52KSgpW2tleV07XG59O1xuZXhwb3J0cy5wcm9jZXNzRW52ID0gcHJvY2Vzc0VudjtcbnZhciBlbnZLZXlzO1xuKGZ1bmN0aW9uIChlbnZLZXlzKSB7XG4gICAgZW52S2V5c1tcIk9wZW5BaUFwaUtleVwiXSA9IFwiT1BFTkFJX0FQSV9LRVlcIjtcbiAgICBlbnZLZXlzW1wiR2VtaW5pQXBpS2V5XCJdID0gXCJHRU1JTklfQVBJX0tFWVwiO1xuICAgIGVudktleXNbXCJBbnRocm9waWNBcGlLZXlcIl0gPSBcIkFOVEhST1BJQ19BUElfS0VZXCI7XG4gICAgZW52S2V5c1tcIkRlZXBTZWVrQXBpS2V5XCJdID0gXCJERUVQU0VFS19BUElfS0VZXCI7XG4gICAgZW52S2V5c1tcIkdyb2tBcGlLZXlcIl0gPSBcIlhBSV9BUElfS0VZXCI7XG4gICAgZW52S2V5c1tcIkF6dXJlT3BlbkFpQXBpS2V5XCJdID0gXCJBWlVSRV9PUEVOQUlfQVBJX0tFWVwiO1xufSkoZW52S2V5cyB8fCAoZXhwb3J0cy5lbnZLZXlzID0gZW52S2V5cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnYuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/env.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/index.js":
/*!************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/index.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.models = void 0;\n__exportStar(__webpack_require__(/*! ./adapters/index.js */ \"(rsc)/./node_modules/@inngest/ai/dist/adapters/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./models/index.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/index.js\"), exports);\nexports.models = __importStar(__webpack_require__(/*! ./models/index.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/index.js\"));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGNBQWM7QUFDekU7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2QsYUFBYSxtQkFBTyxDQUFDLG9GQUFxQjtBQUMxQyxhQUFhLG1CQUFPLENBQUMsZ0ZBQW1CO0FBQ3hDLGNBQWMsZ0JBQWdCLG1CQUFPLENBQUMsZ0ZBQW1CO0FBQ3pEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9pbmRleC5qcz83MzQ2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICB2YXIgYXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgICAgICAgICByZXR1cm4gYXI7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvd25LZXlzKG8pO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb2QpIHtcbiAgICAgICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICAgICAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tb2RlbHMgPSB2b2lkIDA7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYWRhcHRlcnMvaW5kZXguanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21vZGVscy9pbmRleC5qc1wiKSwgZXhwb3J0cyk7XG5leHBvcnRzLm1vZGVscyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9tb2RlbHMvaW5kZXguanNcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/anthropic.js":
/*!***********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/anthropic.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.anthropic = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create an Anthropic model using the Anthropic chat format.\n *\n * By default it targets the `https://api.anthropic.com/v1/` base URL, with the\n * \"2023-06-01\" anthropic-version header.\n */\nconst anthropic = (options) => {\n    var _a, _b;\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.AnthropicApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://api.anthropic.com/v1/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(\"messages\", baseUrl);\n    const headers = {\n        \"anthropic-version\": \"2023-06-01\",\n    };\n    if ((((_a = options.betaHeaders) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0) {\n        headers[\"anthropic-beta\"] = ((_b = options.betaHeaders) === null || _b === void 0 ? void 0 : _b.join(\",\")) || \"\";\n    }\n    return {\n        url: url.href,\n        authKey,\n        format: \"anthropic\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        },\n        headers,\n        options,\n    };\n};\nexports.anthropic = anthropic;\n//# sourceMappingURL=anthropic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvYW50aHJvcGljLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixjQUFjLG1CQUFPLENBQUMsNERBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvbW9kZWxzL2FudGhyb3BpYy5qcz85MDY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hbnRocm9waWMgPSB2b2lkIDA7XG5jb25zdCBlbnZfMSA9IHJlcXVpcmUoXCIuLi9lbnZcIik7XG4vKipcbiAqIENyZWF0ZSBhbiBBbnRocm9waWMgbW9kZWwgdXNpbmcgdGhlIEFudGhyb3BpYyBjaGF0IGZvcm1hdC5cbiAqXG4gKiBCeSBkZWZhdWx0IGl0IHRhcmdldHMgdGhlIGBodHRwczovL2FwaS5hbnRocm9waWMuY29tL3YxL2AgYmFzZSBVUkwsIHdpdGggdGhlXG4gKiBcIjIwMjMtMDYtMDFcIiBhbnRocm9waWMtdmVyc2lvbiBoZWFkZXIuXG4gKi9cbmNvbnN0IGFudGhyb3BpYyA9IChvcHRpb25zKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBhdXRoS2V5ID0gb3B0aW9ucy5hcGlLZXkgfHwgKDAsIGVudl8xLnByb2Nlc3NFbnYpKGVudl8xLmVudktleXMuQW50aHJvcGljQXBpS2V5KSB8fCBcIlwiO1xuICAgIC8vIEVuc3VyZSB3ZSBhZGQgYSB0cmFpbGluZyBzbGFzaCB0byBvdXIgYmFzZSBVUkwgaWYgaXQgZG9lc24ndCBoYXZlIG9uZSxcbiAgICAvLyBvdGhlcndpc2Ugd2UnbGwgcmVwbGFjZSB0aGUgcGF0aCBpbnN0ZWFkIG9mIGFwcGVuZGluZyBpdC5cbiAgICBsZXQgYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybCB8fCBcImh0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvXCI7XG4gICAgaWYgKCFiYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBiYXNlVXJsICs9IFwiL1wiO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwibWVzc2FnZXNcIiwgYmFzZVVybCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJhbnRocm9waWMtdmVyc2lvblwiOiBcIjIwMjMtMDYtMDFcIixcbiAgICB9O1xuICAgIGlmICgoKChfYSA9IG9wdGlvbnMuYmV0YUhlYWRlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIHx8IDApID4gMCkge1xuICAgICAgICBoZWFkZXJzW1wiYW50aHJvcGljLWJldGFcIl0gPSAoKF9iID0gb3B0aW9ucy5iZXRhSGVhZGVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmpvaW4oXCIsXCIpKSB8fCBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IHVybC5ocmVmLFxuICAgICAgICBhdXRoS2V5LFxuICAgICAgICBmb3JtYXQ6IFwiYW50aHJvcGljXCIsXG4gICAgICAgIG9uQ2FsbChfLCBib2R5KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJvZHksIG9wdGlvbnMuZGVmYXVsdFBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgYm9keS5tb2RlbCB8fCAoYm9keS5tb2RlbCA9IG9wdGlvbnMubW9kZWwpO1xuICAgICAgICB9LFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBvcHRpb25zLFxuICAgIH07XG59O1xuZXhwb3J0cy5hbnRocm9waWMgPSBhbnRocm9waWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbnRocm9waWMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/anthropic.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/azure-openai.js":
/*!**************************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/azure-openai.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.azureOpenai = void 0;\nconst env_js_1 = __webpack_require__(/*! ../env.js */ \"(rsc)/./node_modules/@inngest/ai/dist/env.js\");\nconst openai_js_1 = __webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/openai.js\");\n/**\n * Creates an Azure OpenAI model that uses the OpenAI chat format.\n *\n * This model extends the base OpenAI model with Azure-specific configurations:\n * - Uses a custom endpoint URL format: `{endpoint}/openai/deployments/{deployment}/chat/completions`\n * - Requires an API version parameter in the URL\n * - Uses Azure's API key authentication instead of OpenAI's Bearer token\n *\n * The model inherits all input/output types from the OpenAI adapter but uses\n * Azure's endpoint structure and authentication method.\n */\nconst azureOpenai = (options) => {\n    if (!options.endpoint) {\n        throw new Error(\"Azure OpenAI endpoint is required\");\n    }\n    const authKey = options.apiKey || (0, env_js_1.processEnv)(env_js_1.envKeys.AzureOpenAiApiKey) || \"\";\n    // Create base OpenAI model with Azure endpoint\n    const baseModel = (0, openai_js_1.openai)({\n        model: options.model,\n        apiKey: authKey,\n        baseUrl: options.endpoint,\n        defaultParameters: options.defaultParameters,\n    });\n    // Construct Azure-specific URL with deployment and API version\n    const url = new URL(`openai/deployments/${options.deployment}/chat/completions`, options.endpoint);\n    url.searchParams.set(\"api-version\", options.apiVersion);\n    return Object.assign(Object.assign({}, baseModel), { url: url.href, format: \"azure-openai\", onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        }, \n        // Override headers to use Azure's API key format\n        headers: {\n            \"api-key\": baseModel.authKey,\n            \"Content-Type\": \"application/json\",\n        }, options });\n};\nexports.azureOpenai = azureOpenai;\n//# sourceMappingURL=azure-openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvYXp1cmUtb3BlbmFpLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixpQkFBaUIsbUJBQU8sQ0FBQywrREFBVztBQUNwQyxvQkFBb0IsbUJBQU8sQ0FBQywyRUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxTQUFTLHFCQUFxQixXQUFXO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBOEMsbUJBQW1CO0FBQ2pFO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxXQUFXO0FBQ3BCO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvYXp1cmUtb3BlbmFpLmpzP2ViNWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmF6dXJlT3BlbmFpID0gdm9pZCAwO1xuY29uc3QgZW52X2pzXzEgPSByZXF1aXJlKFwiLi4vZW52LmpzXCIpO1xuY29uc3Qgb3BlbmFpX2pzXzEgPSByZXF1aXJlKFwiLi9vcGVuYWkuanNcIik7XG4vKipcbiAqIENyZWF0ZXMgYW4gQXp1cmUgT3BlbkFJIG1vZGVsIHRoYXQgdXNlcyB0aGUgT3BlbkFJIGNoYXQgZm9ybWF0LlxuICpcbiAqIFRoaXMgbW9kZWwgZXh0ZW5kcyB0aGUgYmFzZSBPcGVuQUkgbW9kZWwgd2l0aCBBenVyZS1zcGVjaWZpYyBjb25maWd1cmF0aW9uczpcbiAqIC0gVXNlcyBhIGN1c3RvbSBlbmRwb2ludCBVUkwgZm9ybWF0OiBge2VuZHBvaW50fS9vcGVuYWkvZGVwbG95bWVudHMve2RlcGxveW1lbnR9L2NoYXQvY29tcGxldGlvbnNgXG4gKiAtIFJlcXVpcmVzIGFuIEFQSSB2ZXJzaW9uIHBhcmFtZXRlciBpbiB0aGUgVVJMXG4gKiAtIFVzZXMgQXp1cmUncyBBUEkga2V5IGF1dGhlbnRpY2F0aW9uIGluc3RlYWQgb2YgT3BlbkFJJ3MgQmVhcmVyIHRva2VuXG4gKlxuICogVGhlIG1vZGVsIGluaGVyaXRzIGFsbCBpbnB1dC9vdXRwdXQgdHlwZXMgZnJvbSB0aGUgT3BlbkFJIGFkYXB0ZXIgYnV0IHVzZXNcbiAqIEF6dXJlJ3MgZW5kcG9pbnQgc3RydWN0dXJlIGFuZCBhdXRoZW50aWNhdGlvbiBtZXRob2QuXG4gKi9cbmNvbnN0IGF6dXJlT3BlbmFpID0gKG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIW9wdGlvbnMuZW5kcG9pbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIGVuZHBvaW50IGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBhdXRoS2V5ID0gb3B0aW9ucy5hcGlLZXkgfHwgKDAsIGVudl9qc18xLnByb2Nlc3NFbnYpKGVudl9qc18xLmVudktleXMuQXp1cmVPcGVuQWlBcGlLZXkpIHx8IFwiXCI7XG4gICAgLy8gQ3JlYXRlIGJhc2UgT3BlbkFJIG1vZGVsIHdpdGggQXp1cmUgZW5kcG9pbnRcbiAgICBjb25zdCBiYXNlTW9kZWwgPSAoMCwgb3BlbmFpX2pzXzEub3BlbmFpKSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsLFxuICAgICAgICBhcGlLZXk6IGF1dGhLZXksXG4gICAgICAgIGJhc2VVcmw6IG9wdGlvbnMuZW5kcG9pbnQsXG4gICAgICAgIGRlZmF1bHRQYXJhbWV0ZXJzOiBvcHRpb25zLmRlZmF1bHRQYXJhbWV0ZXJzLFxuICAgIH0pO1xuICAgIC8vIENvbnN0cnVjdCBBenVyZS1zcGVjaWZpYyBVUkwgd2l0aCBkZXBsb3ltZW50IGFuZCBBUEkgdmVyc2lvblxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYG9wZW5haS9kZXBsb3ltZW50cy8ke29wdGlvbnMuZGVwbG95bWVudH0vY2hhdC9jb21wbGV0aW9uc2AsIG9wdGlvbnMuZW5kcG9pbnQpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiYXBpLXZlcnNpb25cIiwgb3B0aW9ucy5hcGlWZXJzaW9uKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBiYXNlTW9kZWwpLCB7IHVybDogdXJsLmhyZWYsIGZvcm1hdDogXCJhenVyZS1vcGVuYWlcIiwgb25DYWxsKF8sIGJvZHkpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keSwgb3B0aW9ucy5kZWZhdWx0UGFyYW1ldGVycyk7XG4gICAgICAgICAgICBib2R5Lm1vZGVsIHx8IChib2R5Lm1vZGVsID0gb3B0aW9ucy5tb2RlbCk7XG4gICAgICAgIH0sIFxuICAgICAgICAvLyBPdmVycmlkZSBoZWFkZXJzIHRvIHVzZSBBenVyZSdzIEFQSSBrZXkgZm9ybWF0XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiYXBpLWtleVwiOiBiYXNlTW9kZWwuYXV0aEtleSxcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LCBvcHRpb25zIH0pO1xufTtcbmV4cG9ydHMuYXp1cmVPcGVuYWkgPSBhenVyZU9wZW5haTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF6dXJlLW9wZW5haS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/azure-openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/deepseek.js":
/*!**********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/deepseek.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deepseek = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create a DeepSeek model using the OpenAI-compatible chat format.\n *\n * By default it targets the `https://api.deepseek.com/v1/` base URL.\n */\nconst deepseek = (options) => {\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.DeepSeekApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://api.deepseek.com/v1/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(\"chat/completions\", baseUrl);\n    return {\n        url: url.href,\n        authKey,\n        format: \"openai-chat\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        },\n        options,\n    };\n};\nexports.deepseek = deepseek;\n//# sourceMappingURL=deepseek.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvZGVlcHNlZWsuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLGNBQWMsbUJBQU8sQ0FBQyw0REFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvZGVlcHNlZWsuanM/MDRlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVlcHNlZWsgPSB2b2lkIDA7XG5jb25zdCBlbnZfMSA9IHJlcXVpcmUoXCIuLi9lbnZcIik7XG4vKipcbiAqIENyZWF0ZSBhIERlZXBTZWVrIG1vZGVsIHVzaW5nIHRoZSBPcGVuQUktY29tcGF0aWJsZSBjaGF0IGZvcm1hdC5cbiAqXG4gKiBCeSBkZWZhdWx0IGl0IHRhcmdldHMgdGhlIGBodHRwczovL2FwaS5kZWVwc2Vlay5jb20vdjEvYCBiYXNlIFVSTC5cbiAqL1xuY29uc3QgZGVlcHNlZWsgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGF1dGhLZXkgPSBvcHRpb25zLmFwaUtleSB8fCAoMCwgZW52XzEucHJvY2Vzc0VudikoZW52XzEuZW52S2V5cy5EZWVwU2Vla0FwaUtleSkgfHwgXCJcIjtcbiAgICAvLyBFbnN1cmUgd2UgYWRkIGEgdHJhaWxpbmcgc2xhc2ggdG8gb3VyIGJhc2UgVVJMIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmUsXG4gICAgLy8gb3RoZXJ3aXNlIHdlJ2xsIHJlcGxhY2UgdGhlIHBhdGggaW5zdGVhZCBvZiBhcHBlbmRpbmcgaXQuXG4gICAgbGV0IGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgXCJodHRwczovL2FwaS5kZWVwc2Vlay5jb20vdjEvXCI7XG4gICAgaWYgKCFiYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBiYXNlVXJsICs9IFwiL1wiO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwiY2hhdC9jb21wbGV0aW9uc1wiLCBiYXNlVXJsKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IHVybC5ocmVmLFxuICAgICAgICBhdXRoS2V5LFxuICAgICAgICBmb3JtYXQ6IFwib3BlbmFpLWNoYXRcIixcbiAgICAgICAgb25DYWxsKF8sIGJvZHkpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keSwgb3B0aW9ucy5kZWZhdWx0UGFyYW1ldGVycyk7XG4gICAgICAgICAgICBib2R5Lm1vZGVsIHx8IChib2R5Lm1vZGVsID0gb3B0aW9ucy5tb2RlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgfTtcbn07XG5leHBvcnRzLmRlZXBzZWVrID0gZGVlcHNlZWs7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWVwc2Vlay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/deepseek.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/gemini.js":
/*!********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/gemini.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.gemini = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create a Gemini model using the OpenAI chat format.\n *\n * By default it targets the `https://generativelanguage.googleapis.com/v1beta/`\n * base URL.\n */\nconst gemini = (options) => {\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.GeminiApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://generativelanguage.googleapis.com/v1beta/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(`models/${options.model}:generateContent?key=${authKey}`, baseUrl);\n    const headers = {};\n    return {\n        url: url.href,\n        authKey,\n        format: \"gemini\",\n        onCall(_, body) {\n            var _a;\n            if (!options.defaultParameters) {\n                return;\n            }\n            const _b = options.defaultParameters, { generationConfig: defaultGenerationConfig } = _b, otherDefaults = __rest(_b, [\"generationConfig\"]);\n            // Assign top-level defaults first, user-provided values will override\n            Object.assign(body, Object.assign(Object.assign({}, otherDefaults), body));\n            // Then, deep-merge generationConfig\n            if (defaultGenerationConfig) {\n                body.generationConfig = Object.assign(Object.assign(Object.assign({}, defaultGenerationConfig), (body.generationConfig || {})), { \n                    // And ensure nested thinkingConfig is also deep-merged\n                    thinkingConfig: Object.assign(Object.assign({}, defaultGenerationConfig.thinkingConfig), (((_a = body.generationConfig) === null || _a === void 0 ? void 0 : _a.thinkingConfig) || {})) });\n            }\n        },\n        headers,\n        options,\n    };\n};\nexports.gemini = gemini;\n//# sourceMappingURL=gemini.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvZ2VtaW5pLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGNBQWMsbUJBQU8sQ0FBQyw0REFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGNBQWMsdUJBQXVCLFFBQVE7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNENBQTRDO0FBQ2hHO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQSxvRkFBb0Ysd0RBQXdEO0FBQzVJO0FBQ0Esa0VBQWtFLHVJQUF1SSxJQUFJO0FBQzdNO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvZ2VtaW5pLmpzPzgwZjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdlbWluaSA9IHZvaWQgMDtcbmNvbnN0IGVudl8xID0gcmVxdWlyZShcIi4uL2VudlwiKTtcbi8qKlxuICogQ3JlYXRlIGEgR2VtaW5pIG1vZGVsIHVzaW5nIHRoZSBPcGVuQUkgY2hhdCBmb3JtYXQuXG4gKlxuICogQnkgZGVmYXVsdCBpdCB0YXJnZXRzIHRoZSBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL2BcbiAqIGJhc2UgVVJMLlxuICovXG5jb25zdCBnZW1pbmkgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGF1dGhLZXkgPSBvcHRpb25zLmFwaUtleSB8fCAoMCwgZW52XzEucHJvY2Vzc0VudikoZW52XzEuZW52S2V5cy5HZW1pbmlBcGlLZXkpIHx8IFwiXCI7XG4gICAgLy8gRW5zdXJlIHdlIGFkZCBhIHRyYWlsaW5nIHNsYXNoIHRvIG91ciBiYXNlIFVSTCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lLFxuICAgIC8vIG90aGVyd2lzZSB3ZSdsbCByZXBsYWNlIHRoZSBwYXRoIGluc3RlYWQgb2YgYXBwZW5kaW5nIGl0LlxuICAgIGxldCBiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsIHx8IFwiaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL1wiO1xuICAgIGlmICghYmFzZVVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgYmFzZVVybCArPSBcIi9cIjtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChgbW9kZWxzLyR7b3B0aW9ucy5tb2RlbH06Z2VuZXJhdGVDb250ZW50P2tleT0ke2F1dGhLZXl9YCwgYmFzZVVybCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHVybDogdXJsLmhyZWYsXG4gICAgICAgIGF1dGhLZXksXG4gICAgICAgIGZvcm1hdDogXCJnZW1pbmlcIixcbiAgICAgICAgb25DYWxsKF8sIGJvZHkpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kZWZhdWx0UGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IF9iID0gb3B0aW9ucy5kZWZhdWx0UGFyYW1ldGVycywgeyBnZW5lcmF0aW9uQ29uZmlnOiBkZWZhdWx0R2VuZXJhdGlvbkNvbmZpZyB9ID0gX2IsIG90aGVyRGVmYXVsdHMgPSBfX3Jlc3QoX2IsIFtcImdlbmVyYXRpb25Db25maWdcIl0pO1xuICAgICAgICAgICAgLy8gQXNzaWduIHRvcC1sZXZlbCBkZWZhdWx0cyBmaXJzdCwgdXNlci1wcm92aWRlZCB2YWx1ZXMgd2lsbCBvdmVycmlkZVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG90aGVyRGVmYXVsdHMpLCBib2R5KSk7XG4gICAgICAgICAgICAvLyBUaGVuLCBkZWVwLW1lcmdlIGdlbmVyYXRpb25Db25maWdcbiAgICAgICAgICAgIGlmIChkZWZhdWx0R2VuZXJhdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgIGJvZHkuZ2VuZXJhdGlvbkNvbmZpZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0R2VuZXJhdGlvbkNvbmZpZyksIChib2R5LmdlbmVyYXRpb25Db25maWcgfHwge30pKSwgeyBcbiAgICAgICAgICAgICAgICAgICAgLy8gQW5kIGVuc3VyZSBuZXN0ZWQgdGhpbmtpbmdDb25maWcgaXMgYWxzbyBkZWVwLW1lcmdlZFxuICAgICAgICAgICAgICAgICAgICB0aGlua2luZ0NvbmZpZzogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0R2VuZXJhdGlvbkNvbmZpZy50aGlua2luZ0NvbmZpZyksICgoKF9hID0gYm9keS5nZW5lcmF0aW9uQ29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGhpbmtpbmdDb25maWcpIHx8IHt9KSkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgfTtcbn07XG5leHBvcnRzLmdlbWluaSA9IGdlbWluaTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbWluaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/gemini.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/grok.js":
/*!******************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/grok.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.grok = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/ai/dist/env.js\");\nconst openai_js_1 = __webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/openai.js\");\n/**\n * Create a Grok model using the OpenAI chat format.\n *\n * By default it targets the `https://api.x.ai/v1`\n * base URL.\n */\nconst grok = (options) => {\n    const apiKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.GrokApiKey);\n    const baseUrl = options.baseUrl || \"https://api.x.ai/v1\";\n    const model = options.model;\n    const adapter = (0, openai_js_1.openai)(Object.assign(Object.assign({}, options), { apiKey,\n        baseUrl,\n        model }));\n    adapter.format = \"grok\";\n    return adapter;\n};\nexports.grok = grok;\n//# sourceMappingURL=grok.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvZ3Jvay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZO0FBQ1osY0FBYyxtQkFBTyxDQUFDLDREQUFRO0FBQzlCLG9CQUFvQixtQkFBTyxDQUFDLDJFQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGNBQWM7QUFDeEY7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml2ZS12aWJlLWFpLW5leHQvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvZ3Jvay5qcz8yYzFmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ncm9rID0gdm9pZCAwO1xuY29uc3QgZW52XzEgPSByZXF1aXJlKFwiLi4vZW52XCIpO1xuY29uc3Qgb3BlbmFpX2pzXzEgPSByZXF1aXJlKFwiLi9vcGVuYWkuanNcIik7XG4vKipcbiAqIENyZWF0ZSBhIEdyb2sgbW9kZWwgdXNpbmcgdGhlIE9wZW5BSSBjaGF0IGZvcm1hdC5cbiAqXG4gKiBCeSBkZWZhdWx0IGl0IHRhcmdldHMgdGhlIGBodHRwczovL2FwaS54LmFpL3YxYFxuICogYmFzZSBVUkwuXG4gKi9cbmNvbnN0IGdyb2sgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGFwaUtleSA9IG9wdGlvbnMuYXBpS2V5IHx8ICgwLCBlbnZfMS5wcm9jZXNzRW52KShlbnZfMS5lbnZLZXlzLkdyb2tBcGlLZXkpO1xuICAgIGNvbnN0IGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgXCJodHRwczovL2FwaS54LmFpL3YxXCI7XG4gICAgY29uc3QgbW9kZWwgPSBvcHRpb25zLm1vZGVsO1xuICAgIGNvbnN0IGFkYXB0ZXIgPSAoMCwgb3BlbmFpX2pzXzEub3BlbmFpKShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGFwaUtleSxcbiAgICAgICAgYmFzZVVybCxcbiAgICAgICAgbW9kZWwgfSkpO1xuICAgIGFkYXB0ZXIuZm9ybWF0ID0gXCJncm9rXCI7XG4gICAgcmV0dXJuIGFkYXB0ZXI7XG59O1xuZXhwb3J0cy5ncm9rID0gZ3Jvaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb2suanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/grok.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n__exportStar(__webpack_require__(/*! ./anthropic.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/anthropic.js\"), exports);\n__exportStar(__webpack_require__(/*! ./gemini.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/gemini.js\"), exports);\n__exportStar(__webpack_require__(/*! ./openai.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/openai.js\"), exports);\n__exportStar(__webpack_require__(/*! ./azure-openai.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/azure-openai.js\"), exports);\n__exportStar(__webpack_require__(/*! ./deepseek.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/deepseek.js\"), exports);\n__exportStar(__webpack_require__(/*! ./grok.js */ \"(rsc)/./node_modules/@inngest/ai/dist/models/grok.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYSxtQkFBTyxDQUFDLGlGQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMsMkVBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLDJFQUFhO0FBQ2xDLGFBQWEsbUJBQU8sQ0FBQyx1RkFBbUI7QUFDeEMsYUFBYSxtQkFBTyxDQUFDLCtFQUFlO0FBQ3BDLGFBQWEsbUJBQU8sQ0FBQyx1RUFBVztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvbW9kZWxzL2luZGV4LmpzPzNjZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hbnRocm9waWMuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2dlbWluaS5qc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vb3BlbmFpLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9henVyZS1vcGVuYWkuanNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RlZXBzZWVrLmpzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ncm9rLmpzXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/ai/dist/models/openai.js":
/*!********************************************************!*\
  !*** ./node_modules/@inngest/ai/dist/models/openai.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.openai = void 0;\nconst env_1 = __webpack_require__(/*! ../env */ \"(rsc)/./node_modules/@inngest/ai/dist/env.js\");\n/**\n * Create an OpenAI model using the OpenAI chat format.\n *\n * By default it targets the `https://api.openai.com/v1/` base URL.\n */\nconst openai = (options) => {\n    const authKey = options.apiKey || (0, env_1.processEnv)(env_1.envKeys.OpenAiApiKey) || \"\";\n    // Ensure we add a trailing slash to our base URL if it doesn't have one,\n    // otherwise we'll replace the path instead of appending it.\n    let baseUrl = options.baseUrl || \"https://api.openai.com/v1/\";\n    if (!baseUrl.endsWith(\"/\")) {\n        baseUrl += \"/\";\n    }\n    const url = new URL(\"chat/completions\", baseUrl);\n    return {\n        url: url.href,\n        authKey,\n        format: \"openai-chat\",\n        onCall(_, body) {\n            Object.assign(body, options.defaultParameters);\n            body.model || (body.model = options.model);\n        },\n        options,\n    };\n};\nexports.openai = openai;\n//# sourceMappingURL=openai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWkvZGlzdC9tb2RlbHMvb3BlbmFpLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCxjQUFjLG1CQUFPLENBQUMsNERBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdmUtdmliZS1haS1uZXh0Ly4vbm9kZV9tb2R1bGVzL0Bpbm5nZXN0L2FpL2Rpc3QvbW9kZWxzL29wZW5haS5qcz81MjNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vcGVuYWkgPSB2b2lkIDA7XG5jb25zdCBlbnZfMSA9IHJlcXVpcmUoXCIuLi9lbnZcIik7XG4vKipcbiAqIENyZWF0ZSBhbiBPcGVuQUkgbW9kZWwgdXNpbmcgdGhlIE9wZW5BSSBjaGF0IGZvcm1hdC5cbiAqXG4gKiBCeSBkZWZhdWx0IGl0IHRhcmdldHMgdGhlIGBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2AgYmFzZSBVUkwuXG4gKi9cbmNvbnN0IG9wZW5haSA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgYXV0aEtleSA9IG9wdGlvbnMuYXBpS2V5IHx8ICgwLCBlbnZfMS5wcm9jZXNzRW52KShlbnZfMS5lbnZLZXlzLk9wZW5BaUFwaUtleSkgfHwgXCJcIjtcbiAgICAvLyBFbnN1cmUgd2UgYWRkIGEgdHJhaWxpbmcgc2xhc2ggdG8gb3VyIGJhc2UgVVJMIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmUsXG4gICAgLy8gb3RoZXJ3aXNlIHdlJ2xsIHJlcGxhY2UgdGhlIHBhdGggaW5zdGVhZCBvZiBhcHBlbmRpbmcgaXQuXG4gICAgbGV0IGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL1wiO1xuICAgIGlmICghYmFzZVVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgYmFzZVVybCArPSBcIi9cIjtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChcImNoYXQvY29tcGxldGlvbnNcIiwgYmFzZVVybCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiB1cmwuaHJlZixcbiAgICAgICAgYXV0aEtleSxcbiAgICAgICAgZm9ybWF0OiBcIm9wZW5haS1jaGF0XCIsXG4gICAgICAgIG9uQ2FsbChfLCBib2R5KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJvZHksIG9wdGlvbnMuZGVmYXVsdFBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgYm9keS5tb2RlbCB8fCAoYm9keS5tb2RlbCA9IG9wdGlvbnMubW9kZWwpO1xuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zLFxuICAgIH07XG59O1xuZXhwb3J0cy5vcGVuYWkgPSBvcGVuYWk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuYWkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/ai/dist/models/openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/dist/chunk-J76M4KLW.js":
/*!****************************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/dist/chunk-J76M4KLW.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Agent: () => (/* binding */ Agent),\n/* harmony export */   AgentResult: () => (/* binding */ AgentResult),\n/* harmony export */   AgenticModel: () => (/* binding */ AgenticModel),\n/* harmony export */   Network: () => (/* binding */ Network),\n/* harmony export */   NetworkRun: () => (/* binding */ NetworkRun),\n/* harmony export */   RoutingAgent: () => (/* binding */ RoutingAgent),\n/* harmony export */   State: () => (/* binding */ State),\n/* harmony export */   __spreadProps: () => (/* binding */ __spreadProps),\n/* harmony export */   __spreadValues: () => (/* binding */ __spreadValues),\n/* harmony export */   createAgent: () => (/* binding */ createAgent),\n/* harmony export */   createAgenticModelFromAiAdapter: () => (/* binding */ createAgenticModelFromAiAdapter),\n/* harmony export */   createNetwork: () => (/* binding */ createNetwork),\n/* harmony export */   createRoutingAgent: () => (/* binding */ createRoutingAgent),\n/* harmony export */   createState: () => (/* binding */ createState),\n/* harmony export */   createTool: () => (/* binding */ createTool),\n/* harmony export */   getDefaultRoutingAgent: () => (/* binding */ getDefaultRoutingAgent),\n/* harmony export */   getInngestFnInput: () => (/* binding */ getInngestFnInput),\n/* harmony export */   getStepTools: () => (/* binding */ getStepTools),\n/* harmony export */   initializeThread: () => (/* binding */ initializeThread),\n/* harmony export */   isInngestFn: () => (/* binding */ isInngestFn),\n/* harmony export */   loadThreadFromStorage: () => (/* binding */ loadThreadFromStorage),\n/* harmony export */   saveThreadToStorage: () => (/* binding */ saveThreadToStorage),\n/* harmony export */   stringifyError: () => (/* binding */ stringifyError)\n/* harmony export */ });\n/* harmony import */ var xxhashjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xxhashjs */ \"(rsc)/./node_modules/xxhashjs/lib/index.js\");\n/* harmony import */ var inngest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inngest */ \"(rsc)/./node_modules/inngest/index.js\");\n/* harmony import */ var inngest_components_InngestFunction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! inngest/components/InngestFunction */ \"(rsc)/./node_modules/inngest/components/InngestFunction.js\");\n/* harmony import */ var inngest_experimental__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! inngest/experimental */ \"(rsc)/./node_modules/inngest/experimental.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _inngest_ai__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @inngest/ai */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/index.js\");\n/* harmony import */ var _dmitryrechkin_json_schema_to_zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @dmitryrechkin/json-schema-to-zod */ \"(rsc)/./node_modules/@dmitryrechkin/json-schema-to-zod/dist/index.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/index.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/index.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_streamableHttp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/streamableHttp.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/streamableHttp.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_sse_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/sse.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/sse.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_websocket_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/websocket.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/websocket.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_client_stdio_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @modelcontextprotocol/sdk/client/stdio.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/client/stdio.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_shared_transport_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @modelcontextprotocol/sdk/shared/transport.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/shared/transport.js\");\n/* harmony import */ var _modelcontextprotocol_sdk_types_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @modelcontextprotocol/sdk/types.js */ \"(rsc)/./node_modules/@modelcontextprotocol/sdk/dist/esm/types.js\");\n/* harmony import */ var eventsource__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! eventsource */ \"(rsc)/./node_modules/eventsource/dist/index.js\");\n/* harmony import */ var inngest_helpers_errors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! inngest/helpers/errors */ \"(rsc)/./node_modules/inngest/helpers/errors.js\");\n/* harmony import */ var inngest_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! inngest/types */ \"(rsc)/./node_modules/inngest/types.js\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! zod-to-json-schema */ \"(rsc)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\n\n// src/types.ts\n\nvar _checksum;\nvar AgentResult = class {\n  constructor(agentName, output, toolCalls, createdAt, prompt, history, raw) {\n    this.agentName = agentName;\n    this.output = output;\n    this.toolCalls = toolCalls;\n    this.createdAt = createdAt;\n    this.prompt = prompt;\n    this.history = history;\n    this.raw = raw;\n    // checksum memoizes a checksum so that it doe snot have to be calculated many times.\n    __privateAdd(this, _checksum);\n  }\n  /**\n   * export returns all fields necessary to store the AgentResult for future use.\n   */\n  export() {\n    return {\n      agentName: this.agentName,\n      output: this.output,\n      toolCalls: this.toolCalls,\n      createdAt: this.createdAt,\n      checksum: this.checksum\n    };\n  }\n  /**\n   * checksum is a unique ID for this result.\n   *\n   * It is generated by taking a checksum of the message output and the created at date.\n   * This allows you to dedupe items when saving conversation history.\n   */\n  get checksum() {\n    if (__privateGet(this, _checksum) === void 0) {\n      const input = JSON.stringify(this.output.concat(this.toolCalls)) + this.createdAt.toString();\n      __privateSet(this, _checksum, xxhashjs__WEBPACK_IMPORTED_MODULE_0__.h64(input, 0).toString());\n    }\n    return __privateGet(this, _checksum);\n  }\n};\n_checksum = new WeakMap();\n\n// src/state.ts\nvar createState = (initialState, opts) => {\n  return new State(__spreadProps(__spreadValues({}, opts), { data: initialState }));\n};\nvar __kv;\nvar _State = class _State {\n  constructor({ data, messages, threadId, results } = {}) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    __privateAdd(this, __kv);\n    this._results = results || [];\n    this._messages = messages || [];\n    this._data = data ? __spreadValues({}, data) : {};\n    this.threadId = threadId;\n    this.data = new Proxy(this._data, {\n      set: (target, prop, value) => {\n        if (typeof prop === \"string\" && prop in target) {\n          Reflect.set(target, prop, value);\n          return true;\n        }\n        return Reflect.set(target, prop, value);\n      }\n    });\n    __privateSet(this, __kv, new Map(Object.entries(this._data)));\n    this.kv = {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      set: (key, value) => {\n        __privateGet(this, __kv).set(key, value);\n      },\n      get: (key) => {\n        return __privateGet(this, __kv).get(key);\n      },\n      delete: (key) => {\n        return __privateGet(this, __kv).delete(key);\n      },\n      has: (key) => {\n        return __privateGet(this, __kv).has(key);\n      },\n      all: () => {\n        return Object.fromEntries(__privateGet(this, __kv));\n      }\n    };\n  }\n  /**\n   * Results returns a new array containing all past inference results in the\n   * network. This array is safe to modify.\n   */\n  get results() {\n    return this._results.slice();\n  }\n  /**\n   * Replaces all results with the provided array\n   * used when loading initial results from history.get()\n   */\n  setResults(results) {\n    this._results = results;\n  }\n  /**\n   * Returns a slice of results from the given start index\n   * used when saving results to a database via history.appendResults()\n   */\n  getResultsFrom(startIndex) {\n    return this._results.slice(startIndex);\n  }\n  /**\n   * Messages returns a new array containing all initial messages that were\n   * provided to the constructor. This array is safe to modify.\n   */\n  get messages() {\n    return this._messages.slice();\n  }\n  /**\n   * formatHistory returns the memory used for agentic calls based off of prior\n   * agentic calls.\n   *\n   * This is used to format the current State as a conversation log when\n   * calling an individual agent.\n   *\n   */\n  formatHistory(formatter) {\n    if (!formatter) {\n      formatter = defaultResultFormatter;\n    }\n    return this._messages.concat(\n      this._results.map((result) => formatter(result)).flat()\n    );\n  }\n  /**\n   * appendResult appends a given result to the current state.  This\n   * is called by the network after each iteration.\n   */\n  appendResult(call) {\n    this._results.push(call);\n  }\n  /**\n   * clone allows you to safely clone the state.\n   */\n  clone() {\n    const state = new _State({\n      data: this.data,\n      threadId: this.threadId,\n      messages: this._messages.slice(),\n      results: this._results.slice()\n    });\n    return state;\n  }\n};\n__kv = new WeakMap();\nvar State = _State;\nvar defaultResultFormatter = (r) => {\n  return [].concat(r.output).concat(r.toolCalls);\n};\n\n// src/util.ts\n\n\n\n\nvar stringifyError = (e) => {\n  if (e instanceof Error) {\n    return e.message;\n  }\n  return String(e);\n};\nvar getStepTools = async () => {\n  const asyncCtx = await (0,inngest_experimental__WEBPACK_IMPORTED_MODULE_3__.getAsyncCtx)();\n  return asyncCtx == null ? void 0 : asyncCtx.ctx.step;\n};\nvar isInngestFn = (fn) => {\n  if (fn instanceof inngest_components_InngestFunction__WEBPACK_IMPORTED_MODULE_2__.InngestFunction) {\n    return true;\n  }\n  if (typeof fn === \"object\" && fn !== null && \"createExecution\" in fn && typeof fn.createExecution === \"function\") {\n    return true;\n  }\n  return false;\n};\nvar getInngestFnInput = (fn) => {\n  var _a, _b, _c;\n  const runtimeSchemas = (_a = fn[\"client\"][\"schemas\"]) == null ? void 0 : _a[\"runtimeSchemas\"];\n  if (!runtimeSchemas) {\n    return;\n  }\n  const schemasToAttempt = new Set(\n    (_c = (_b = fn[\"opts\"].triggers) == null ? void 0 : _b.reduce((acc, trigger) => {\n      if (trigger.event) {\n        return [...acc, trigger.event];\n      }\n      return acc;\n    }, [])) != null ? _c : []\n  );\n  if (!schemasToAttempt.size) {\n    return;\n  }\n  let schema;\n  for (const eventSchema of schemasToAttempt) {\n    const runtimeSchema = runtimeSchemas[eventSchema];\n    if (typeof runtimeSchema === \"object\" && runtimeSchema !== null && \"data\" in runtimeSchema && helpers.isZodObject(runtimeSchema.data)) {\n      if (schema) {\n        schema = schema.or(runtimeSchema.data);\n      } else {\n        schema = runtimeSchema.data;\n      }\n      continue;\n    }\n  }\n  return schema;\n};\nvar helpers = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  isZodObject: (value) => {\n    return value instanceof zod__WEBPACK_IMPORTED_MODULE_4__.ZodType && value._def.typeName === \"ZodObject\";\n  },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  isObject: (value) => {\n    return typeof value === \"object\" && value !== null && !Array.isArray(value);\n  }\n};\n\n// src/network.ts\n\n\n\n// src/agent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/model.ts\n\n\n// src/adapters/index.ts\n\n\n// src/adapters/anthropic.ts\n\n\n\n\n// src/tool.ts\n\n\nfunction createTool({\n  name,\n  description,\n  parameters,\n  handler\n}) {\n  return {\n    name,\n    description,\n    parameters,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    handler\n    // eslint-disable-line @typescript-eslint/no-explicit-any\n  };\n}\n\n// src/adapters/anthropic.ts\nvar requestParser = (model, messages, tools, tool_choice = \"auto\") => {\n  const systemMessage = messages.find(\n    (m) => m.role === \"system\" && m.type === \"text\"\n  );\n  const system = typeof (systemMessage == null ? void 0 : systemMessage.content) === \"string\" ? systemMessage.content : \"\";\n  const anthropicMessages = messages.filter((m) => m.role !== \"system\").reduce(\n    (acc, m) => {\n      switch (m.type) {\n        case \"text\":\n          return [\n            ...acc,\n            {\n              role: m.role,\n              content: Array.isArray(m.content) ? m.content.map((text) => ({ type: \"text\", text })) : m.content\n            }\n          ];\n        case \"tool_call\":\n          return [\n            ...acc,\n            {\n              role: m.role,\n              content: m.tools.map((tool) => ({\n                type: \"tool_use\",\n                id: tool.id,\n                input: tool.input,\n                name: tool.name\n              }))\n            }\n          ];\n        case \"tool_result\":\n          return [\n            ...acc,\n            {\n              role: \"user\",\n              content: [\n                {\n                  type: \"tool_result\",\n                  tool_use_id: m.tool.id,\n                  content: typeof m.content === \"string\" ? m.content : JSON.stringify(m.content)\n                }\n              ]\n            }\n          ];\n      }\n    },\n    []\n  );\n  const lastMessage = anthropicMessages[anthropicMessages.length - 1];\n  if ((lastMessage == null ? void 0 : lastMessage.role) === \"assistant\") {\n    lastMessage.role = \"user\";\n  }\n  const request = {\n    system,\n    model: model.options.model,\n    max_tokens: model.options.defaultParameters.max_tokens,\n    messages: anthropicMessages\n  };\n  if (tools == null ? void 0 : tools.length) {\n    request.tools = tools.map((t) => {\n      return {\n        name: t.name,\n        description: t.description,\n        input_schema: t.parameters ? (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_16__.zodToJsonSchema)(t.parameters) : (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_16__.zodToJsonSchema)(\n          zod__WEBPACK_IMPORTED_MODULE_4__.object({})\n        )\n      };\n    });\n    request.tool_choice = toolChoice(tool_choice);\n  }\n  return request;\n};\nvar responseParser = (input) => {\n  var _a, _b;\n  if (input.type === \"error\") {\n    throw new Error(\n      ((_a = input.error) == null ? void 0 : _a.message) || `Anthropic request failed: ${JSON.stringify(input.error)}`\n    );\n  }\n  return ((_b = input == null ? void 0 : input.content) != null ? _b : []).reduce((acc, item) => {\n    if (!item.type) {\n      return acc;\n    }\n    switch (item.type) {\n      case \"text\":\n        return [\n          ...acc,\n          {\n            type: \"text\",\n            role: input.role,\n            content: item.text,\n            // XXX: Better stop reason parsing\n            stop_reason: \"stop\"\n          }\n        ];\n      case \"tool_use\": {\n        let args;\n        try {\n          args = typeof item.input === \"string\" ? JSON.parse(item.input) : item.input;\n        } catch (e) {\n          args = item.input;\n        }\n        return [\n          ...acc,\n          {\n            type: \"tool_call\",\n            role: input.role,\n            stop_reason: \"tool\",\n            tools: [\n              {\n                type: \"tool\",\n                id: item.id,\n                name: item.name,\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                input: args\n              }\n            ]\n          }\n        ];\n      }\n    }\n  }, []);\n};\nvar toolChoice = (choice) => {\n  switch (choice) {\n    case \"auto\":\n      return { type: \"auto\" };\n    case \"any\":\n      return { type: \"any\" };\n    default:\n      if (typeof choice === \"string\") {\n        return {\n          type: \"tool\",\n          name: choice\n        };\n      }\n  }\n};\n\n// src/adapters/openai.ts\n\n\nvar requestParser2 = (model, messages, tools, tool_choice = \"auto\") => {\n  var _a, _b;\n  const request = {\n    messages: messages.map((m) => {\n      var _a2;\n      switch (m.type) {\n        case \"text\":\n          return {\n            role: m.role,\n            content: m.content\n          };\n        case \"tool_call\":\n          return {\n            role: \"assistant\",\n            content: null,\n            tool_calls: m.tools ? (_a2 = m.tools) == null ? void 0 : _a2.map((tool) => ({\n              id: tool.id,\n              type: \"function\",\n              function: {\n                name: tool.name,\n                arguments: JSON.stringify(tool.input)\n              }\n            })) : void 0\n          };\n        case \"tool_result\":\n          return {\n            role: \"tool\",\n            tool_call_id: m.tool.id,\n            content: typeof m.content === \"string\" ? m.content : JSON.stringify(m.content)\n          };\n      }\n    })\n  };\n  if (tools == null ? void 0 : tools.length) {\n    request.tool_choice = toolChoice2(tool_choice);\n    if (!((_a = model.options.model) == null ? void 0 : _a.includes(\"o3\")) && !((_b = model.options.model) == null ? void 0 : _b.includes(\"o1\"))) {\n      request.parallel_tool_calls = false;\n    }\n    request.tools = tools.map((t) => {\n      return {\n        type: \"function\",\n        function: {\n          name: t.name,\n          description: t.description,\n          parameters: t.parameters && (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_16__.zodToJsonSchema)(t.parameters, { target: \"openAi\" }),\n          strict: typeof t.strict !== \"undefined\" ? t.strict : Boolean(t.parameters)\n          // strict mode is only supported with parameters\n        }\n      };\n    });\n  }\n  return request;\n};\nvar responseParser2 = (input) => {\n  var _a;\n  if (input.error) {\n    throw new Error(\n      input.error.message || `OpenAI request failed: ${JSON.stringify(input.error)}`\n    );\n  }\n  return ((_a = input == null ? void 0 : input.choices) != null ? _a : []).reduce((acc, choice) => {\n    var _a2, _b;\n    const { message, finish_reason } = choice;\n    if (!message) {\n      return acc;\n    }\n    const base = {\n      role: choice.message.role,\n      stop_reason: openAiStopReasonToStateStopReason[finish_reason != null ? finish_reason : \"\"] || \"stop\"\n    };\n    if (message.content && message.content.trim() !== \"\") {\n      acc.push(__spreadProps(__spreadValues({}, base), {\n        type: \"text\",\n        content: message.content\n      }));\n    }\n    if (((_b = (_a2 = message.tool_calls) == null ? void 0 : _a2.length) != null ? _b : 0) > 0) {\n      acc.push(__spreadProps(__spreadValues({}, base), {\n        type: \"tool_call\",\n        tools: message.tool_calls.map((tool) => {\n          return {\n            type: \"tool\",\n            id: tool.id,\n            name: tool.function.name,\n            function: tool.function.name,\n            // Duplicate for backward compatibility\n            // Use safe parser to handle OpenAI's JSON quirks (like backticks in strings)\n            input: safeParseOpenAIJson(tool.function.arguments || \"{}\")\n          };\n        })\n      }));\n    }\n    return acc;\n  }, []);\n};\nvar safeParseOpenAIJson = (str) => {\n  const trimmed = str.replace(/^[\"']|[\"']$/g, \"\");\n  try {\n    return JSON.parse(trimmed);\n  } catch (e) {\n    try {\n      const withQuotes = trimmed.replace(\n        /`([\\s\\S]*?)`/g,\n        (_, content) => JSON.stringify(content)\n      );\n      return JSON.parse(withQuotes);\n    } catch (e2) {\n      throw new Error(\n        `Failed to parse JSON with backticks: ${stringifyError(e2)}`\n      );\n    }\n  }\n};\nvar openAiStopReasonToStateStopReason = {\n  tool_calls: \"tool\",\n  stop: \"stop\",\n  length: \"stop\",\n  content_filter: \"stop\",\n  function_call: \"tool\"\n};\nvar toolChoice2 = (choice) => {\n  switch (choice) {\n    case \"auto\":\n      return \"auto\";\n    case \"any\":\n      return \"required\";\n    default:\n      return {\n        type: \"function\",\n        function: { name: choice }\n      };\n  }\n};\n\n// src/adapters/gemini.ts\n\n\n\nvar requestParser3 = (_model2, messages, tools, tool_choice = \"auto\") => {\n  const contents = messages.map((m) => messageToContent(m));\n  const functionDeclarations = tools.map((t) => ({\n    name: t.name,\n    description: t.description,\n    parameters: t.parameters ? geminiZodToJsonSchema(t.parameters) : (\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      geminiZodToJsonSchema(zod__WEBPACK_IMPORTED_MODULE_4__.object({}))\n    )\n  }));\n  return __spreadValues({\n    contents\n  }, tools.length > 0 ? {\n    tools: [\n      {\n        functionDeclarations\n      }\n    ],\n    tool_config: toolChoice3(tool_choice)\n  } : {});\n};\nvar messageContentToString = (content) => {\n  if (typeof content === \"string\") {\n    return content;\n  }\n  return content.map((c) => c.text).join(\"\");\n};\nvar responseParser3 = (input) => {\n  var _a, _b, _c;\n  if (input.error) {\n    throw new Error(\n      ((_a = input.error) == null ? void 0 : _a.message) || `Gemini request failed: ${JSON.stringify(input.error)}`\n    );\n  }\n  const messages = [];\n  for (const candidate of (_b = input.candidates) != null ? _b : []) {\n    if (candidate.finishReason === \"MALFORMED_FUNCTION_CALL\") {\n      console.warn(\n        \"Gemini returned MALFORMED_FUNCTION_CALL, skipping this candidate. This typically indicates an issue with tool/function call formatting. Check your tool definitions and parameters.\"\n      );\n      continue;\n    }\n    if (!((_c = candidate.content) == null ? void 0 : _c.parts)) {\n      continue;\n    }\n    for (const content of candidate.content.parts) {\n      if (candidate.content.role === \"user\" && \"text\" in content) {\n        messages.push({\n          role: \"user\",\n          type: \"text\",\n          content: content.text\n        });\n      } else if (candidate.content.role === \"model\" && \"text\" in content) {\n        messages.push({\n          role: \"assistant\",\n          type: \"text\",\n          content: content.text\n        });\n      } else if (candidate.content.role === \"model\" && \"functionCall\" in content) {\n        messages.push({\n          role: \"assistant\",\n          type: \"tool_call\",\n          stop_reason: \"tool\",\n          tools: [\n            {\n              name: content.functionCall.name,\n              input: content.functionCall.args,\n              type: \"tool\",\n              id: content.functionCall.name\n            }\n          ]\n        });\n      } else if (candidate.content.role === \"user\" && \"functionResponse\" in content) {\n        messages.push({\n          role: \"tool_result\",\n          type: \"tool_result\",\n          stop_reason: \"tool\",\n          tool: {\n            name: content.functionResponse.name,\n            input: content.functionResponse.response,\n            type: \"tool\",\n            id: content.functionResponse.name\n          },\n          content: JSON.stringify(content.functionResponse.response)\n        });\n      } else {\n        throw new Error(\"Unknown content type\");\n      }\n    }\n  }\n  return messages;\n};\nvar messageToContent = (m) => {\n  switch (m.role) {\n    case \"system\":\n      return {\n        role: \"user\",\n        parts: [{ text: messageContentToString(m.content) }]\n      };\n    case \"user\":\n      switch (m.type) {\n        case \"tool_call\":\n          if (m.tools.length === 0) {\n            throw new Error(\"Tool call message must have at least one tool\");\n          }\n          return {\n            role: \"model\",\n            parts: [\n              {\n                functionCall: {\n                  name: m.tools[0].name,\n                  args: m.tools[0].input\n                }\n              }\n            ]\n          };\n        case \"text\":\n        default:\n          return {\n            role: \"user\",\n            parts: [{ text: messageContentToString(m.content) }]\n          };\n      }\n    case \"assistant\":\n      switch (m.type) {\n        case \"tool_call\":\n          if (m.tools.length === 0) {\n            throw new Error(\"Tool call message must have at least one tool\");\n          }\n          return {\n            role: \"model\",\n            parts: [\n              {\n                functionCall: {\n                  name: m.tools[0].name,\n                  args: m.tools[0].input\n                }\n              }\n            ]\n          };\n        case \"text\":\n        default:\n          return {\n            role: \"model\",\n            parts: [{ text: messageContentToString(m.content) }]\n          };\n      }\n    case \"tool_result\":\n      return {\n        role: \"user\",\n        parts: [\n          {\n            functionResponse: {\n              name: m.tool.name,\n              response: {\n                name: m.tool.name,\n                content: typeof m.content === \"string\" ? m.content : JSON.stringify(m.content)\n              }\n            }\n          }\n        ]\n      };\n    default:\n      throw new Error(`Unknown message role: ${m.role}`);\n  }\n};\nvar toolChoice3 = (choice) => {\n  switch (choice) {\n    case \"auto\":\n      return {\n        functionCallingConfig: {\n          mode: \"AUTO\"\n        }\n      };\n    case \"any\":\n      return {\n        functionCallingConfig: {\n          mode: \"ANY\"\n        }\n      };\n    default:\n      if (typeof choice === \"string\") {\n        return {\n          functionCallingConfig: {\n            mode: \"ANY\",\n            allowedFunctionNames: [choice]\n          }\n        };\n      }\n  }\n};\nvar recursiveGeminiZodToJsonSchema = (obj) => {\n  if (obj === null || obj === void 0 || typeof obj !== \"object\") {\n    return obj;\n  }\n  if (Array.isArray(obj)) {\n    return obj.map(recursiveGeminiZodToJsonSchema);\n  }\n  const newObj = __spreadValues({}, obj);\n  for (const key in newObj) {\n    if (newObj[key] != null) {\n      newObj[key] = recursiveGeminiZodToJsonSchema(\n        newObj[key]\n      );\n    }\n  }\n  if ((newObj == null ? void 0 : newObj[\"additionalProperties\"]) != null) {\n    delete newObj[\"additionalProperties\"];\n  }\n  return newObj;\n};\nvar geminiZodToJsonSchema = (zod) => {\n  let schema = (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_16__.zodToJsonSchema)(zod, { target: \"openApi3\" });\n  schema = recursiveGeminiZodToJsonSchema(schema);\n  return schema;\n};\n\n// src/adapters/grok.ts\nvar requestParser4 = (model, messages, tools, tool_choice = \"auto\") => {\n  const request = requestParser2(\n    model,\n    messages,\n    tools,\n    tool_choice\n  );\n  request.tools = (request.tools || []).map((tool) => __spreadProps(__spreadValues({}, tool), {\n    function: __spreadProps(__spreadValues({}, tool.function), {\n      strict: false\n    })\n  }));\n  return request;\n};\nvar responseParser4 = responseParser2;\n\n// src/adapters/index.ts\nvar adapters = {\n  \"openai-chat\": {\n    request: requestParser2,\n    response: responseParser2\n  },\n  anthropic: {\n    request: requestParser,\n    response: responseParser\n  },\n  gemini: {\n    request: requestParser3,\n    response: responseParser3\n  },\n  grok: {\n    request: requestParser4,\n    response: responseParser4\n  }\n};\n\n// src/model.ts\nvar createAgenticModelFromAiAdapter = (adapter) => {\n  const opts = adapters[adapter.format];\n  return new AgenticModel({\n    model: adapter,\n    requestParser: opts.request,\n    responseParser: opts.response\n  });\n};\nvar _model;\nvar AgenticModel = class {\n  constructor({\n    model,\n    requestParser: requestParser5,\n    responseParser: responseParser5\n  }) {\n    __privateAdd(this, _model);\n    __privateSet(this, _model, model);\n    this.requestParser = requestParser5;\n    this.responseParser = responseParser5;\n  }\n  async infer(stepID, input, tools, tool_choice) {\n    var _a, _b;\n    const body = this.requestParser(__privateGet(this, _model), input, tools, tool_choice);\n    let result;\n    const step = await getStepTools();\n    if (step) {\n      result = await step.ai.infer(stepID, {\n        model: __privateGet(this, _model),\n        body\n      });\n    } else {\n      const modelCopy = __spreadValues({}, __privateGet(this, _model));\n      (_b = (_a = __privateGet(this, _model)).onCall) == null ? void 0 : _b.call(_a, modelCopy, body);\n      const url = new URL(modelCopy.url || \"\");\n      const headers = {\n        \"Content-Type\": \"application/json\"\n      };\n      const formatHandlers = {\n        \"openai-chat\": () => {\n          headers[\"Authorization\"] = `Bearer ${modelCopy.authKey}`;\n        },\n        anthropic: () => {\n          headers[\"x-api-key\"] = modelCopy.authKey;\n          headers[\"anthropic-version\"] = \"2023-06-01\";\n        },\n        gemini: () => {\n        },\n        grok: () => {\n        }\n      };\n      formatHandlers[modelCopy.format]();\n      result = await (await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(body)\n      })).json();\n    }\n    return { output: this.responseParser(result), raw: result };\n  }\n};\n_model = new WeakMap();\n\n// src/agent.ts\nvar createAgent = (opts) => new Agent(opts);\nvar createRoutingAgent = (opts) => new RoutingAgent(opts);\nvar Agent = class _Agent {\n  constructor(opts) {\n    this.name = opts.name;\n    this.description = opts.description || \"\";\n    this.system = opts.system;\n    this.assistant = opts.assistant || \"\";\n    this.tools = /* @__PURE__ */ new Map();\n    this.tool_choice = opts.tool_choice;\n    this.lifecycles = opts.lifecycle;\n    this.model = opts.model;\n    this.history = opts.history;\n    this.setTools(opts.tools);\n    this.mcpServers = opts.mcpServers;\n    this._mcpClients = [];\n  }\n  setTools(tools) {\n    for (const tool of tools || []) {\n      if (isInngestFn(tool)) {\n        this.tools.set(tool[\"absoluteId\"], {\n          name: tool[\"absoluteId\"],\n          description: tool.description,\n          // TODO Should we error here if we can't find an input schema?\n          parameters: getInngestFnInput(tool),\n          handler: async (input, opts) => {\n            const step = await getStepTools();\n            if (!step) {\n              throw new Error(\"Inngest tool called outside of Inngest context\");\n            }\n            const stepId = `${opts.agent.name}/tools/${tool[\"absoluteId\"]}`;\n            return step.invoke(stepId, {\n              function: (0,inngest__WEBPACK_IMPORTED_MODULE_1__.referenceFunction)({\n                appId: tool[\"client\"][\"id\"],\n                functionId: tool.id()\n              }),\n              data: input\n            });\n          }\n        });\n      } else {\n        this.tools.set(tool.name, tool);\n      }\n    }\n  }\n  withModel(model) {\n    return new _Agent({\n      name: this.name,\n      description: this.description,\n      system: this.system,\n      assistant: this.assistant,\n      tools: Array.from(this.tools.values()),\n      lifecycle: this.lifecycles,\n      model\n    });\n  }\n  /**\n   * Run runs an agent with the given user input, treated as a user message.  If\n   * the input is an empty string, only the system prompt will execute.\n   */\n  async run(input, { model, network, state, maxIter = 0 } = {}) {\n    var _a, _b;\n    await this.initMCP();\n    const rawModel = model || this.model || (network == null ? void 0 : network.defaultModel);\n    if (!rawModel) {\n      throw new Error(\"No model provided to agent\");\n    }\n    const p = createAgenticModelFromAiAdapter(rawModel);\n    const s = state || (network == null ? void 0 : network.state) || new State();\n    const run = new NetworkRun(\n      network || createNetwork({ name: \"default\", agents: [] }),\n      s\n    );\n    await initializeThread({\n      state: s,\n      history: this.history,\n      input,\n      network: run\n    });\n    await loadThreadFromStorage({\n      state: s,\n      history: this.history,\n      input,\n      network: run\n    });\n    let history = s ? s.formatHistory() : [];\n    let prompt = await this.agentPrompt(input, run);\n    let result = new AgentResult(\n      this.name,\n      [],\n      [],\n      /* @__PURE__ */ new Date(),\n      prompt,\n      history,\n      \"\"\n    );\n    let hasMoreActions = true;\n    let iter = 0;\n    const initialResultCount = s.results.length;\n    do {\n      if ((_a = this.lifecycles) == null ? void 0 : _a.onStart) {\n        const modified = await this.lifecycles.onStart({\n          agent: this,\n          network: run,\n          input,\n          prompt,\n          history\n        });\n        if (modified.stop) {\n          return result;\n        }\n        prompt = modified.prompt;\n        history = modified.history;\n      }\n      const inference = await this.performInference(p, prompt, history, run);\n      hasMoreActions = Boolean(\n        this.tools.size > 0 && inference.output.length && inference.output[inference.output.length - 1].stop_reason !== \"stop\"\n      );\n      result = inference;\n      history = [...inference.output];\n      iter++;\n    } while (hasMoreActions && iter < maxIter);\n    if ((_b = this.lifecycles) == null ? void 0 : _b.onFinish) {\n      result = await this.lifecycles.onFinish({\n        agent: this,\n        network: run,\n        result\n      });\n    }\n    await saveThreadToStorage({\n      state: s,\n      history: this.history,\n      input,\n      initialResultCount,\n      network: run\n    });\n    return result;\n  }\n  async performInference(p, prompt, history, network) {\n    var _a;\n    const { output, raw } = await p.infer(\n      this.name,\n      prompt.concat(history),\n      Array.from(this.tools.values()),\n      this.tool_choice || \"auto\"\n    );\n    let result = new AgentResult(\n      this.name,\n      output,\n      [],\n      /* @__PURE__ */ new Date(),\n      prompt,\n      history,\n      typeof raw === \"string\" ? raw : JSON.stringify(raw)\n    );\n    if ((_a = this.lifecycles) == null ? void 0 : _a.onResponse) {\n      result = await this.lifecycles.onResponse({\n        agent: this,\n        network,\n        result\n      });\n    }\n    const toolCallOutput = await this.invokeTools(result.output, network);\n    if (toolCallOutput.length > 0) {\n      result.toolCalls = result.toolCalls.concat(toolCallOutput);\n    }\n    return result;\n  }\n  /**\n   * invokeTools takes output messages from an inference call then invokes any tools\n   * in the message responses.\n   */\n  async invokeTools(msgs, network) {\n    const output = [];\n    for (const msg of msgs) {\n      if (msg.type !== \"tool_call\") {\n        continue;\n      }\n      if (!Array.isArray(msg.tools)) {\n        continue;\n      }\n      for (const tool of msg.tools) {\n        const found = this.tools.get(tool.name);\n        if (!found) {\n          throw new Error(\n            `Inference requested a non-existent tool: ${tool.name}`\n          );\n        }\n        const result = await Promise.resolve(\n          found.handler(tool.input, {\n            agent: this,\n            network,\n            step: await getStepTools()\n          })\n        ).then((r) => {\n          return {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            data: typeof r === \"undefined\" ? `${tool.name} successfully executed` : r\n          };\n        }).catch((err) => {\n          return { error: (0,inngest_helpers_errors__WEBPACK_IMPORTED_MODULE_14__.serializeError)(err) };\n        });\n        output.push({\n          role: \"tool_result\",\n          type: \"tool_result\",\n          tool: {\n            type: \"tool\",\n            id: tool.id,\n            name: tool.name,\n            input: tool.input.arguments\n          },\n          content: result,\n          stop_reason: \"tool\"\n        });\n      }\n    }\n    return output;\n  }\n  async agentPrompt(input, network) {\n    const messages = [\n      {\n        type: \"text\",\n        role: \"system\",\n        content: typeof this.system === \"string\" ? this.system : await this.system({ network })\n      }\n    ];\n    if (input.length > 0) {\n      messages.push({ type: \"text\", role: \"user\", content: input });\n    }\n    if (this.assistant.length > 0) {\n      messages.push({\n        type: \"text\",\n        role: \"assistant\",\n        content: this.assistant\n      });\n    }\n    return messages;\n  }\n  // initMCP fetches all tools from the agent's MCP servers, adding them to the tool list.\n  // This is all that's necessary in order to enable MCP tool use within agents\n  async initMCP() {\n    if (!this.mcpServers || this._mcpClients.length >= this.mcpServers.length) {\n      return;\n    }\n    const promises = [];\n    for (const server of this.mcpServers) {\n      promises.push(this.listMCPTools(server));\n    }\n    await Promise.all(promises);\n  }\n  /**\n   * listMCPTools lists all available tools for a given MCP server\n   */\n  async listMCPTools(server) {\n    const client = await this.mcpClient(server);\n    this._mcpClients.push(client);\n    try {\n      const results = await client.request(\n        { method: \"tools/list\" },\n        _modelcontextprotocol_sdk_types_js__WEBPACK_IMPORTED_MODULE_13__.ListToolsResultSchema\n      );\n      results.tools.forEach((t) => {\n        const name = `${server.name}-${t.name}`;\n        let zschema;\n        try {\n          zschema = _dmitryrechkin_json_schema_to_zod__WEBPACK_IMPORTED_MODULE_6__.JSONSchemaToZod.convert(t.inputSchema);\n        } catch (e) {\n          zschema = void 0;\n        }\n        this.tools.set(name, {\n          name,\n          description: t.description,\n          parameters: zschema,\n          mcp: {\n            server,\n            tool: t\n          },\n          handler: async (input) => {\n            var _a;\n            const fn = () => client.callTool({\n              name: t.name,\n              arguments: input\n            });\n            const step = await getStepTools();\n            const result = await ((_a = step == null ? void 0 : step.run(name, fn)) != null ? _a : fn());\n            return result.content;\n          }\n        });\n      });\n    } catch (e) {\n      console.warn(\"error listing mcp tools\", e);\n    }\n  }\n  /**\n   * mcpClient creates a new MCP client for the given server.\n   */\n  async mcpClient(server) {\n    const transport = (() => {\n      switch (server.transport.type) {\n        case \"streamable-http\":\n          return new _modelcontextprotocol_sdk_client_streamableHttp_js__WEBPACK_IMPORTED_MODULE_8__.StreamableHTTPClientTransport(\n            new URL(server.transport.url),\n            {\n              requestInit: server.transport.requestInit,\n              authProvider: server.transport.authProvider,\n              reconnectionOptions: server.transport.reconnectionOptions,\n              sessionId: server.transport.sessionId\n            }\n          );\n        case \"sse\":\n          if (global.EventSource === void 0) {\n            global.EventSource = eventsource__WEBPACK_IMPORTED_MODULE_17__.EventSource;\n          }\n          return new _modelcontextprotocol_sdk_client_sse_js__WEBPACK_IMPORTED_MODULE_9__.SSEClientTransport(new URL(server.transport.url), {\n            eventSourceInit: server.transport.eventSourceInit,\n            requestInit: server.transport.requestInit\n          });\n        case \"ws\":\n          return new _modelcontextprotocol_sdk_client_websocket_js__WEBPACK_IMPORTED_MODULE_10__.WebSocketClientTransport(new URL(server.transport.url));\n        case \"stdio\": {\n          const { command, args, env } = server.transport;\n          const safeProcessEnv = Object.fromEntries(\n            Object.entries(process.env).filter(([, v]) => v !== void 0)\n          );\n          const finalEnv = __spreadValues(__spreadValues({}, safeProcessEnv), env);\n          return new _modelcontextprotocol_sdk_client_stdio_js__WEBPACK_IMPORTED_MODULE_11__.StdioClientTransport({\n            command,\n            args,\n            env: finalEnv\n          });\n        }\n      }\n    })();\n    const client = new _modelcontextprotocol_sdk_client_index_js__WEBPACK_IMPORTED_MODULE_7__.Client(\n      {\n        name: this.name,\n        // XXX: This version should change.\n        version: \"1.0.0\"\n      },\n      {\n        capabilities: {}\n      }\n    );\n    try {\n      await client.connect(transport);\n    } catch (e) {\n      console.warn(\"mcp server disconnected\", server, e);\n    }\n    return client;\n  }\n};\nvar RoutingAgent = class _RoutingAgent extends Agent {\n  constructor(opts) {\n    super(opts);\n    this.type = \"routing\";\n    this.lifecycles = opts.lifecycle;\n  }\n  withModel(model) {\n    return new _RoutingAgent({\n      name: this.name,\n      description: this.description,\n      system: this.system,\n      assistant: this.assistant,\n      tools: Array.from(this.tools.values()),\n      lifecycle: this.lifecycles,\n      model\n    });\n  }\n};\n\n// src/network.ts\nvar createNetwork = (opts) => new Network(opts);\nvar Network = class {\n  constructor({\n    name,\n    description,\n    agents,\n    defaultModel,\n    maxIter,\n    defaultState,\n    router,\n    defaultRouter,\n    history\n  }) {\n    this._counter = 0;\n    this.name = name;\n    this.description = description;\n    this.agents = /* @__PURE__ */ new Map();\n    this._agents = /* @__PURE__ */ new Map();\n    this.defaultModel = defaultModel;\n    this.router = defaultRouter != null ? defaultRouter : router;\n    this.maxIter = maxIter || 0;\n    this._stack = [];\n    this.history = history;\n    if (defaultState) {\n      this.state = defaultState;\n    } else {\n      this.state = createState();\n    }\n    for (const agent of agents) {\n      this.agents.set(agent.name, agent);\n      this._agents.set(agent.name, agent);\n    }\n  }\n  async availableAgents(networkRun = new NetworkRun(this, new State())) {\n    var _a;\n    const available = [];\n    const all = Array.from(this.agents.values());\n    for (const a of all) {\n      const enabled = (_a = a == null ? void 0 : a.lifecycles) == null ? void 0 : _a.enabled;\n      if (!enabled || await enabled({ agent: a, network: networkRun })) {\n        available.push(a);\n      }\n    }\n    return available;\n  }\n  /**\n   * addAgent adds a new agent to the network.\n   */\n  addAgent(agent) {\n    this.agents.set(agent.name, agent);\n  }\n  /**\n   * run handles a given request using the network of agents.  It is not\n   * concurrency-safe; you can only call run on a network once, as networks are\n   * stateful.\n   *\n   */\n  run(...[input, overrides]) {\n    var _a;\n    let state;\n    if (overrides == null ? void 0 : overrides.state) {\n      if (overrides.state instanceof State) {\n        state = overrides.state;\n      } else {\n        const stateObj = overrides.state;\n        state = new State({\n          data: stateObj.data || {},\n          messages: stateObj._messages || [],\n          results: stateObj._results || []\n        });\n      }\n    } else {\n      state = ((_a = this.state) == null ? void 0 : _a.clone()) || new State();\n    }\n    return new NetworkRun(this, state)[\"execute\"](input, overrides);\n  }\n};\nvar defaultRoutingAgent;\nvar getDefaultRoutingAgent = () => {\n  defaultRoutingAgent != null ? defaultRoutingAgent : defaultRoutingAgent = createRoutingAgent({\n    name: \"Default routing agent\",\n    description: \"Selects which agents to work on based off of the current prompt and input.\",\n    lifecycle: {\n      onRoute: ({ result }) => {\n        const tool = result.toolCalls[0];\n        if (!tool) {\n          return;\n        }\n        if (typeof tool.content === \"object\" && tool.content !== null && \"data\" in tool.content && typeof tool.content.data === \"string\") {\n          return [tool.content.data];\n        }\n        return;\n      }\n    },\n    tools: [\n      // This tool does nothing but ensure that the model responds with the\n      // agent name as valid JSON.\n      createTool({\n        name: \"select_agent\",\n        description: \"select an agent to handle the input, based off of the current conversation\",\n        parameters: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n          name: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe(\"The name of the agent that should handle the request\")\n        }).strict(),\n        handler: ({ name }, { network }) => {\n          if (typeof name !== \"string\") {\n            throw new Error(\"The routing agent requested an invalid agent\");\n          }\n          const agent = network.agents.get(name);\n          if (agent === void 0) {\n            throw new Error(\n              `The routing agent requested an agent that doesn't exist: ${name}`\n            );\n          }\n          return agent.name;\n        }\n      })\n    ],\n    tool_choice: \"select_agent\",\n    system: async ({ network }) => {\n      if (!network) {\n        throw new Error(\n          \"The routing agent can only be used within a network of agents\"\n        );\n      }\n      const agents = await (network == null ? void 0 : network.availableAgents());\n      return `You are the orchestrator between a group of agents.  Each agent is suited for a set of specific tasks, and has a name, instructions, and a set of tools.\n\nThe following agents are available:\n<agents>\n  ${agents.map((a) => {\n        return `\n    <agent>\n      <name>${a.name}</name>\n      <description>${a.description}</description>\n      <tools>${JSON.stringify(Array.from(a.tools.values()))}</tools>\n    </agent>`;\n      }).join(\"\\n\")}\n</agents>\n\nFollow the set of instructions:\n\n<instructions>\n  Think about the current history and status.  Determine which agent to use to handle the user's request, based off of the current agents and their tools.\n\n  Your aim is to thoroughly complete the request, thinking step by step, choosing the right agent based off of the context.\n</instructions>\n    `;\n    }\n  });\n  return defaultRoutingAgent;\n};\nvar NetworkRun = class extends Network {\n  constructor(network, state) {\n    super({\n      name: network.name,\n      description: network.description,\n      agents: Array.from(network.agents.values()),\n      defaultModel: network.defaultModel,\n      defaultState: network.state,\n      router: network.router,\n      maxIter: network.maxIter,\n      history: network.history\n    });\n    this.state = state;\n  }\n  run() {\n    throw new Error(\"NetworkRun does not support run\");\n  }\n  async availableAgents() {\n    return super.availableAgents(this);\n  }\n  /**\n   * Schedule is used to push an agent's run function onto the stack.\n   */\n  schedule(agentName) {\n    this[\"_stack\"].push(agentName);\n  }\n  async execute(...[input, overrides]) {\n    await initializeThread({\n      state: this.state,\n      history: this.history,\n      input,\n      network: this\n    });\n    await loadThreadFromStorage({\n      state: this.state,\n      history: this.history,\n      input,\n      network: this\n    });\n    const available = await this.availableAgents();\n    if (available.length === 0) {\n      throw new Error(\"no agents enabled in network\");\n    }\n    const initialResultCount = this.state.results.length;\n    const next = await this.getNextAgents(\n      input,\n      (overrides == null ? void 0 : overrides.router) || (overrides == null ? void 0 : overrides.defaultRouter) || this.router\n    );\n    if (!(next == null ? void 0 : next.length)) {\n      return this;\n    }\n    for (const agent of next) {\n      this.schedule(agent.name);\n    }\n    while (this._stack.length > 0 && (this.maxIter === 0 || this._counter < this.maxIter)) {\n      const agentName = this._stack.shift();\n      const agent = agentName && this._agents.get(agentName);\n      if (!agent) {\n        return this;\n      }\n      const call = await agent.run(input, { network: this, maxIter: 0 });\n      this._counter += 1;\n      this.state.appendResult(call);\n      const next2 = await this.getNextAgents(\n        input,\n        (overrides == null ? void 0 : overrides.router) || (overrides == null ? void 0 : overrides.defaultRouter) || this.router\n      );\n      for (const a of next2 || []) {\n        this.schedule(a.name);\n      }\n    }\n    await saveThreadToStorage({\n      state: this.state,\n      history: this.history,\n      input,\n      initialResultCount,\n      network: this\n    });\n    return this;\n  }\n  async getNextAgents(input, router) {\n    if (!router && !this.defaultModel) {\n      throw new Error(\n        \"No router or model defined in network.  You must pass a router or a default model to use the built-in agentic router.\"\n      );\n    }\n    if (!router) {\n      router = getDefaultRoutingAgent();\n    }\n    if (router instanceof RoutingAgent) {\n      return await this.getNextAgentsViaRoutingAgent(router, input);\n    }\n    const stack = this._stack.map((name) => {\n      const agent2 = this._agents.get(name);\n      if (!agent2) {\n        throw new Error(`unknown agent in the network stack: ${name}`);\n      }\n      return agent2;\n    });\n    const agent = await router({\n      input,\n      network: this,\n      stack,\n      lastResult: this.state.results.pop(),\n      callCount: this._counter\n    });\n    if (!agent) {\n      return;\n    }\n    if (agent instanceof RoutingAgent) {\n      return await this.getNextAgentsViaRoutingAgent(agent, input);\n    }\n    for (const a of Array.isArray(agent) ? agent : [agent]) {\n      if (!this._agents.has(a.name)) {\n        this._agents.set(a.name, a);\n      }\n    }\n    return Array.isArray(agent) ? agent : [agent];\n  }\n  async getNextAgentsViaRoutingAgent(routingAgent, input) {\n    const result = await routingAgent.run(input, {\n      network: this,\n      model: routingAgent.model || this.defaultModel\n    });\n    const agentNames = routingAgent.lifecycles.onRoute({\n      result,\n      agent: routingAgent,\n      network: this\n    });\n    return (agentNames || []).map((name) => this.agents.get(name)).filter(Boolean);\n  }\n};\n\n// src/history.ts\n\nasync function initializeThread(config) {\n  const { state, history, input, network } = config;\n  if (!history) return;\n  const step = await getStepTools();\n  if (!state.threadId && history.createThread) {\n    const { threadId } = await history.createThread({\n      state,\n      network,\n      input,\n      step\n    });\n    state.threadId = threadId;\n  } else if (!state.threadId && history.get) {\n    state.threadId = crypto.randomUUID();\n    if (history.createThread) {\n      await history.createThread({\n        state,\n        network,\n        input,\n        step\n      });\n    }\n  }\n}\nasync function loadThreadFromStorage(config) {\n  const { state, history, input, network } = config;\n  if (!(history == null ? void 0 : history.get) || !state.threadId || state.results.length > 0 || state.messages.length > 0) {\n    return;\n  }\n  const step = await getStepTools();\n  const historyResults = await history.get({\n    state,\n    network,\n    input,\n    step,\n    threadId: state.threadId\n  });\n  state.setResults(historyResults);\n}\nasync function saveThreadToStorage(config) {\n  const { state, history, input, initialResultCount, network } = config;\n  if (!(history == null ? void 0 : history.appendResults)) return;\n  const step = await getStepTools();\n  const newResults = state.getResultsFrom(initialResultCount);\n  const userMessage = input.trim() ? {\n    content: input,\n    role: \"user\",\n    timestamp: /* @__PURE__ */ new Date()\n  } : void 0;\n  await history.appendResults({\n    state,\n    network,\n    step,\n    newResults,\n    input,\n    threadId: state.threadId,\n    userMessage\n  });\n}\n\n\n//# sourceMappingURL=chunk-J76M4KLW.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L2Rpc3QvY2h1bmstSjc2TTRLTFcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MseUNBQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVcsb0JBQW9CO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvQ0FBb0MsSUFBSTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUI7QUFDb0Q7QUFDbEI7QUFDckI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaUVBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtFQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdDQUFPO0FBQ25DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FCO0FBQ1M7O0FBRTlCO0FBRzJDO0FBQ3RCO0FBQzJEO0FBQ21CO0FBQ3RCO0FBQ1k7QUFDUjtBQUMxQjtBQUNvQjtBQUNqQztBQUNFO0FBQ0E7QUFDWTtBQUNqQzs7QUFFdkI7QUFDcUI7O0FBRXJCO0FBQ3FCOztBQUVyQjtBQUNxQjtBQUNnQztBQUM3Qjs7QUFFeEI7QUFDaUI7QUFDSjtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsb0JBQW9CO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsb0VBQWUsaUJBQWlCLG9FQUFlO0FBQ3BGLFVBQVUsdUNBQVEsR0FBRztBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsNEJBQTRCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUI7QUFDb0Q7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0VBQWdCLGlCQUFpQixrQkFBa0I7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsNEJBQTRCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5QkFBeUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsZ0RBQWdELG1CQUFtQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNxQjtBQUNTO0FBQzJDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVDQUFTLEdBQUc7QUFDeEM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUk7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLDRCQUE0QjtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlDQUF5QztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5Q0FBeUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5Q0FBeUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE9BQU87QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9FQUFnQixRQUFRLG9CQUFvQjtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRiw2Q0FBNkM7QUFDN0M7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTix5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msa0JBQWtCO0FBQ2pFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0JBQWdCLFNBQVMsbUJBQW1CO0FBQzFFO0FBQ0Esd0JBQXdCLDBEQUFpQjtBQUN6QztBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFDQUFxQyxJQUFJO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2QkFBNkI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxVQUFVO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxXQUFXO0FBQzNEO0FBQ0EsU0FBUztBQUNULG1CQUFtQixPQUFPLHVFQUFjO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLFNBQVM7QUFDOUY7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDRDQUE0QztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDLFFBQVEsc0ZBQXFCO0FBQzdCO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWSxHQUFHLE9BQU87QUFDOUM7QUFDQTtBQUNBLG9CQUFvQiw4RUFBZTtBQUNuQyxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2R0FBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscURBQVc7QUFDNUM7QUFDQSxxQkFBcUIsdUZBQWtCO0FBQ3ZDO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxxQkFBcUIsb0dBQXdCO0FBQzdDO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0QscUJBQXFCLDRGQUFvQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsNkVBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0JBQStCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUNBQVM7QUFDN0IsZ0JBQWdCLHVDQUFTO0FBQ3pCLFNBQVM7QUFDVCxvQkFBb0IsTUFBTSxJQUFJLFNBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLEtBQUs7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixxQkFBcUIsY0FBYztBQUNuQyxlQUFlLDZDQUE2QztBQUM1RDtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsMkJBQTJCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsS0FBSztBQUNwRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNpQjtBQUNqQjtBQUNBLFVBQVUsaUNBQWlDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUNBQWlDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFVBQVUscURBQXFEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBMEJFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvZGlzdC9jaHVuay1KNzZNNEtMVy5qcz85Njg0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fdHlwZUVycm9yID0gKG1zZykgPT4ge1xuICB0aHJvdyBUeXBlRXJyb3IobXNnKTtcbn07XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiBtZW1iZXIuaGFzKG9iaikgfHwgX190eXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSksIHZhbHVlKTtcblxuLy8gc3JjL3R5cGVzLnRzXG5pbXBvcnQgeHhoIGZyb20gXCJ4eGhhc2hqc1wiO1xudmFyIF9jaGVja3N1bTtcbnZhciBBZ2VudFJlc3VsdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoYWdlbnROYW1lLCBvdXRwdXQsIHRvb2xDYWxscywgY3JlYXRlZEF0LCBwcm9tcHQsIGhpc3RvcnksIHJhdykge1xuICAgIHRoaXMuYWdlbnROYW1lID0gYWdlbnROYW1lO1xuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuICAgIHRoaXMudG9vbENhbGxzID0gdG9vbENhbGxzO1xuICAgIHRoaXMuY3JlYXRlZEF0ID0gY3JlYXRlZEF0O1xuICAgIHRoaXMucHJvbXB0ID0gcHJvbXB0O1xuICAgIHRoaXMuaGlzdG9yeSA9IGhpc3Rvcnk7XG4gICAgdGhpcy5yYXcgPSByYXc7XG4gICAgLy8gY2hlY2tzdW0gbWVtb2l6ZXMgYSBjaGVja3N1bSBzbyB0aGF0IGl0IGRvZSBzbm90IGhhdmUgdG8gYmUgY2FsY3VsYXRlZCBtYW55IHRpbWVzLlxuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2hlY2tzdW0pO1xuICB9XG4gIC8qKlxuICAgKiBleHBvcnQgcmV0dXJucyBhbGwgZmllbGRzIG5lY2Vzc2FyeSB0byBzdG9yZSB0aGUgQWdlbnRSZXN1bHQgZm9yIGZ1dHVyZSB1c2UuXG4gICAqL1xuICBleHBvcnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFnZW50TmFtZTogdGhpcy5hZ2VudE5hbWUsXG4gICAgICBvdXRwdXQ6IHRoaXMub3V0cHV0LFxuICAgICAgdG9vbENhbGxzOiB0aGlzLnRvb2xDYWxscyxcbiAgICAgIGNyZWF0ZWRBdDogdGhpcy5jcmVhdGVkQXQsXG4gICAgICBjaGVja3N1bTogdGhpcy5jaGVja3N1bVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIGNoZWNrc3VtIGlzIGEgdW5pcXVlIElEIGZvciB0aGlzIHJlc3VsdC5cbiAgICpcbiAgICogSXQgaXMgZ2VuZXJhdGVkIGJ5IHRha2luZyBhIGNoZWNrc3VtIG9mIHRoZSBtZXNzYWdlIG91dHB1dCBhbmQgdGhlIGNyZWF0ZWQgYXQgZGF0ZS5cbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIGRlZHVwZSBpdGVtcyB3aGVuIHNhdmluZyBjb252ZXJzYXRpb24gaGlzdG9yeS5cbiAgICovXG4gIGdldCBjaGVja3N1bSgpIHtcbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jaGVja3N1bSkgPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgaW5wdXQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLm91dHB1dC5jb25jYXQodGhpcy50b29sQ2FsbHMpKSArIHRoaXMuY3JlYXRlZEF0LnRvU3RyaW5nKCk7XG4gICAgICBfX3ByaXZhdGVTZXQodGhpcywgX2NoZWNrc3VtLCB4eGguaDY0KGlucHV0LCAwKS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2hlY2tzdW0pO1xuICB9XG59O1xuX2NoZWNrc3VtID0gbmV3IFdlYWtNYXAoKTtcblxuLy8gc3JjL3N0YXRlLnRzXG52YXIgY3JlYXRlU3RhdGUgPSAoaW5pdGlhbFN0YXRlLCBvcHRzKSA9PiB7XG4gIHJldHVybiBuZXcgU3RhdGUoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgb3B0cyksIHsgZGF0YTogaW5pdGlhbFN0YXRlIH0pKTtcbn07XG52YXIgX19rdjtcbnZhciBfU3RhdGUgPSBjbGFzcyBfU3RhdGUge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIG1lc3NhZ2VzLCB0aHJlYWRJZCwgcmVzdWx0cyB9ID0ge30pIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfX2t2KTtcbiAgICB0aGlzLl9yZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcbiAgICB0aGlzLl9tZXNzYWdlcyA9IG1lc3NhZ2VzIHx8IFtdO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhID8gX19zcHJlYWRWYWx1ZXMoe30sIGRhdGEpIDoge307XG4gICAgdGhpcy50aHJlYWRJZCA9IHRocmVhZElkO1xuICAgIHRoaXMuZGF0YSA9IG5ldyBQcm94eSh0aGlzLl9kYXRhLCB7XG4gICAgICBzZXQ6ICh0YXJnZXQsIHByb3AsIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gXCJzdHJpbmdcIiAmJiBwcm9wIGluIHRhcmdldCkge1xuICAgICAgICAgIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX19rdiwgbmV3IE1hcChPYmplY3QuZW50cmllcyh0aGlzLl9kYXRhKSkpO1xuICAgIHRoaXMua3YgPSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgc2V0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBfX3ByaXZhdGVHZXQodGhpcywgX19rdikuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGdldDogKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9fa3YpLmdldChrZXkpO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZTogKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9fa3YpLmRlbGV0ZShrZXkpO1xuICAgICAgfSxcbiAgICAgIGhhczogKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9fa3YpLmhhcyhrZXkpO1xuICAgICAgfSxcbiAgICAgIGFsbDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKF9fcHJpdmF0ZUdldCh0aGlzLCBfX2t2KSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmVzdWx0cyByZXR1cm5zIGEgbmV3IGFycmF5IGNvbnRhaW5pbmcgYWxsIHBhc3QgaW5mZXJlbmNlIHJlc3VsdHMgaW4gdGhlXG4gICAqIG5ldHdvcmsuIFRoaXMgYXJyYXkgaXMgc2FmZSB0byBtb2RpZnkuXG4gICAqL1xuICBnZXQgcmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgcmVzdWx0cyB3aXRoIHRoZSBwcm92aWRlZCBhcnJheVxuICAgKiB1c2VkIHdoZW4gbG9hZGluZyBpbml0aWFsIHJlc3VsdHMgZnJvbSBoaXN0b3J5LmdldCgpXG4gICAqL1xuICBzZXRSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICB0aGlzLl9yZXN1bHRzID0gcmVzdWx0cztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHNsaWNlIG9mIHJlc3VsdHMgZnJvbSB0aGUgZ2l2ZW4gc3RhcnQgaW5kZXhcbiAgICogdXNlZCB3aGVuIHNhdmluZyByZXN1bHRzIHRvIGEgZGF0YWJhc2UgdmlhIGhpc3RvcnkuYXBwZW5kUmVzdWx0cygpXG4gICAqL1xuICBnZXRSZXN1bHRzRnJvbShzdGFydEluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2Uoc3RhcnRJbmRleCk7XG4gIH1cbiAgLyoqXG4gICAqIE1lc3NhZ2VzIHJldHVybnMgYSBuZXcgYXJyYXkgY29udGFpbmluZyBhbGwgaW5pdGlhbCBtZXNzYWdlcyB0aGF0IHdlcmVcbiAgICogcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiBUaGlzIGFycmF5IGlzIHNhZmUgdG8gbW9kaWZ5LlxuICAgKi9cbiAgZ2V0IG1lc3NhZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcy5zbGljZSgpO1xuICB9XG4gIC8qKlxuICAgKiBmb3JtYXRIaXN0b3J5IHJldHVybnMgdGhlIG1lbW9yeSB1c2VkIGZvciBhZ2VudGljIGNhbGxzIGJhc2VkIG9mZiBvZiBwcmlvclxuICAgKiBhZ2VudGljIGNhbGxzLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gZm9ybWF0IHRoZSBjdXJyZW50IFN0YXRlIGFzIGEgY29udmVyc2F0aW9uIGxvZyB3aGVuXG4gICAqIGNhbGxpbmcgYW4gaW5kaXZpZHVhbCBhZ2VudC5cbiAgICpcbiAgICovXG4gIGZvcm1hdEhpc3RvcnkoZm9ybWF0dGVyKSB7XG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcbiAgICAgIGZvcm1hdHRlciA9IGRlZmF1bHRSZXN1bHRGb3JtYXR0ZXI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcy5jb25jYXQoXG4gICAgICB0aGlzLl9yZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBmb3JtYXR0ZXIocmVzdWx0KSkuZmxhdCgpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogYXBwZW5kUmVzdWx0IGFwcGVuZHMgYSBnaXZlbiByZXN1bHQgdG8gdGhlIGN1cnJlbnQgc3RhdGUuICBUaGlzXG4gICAqIGlzIGNhbGxlZCBieSB0aGUgbmV0d29yayBhZnRlciBlYWNoIGl0ZXJhdGlvbi5cbiAgICovXG4gIGFwcGVuZFJlc3VsdChjYWxsKSB7XG4gICAgdGhpcy5fcmVzdWx0cy5wdXNoKGNhbGwpO1xuICB9XG4gIC8qKlxuICAgKiBjbG9uZSBhbGxvd3MgeW91IHRvIHNhZmVseSBjbG9uZSB0aGUgc3RhdGUuXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG5ldyBfU3RhdGUoe1xuICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgdGhyZWFkSWQ6IHRoaXMudGhyZWFkSWQsXG4gICAgICBtZXNzYWdlczogdGhpcy5fbWVzc2FnZXMuc2xpY2UoKSxcbiAgICAgIHJlc3VsdHM6IHRoaXMuX3Jlc3VsdHMuc2xpY2UoKVxuICAgIH0pO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcbl9fa3YgPSBuZXcgV2Vha01hcCgpO1xudmFyIFN0YXRlID0gX1N0YXRlO1xudmFyIGRlZmF1bHRSZXN1bHRGb3JtYXR0ZXIgPSAocikgPT4ge1xuICByZXR1cm4gW10uY29uY2F0KHIub3V0cHV0KS5jb25jYXQoci50b29sQ2FsbHMpO1xufTtcblxuLy8gc3JjL3V0aWwudHNcbmltcG9ydCBcImlubmdlc3RcIjtcbmltcG9ydCB7IElubmdlc3RGdW5jdGlvbiB9IGZyb20gXCJpbm5nZXN0L2NvbXBvbmVudHMvSW5uZ2VzdEZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBnZXRBc3luY0N0eCB9IGZyb20gXCJpbm5nZXN0L2V4cGVyaW1lbnRhbFwiO1xuaW1wb3J0IHsgWm9kVHlwZSB9IGZyb20gXCJ6b2RcIjtcbnZhciBzdHJpbmdpZnlFcnJvciA9IChlKSA9PiB7XG4gIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZS5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBTdHJpbmcoZSk7XG59O1xudmFyIGdldFN0ZXBUb29scyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgYXN5bmNDdHggPSBhd2FpdCBnZXRBc3luY0N0eCgpO1xuICByZXR1cm4gYXN5bmNDdHggPT0gbnVsbCA/IHZvaWQgMCA6IGFzeW5jQ3R4LmN0eC5zdGVwO1xufTtcbnZhciBpc0lubmdlc3RGbiA9IChmbikgPT4ge1xuICBpZiAoZm4gaW5zdGFuY2VvZiBJbm5nZXN0RnVuY3Rpb24pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGZuID09PSBcIm9iamVjdFwiICYmIGZuICE9PSBudWxsICYmIFwiY3JlYXRlRXhlY3V0aW9uXCIgaW4gZm4gJiYgdHlwZW9mIGZuLmNyZWF0ZUV4ZWN1dGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBnZXRJbm5nZXN0Rm5JbnB1dCA9IChmbikgPT4ge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgcnVudGltZVNjaGVtYXMgPSAoX2EgPSBmbltcImNsaWVudFwiXVtcInNjaGVtYXNcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYVtcInJ1bnRpbWVTY2hlbWFzXCJdO1xuICBpZiAoIXJ1bnRpbWVTY2hlbWFzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHNjaGVtYXNUb0F0dGVtcHQgPSBuZXcgU2V0KFxuICAgIChfYyA9IChfYiA9IGZuW1wib3B0c1wiXS50cmlnZ2VycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnJlZHVjZSgoYWNjLCB0cmlnZ2VyKSA9PiB7XG4gICAgICBpZiAodHJpZ2dlci5ldmVudCkge1xuICAgICAgICByZXR1cm4gWy4uLmFjYywgdHJpZ2dlci5ldmVudF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKSkgIT0gbnVsbCA/IF9jIDogW11cbiAgKTtcbiAgaWYgKCFzY2hlbWFzVG9BdHRlbXB0LnNpemUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNjaGVtYTtcbiAgZm9yIChjb25zdCBldmVudFNjaGVtYSBvZiBzY2hlbWFzVG9BdHRlbXB0KSB7XG4gICAgY29uc3QgcnVudGltZVNjaGVtYSA9IHJ1bnRpbWVTY2hlbWFzW2V2ZW50U2NoZW1hXTtcbiAgICBpZiAodHlwZW9mIHJ1bnRpbWVTY2hlbWEgPT09IFwib2JqZWN0XCIgJiYgcnVudGltZVNjaGVtYSAhPT0gbnVsbCAmJiBcImRhdGFcIiBpbiBydW50aW1lU2NoZW1hICYmIGhlbHBlcnMuaXNab2RPYmplY3QocnVudGltZVNjaGVtYS5kYXRhKSkge1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICBzY2hlbWEgPSBzY2hlbWEub3IocnVudGltZVNjaGVtYS5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjaGVtYSA9IHJ1bnRpbWVTY2hlbWEuZGF0YTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcbnZhciBoZWxwZXJzID0ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpc1pvZE9iamVjdDogKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgWm9kVHlwZSAmJiB2YWx1ZS5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE9iamVjdFwiO1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpc09iamVjdDogKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIH1cbn07XG5cbi8vIHNyYy9uZXR3b3JrLnRzXG5pbXBvcnQgXCJAaW5uZ2VzdC9haVwiO1xuaW1wb3J0IHsgeiBhcyB6MyB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL2FnZW50LnRzXG5pbXBvcnQge1xuICBKU09OU2NoZW1hVG9ab2Rcbn0gZnJvbSBcIkBkbWl0cnlyZWNoa2luL2pzb24tc2NoZW1hLXRvLXpvZFwiO1xuaW1wb3J0IFwiQGlubmdlc3QvYWlcIjtcbmltcG9ydCB7IENsaWVudCBhcyBNQ1BDbGllbnQgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9jbGllbnQvaW5kZXguanNcIjtcbmltcG9ydCB7IFN0cmVhbWFibGVIVFRQQ2xpZW50VHJhbnNwb3J0IH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvY2xpZW50L3N0cmVhbWFibGVIdHRwLmpzXCI7XG5pbXBvcnQgeyBTU0VDbGllbnRUcmFuc3BvcnQgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9jbGllbnQvc3NlLmpzXCI7XG5pbXBvcnQgeyBXZWJTb2NrZXRDbGllbnRUcmFuc3BvcnQgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9jbGllbnQvd2Vic29ja2V0LmpzXCI7XG5pbXBvcnQgeyBTdGRpb0NsaWVudFRyYW5zcG9ydCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2NsaWVudC9zdGRpby5qc1wiO1xuaW1wb3J0IFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zaGFyZWQvdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyBMaXN0VG9vbHNSZXN1bHRTY2hlbWEgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay90eXBlcy5qc1wiO1xuaW1wb3J0IHsgRXZlbnRTb3VyY2UgfSBmcm9tIFwiZXZlbnRzb3VyY2VcIjtcbmltcG9ydCB7IHJlZmVyZW5jZUZ1bmN0aW9uIH0gZnJvbSBcImlubmdlc3RcIjtcbmltcG9ydCBcImlubmdlc3QvY29tcG9uZW50cy9Jbm5nZXN0RnVuY3Rpb25cIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUVycm9yIH0gZnJvbSBcImlubmdlc3QvaGVscGVycy9lcnJvcnNcIjtcbmltcG9ydCBcImlubmdlc3QvdHlwZXNcIjtcblxuLy8gc3JjL21vZGVsLnRzXG5pbXBvcnQgXCJAaW5uZ2VzdC9haVwiO1xuXG4vLyBzcmMvYWRhcHRlcnMvaW5kZXgudHNcbmltcG9ydCBcIkBpbm5nZXN0L2FpXCI7XG5cbi8vIHNyYy9hZGFwdGVycy9hbnRocm9waWMudHNcbmltcG9ydCBcIkBpbm5nZXN0L2FpXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBzcmMvdG9vbC50c1xuaW1wb3J0IFwiaW5uZ2VzdFwiO1xuaW1wb3J0IFwiem9kXCI7XG5mdW5jdGlvbiBjcmVhdGVUb29sKHtcbiAgbmFtZSxcbiAgZGVzY3JpcHRpb24sXG4gIHBhcmFtZXRlcnMsXG4gIGhhbmRsZXJcbn0pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIHBhcmFtZXRlcnMsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBoYW5kbGVyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIH07XG59XG5cbi8vIHNyYy9hZGFwdGVycy9hbnRocm9waWMudHNcbnZhciByZXF1ZXN0UGFyc2VyID0gKG1vZGVsLCBtZXNzYWdlcywgdG9vbHMsIHRvb2xfY2hvaWNlID0gXCJhdXRvXCIpID0+IHtcbiAgY29uc3Qgc3lzdGVtTWVzc2FnZSA9IG1lc3NhZ2VzLmZpbmQoXG4gICAgKG0pID0+IG0ucm9sZSA9PT0gXCJzeXN0ZW1cIiAmJiBtLnR5cGUgPT09IFwidGV4dFwiXG4gICk7XG4gIGNvbnN0IHN5c3RlbSA9IHR5cGVvZiAoc3lzdGVtTWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogc3lzdGVtTWVzc2FnZS5jb250ZW50KSA9PT0gXCJzdHJpbmdcIiA/IHN5c3RlbU1lc3NhZ2UuY29udGVudCA6IFwiXCI7XG4gIGNvbnN0IGFudGhyb3BpY01lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLnJvbGUgIT09IFwic3lzdGVtXCIpLnJlZHVjZShcbiAgICAoYWNjLCBtKSA9PiB7XG4gICAgICBzd2l0Y2ggKG0udHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IG0ucm9sZSxcbiAgICAgICAgICAgICAgY29udGVudDogQXJyYXkuaXNBcnJheShtLmNvbnRlbnQpID8gbS5jb250ZW50Lm1hcCgodGV4dCkgPT4gKHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQgfSkpIDogbS5jb250ZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXTtcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbFwiOlxuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IG0ucm9sZSxcbiAgICAgICAgICAgICAgY29udGVudDogbS50b29scy5tYXAoKHRvb2wpID0+ICh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sX3VzZVwiLFxuICAgICAgICAgICAgICAgIGlkOiB0b29sLmlkLFxuICAgICAgICAgICAgICAgIGlucHV0OiB0b29sLmlucHV0LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2wubmFtZVxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICBjYXNlIFwidG9vbF9yZXN1bHRcIjpcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbF9yZXN1bHRcIixcbiAgICAgICAgICAgICAgICAgIHRvb2xfdXNlX2lkOiBtLnRvb2wuaWQsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB0eXBlb2YgbS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gbS5jb250ZW50IDogSlNPTi5zdHJpbmdpZnkobS5jb250ZW50KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICB9XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCBsYXN0TWVzc2FnZSA9IGFudGhyb3BpY01lc3NhZ2VzW2FudGhyb3BpY01lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICBpZiAoKGxhc3RNZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBsYXN0TWVzc2FnZS5yb2xlKSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgIGxhc3RNZXNzYWdlLnJvbGUgPSBcInVzZXJcIjtcbiAgfVxuICBjb25zdCByZXF1ZXN0ID0ge1xuICAgIHN5c3RlbSxcbiAgICBtb2RlbDogbW9kZWwub3B0aW9ucy5tb2RlbCxcbiAgICBtYXhfdG9rZW5zOiBtb2RlbC5vcHRpb25zLmRlZmF1bHRQYXJhbWV0ZXJzLm1heF90b2tlbnMsXG4gICAgbWVzc2FnZXM6IGFudGhyb3BpY01lc3NhZ2VzXG4gIH07XG4gIGlmICh0b29scyA9PSBudWxsID8gdm9pZCAwIDogdG9vbHMubGVuZ3RoKSB7XG4gICAgcmVxdWVzdC50b29scyA9IHRvb2xzLm1hcCgodCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogdC5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogdC5kZXNjcmlwdGlvbixcbiAgICAgICAgaW5wdXRfc2NoZW1hOiB0LnBhcmFtZXRlcnMgPyB6b2RUb0pzb25TY2hlbWEodC5wYXJhbWV0ZXJzKSA6IHpvZFRvSnNvblNjaGVtYShcbiAgICAgICAgICB6Lm9iamVjdCh7fSlcbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXF1ZXN0LnRvb2xfY2hvaWNlID0gdG9vbENob2ljZSh0b29sX2Nob2ljZSk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xudmFyIHJlc3BvbnNlUGFyc2VyID0gKGlucHV0KSA9PiB7XG4gIHZhciBfYSwgX2I7XG4gIGlmIChpbnB1dC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAoKF9hID0gaW5wdXQuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tZXNzYWdlKSB8fCBgQW50aHJvcGljIHJlcXVlc3QgZmFpbGVkOiAke0pTT04uc3RyaW5naWZ5KGlucHV0LmVycm9yKX1gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gKChfYiA9IGlucHV0ID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dC5jb250ZW50KSAhPSBudWxsID8gX2IgOiBbXSkucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICBpZiAoIWl0ZW0udHlwZSkge1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgcm9sZTogaW5wdXQucm9sZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0udGV4dCxcbiAgICAgICAgICAgIC8vIFhYWDogQmV0dGVyIHN0b3AgcmVhc29uIHBhcnNpbmdcbiAgICAgICAgICAgIHN0b3BfcmVhc29uOiBcInN0b3BcIlxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIGNhc2UgXCJ0b29sX3VzZVwiOiB7XG4gICAgICAgIGxldCBhcmdzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFyZ3MgPSB0eXBlb2YgaXRlbS5pbnB1dCA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2UoaXRlbS5pbnB1dCkgOiBpdGVtLmlucHV0O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgYXJncyA9IGl0ZW0uaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJ0b29sX2NhbGxcIixcbiAgICAgICAgICAgIHJvbGU6IGlucHV0LnJvbGUsXG4gICAgICAgICAgICBzdG9wX3JlYXNvbjogXCJ0b29sXCIsXG4gICAgICAgICAgICB0b29sczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sXCIsXG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICBpbnB1dDogYXJnc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW10pO1xufTtcbnZhciB0b29sQ2hvaWNlID0gKGNob2ljZSkgPT4ge1xuICBzd2l0Y2ggKGNob2ljZSkge1xuICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICByZXR1cm4geyB0eXBlOiBcImF1dG9cIiB9O1xuICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiYW55XCIgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHR5cGVvZiBjaG9pY2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcInRvb2xcIixcbiAgICAgICAgICBuYW1lOiBjaG9pY2VcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL2FkYXB0ZXJzL29wZW5haS50c1xuaW1wb3J0IFwiQGlubmdlc3QvYWlcIjtcbmltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSBhcyB6b2RUb0pzb25TY2hlbWEyIH0gZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xudmFyIHJlcXVlc3RQYXJzZXIyID0gKG1vZGVsLCBtZXNzYWdlcywgdG9vbHMsIHRvb2xfY2hvaWNlID0gXCJhdXRvXCIpID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICBtZXNzYWdlczogbWVzc2FnZXMubWFwKChtKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgc3dpdGNoIChtLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm9sZTogbS5yb2xlLFxuICAgICAgICAgICAgY29udGVudDogbS5jb250ZW50XG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbFwiOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogbnVsbCxcbiAgICAgICAgICAgIHRvb2xfY2FsbHM6IG0udG9vbHMgPyAoX2EyID0gbS50b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5tYXAoKHRvb2wpID0+ICh7XG4gICAgICAgICAgICAgIGlkOiB0b29sLmlkLFxuICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkodG9vbC5pbnB1dClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpIDogdm9pZCAwXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcInRvb2xfcmVzdWx0XCI6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvbGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgdG9vbF9jYWxsX2lkOiBtLnRvb2wuaWQsXG4gICAgICAgICAgICBjb250ZW50OiB0eXBlb2YgbS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gbS5jb250ZW50IDogSlNPTi5zdHJpbmdpZnkobS5jb250ZW50KVxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfSlcbiAgfTtcbiAgaWYgKHRvb2xzID09IG51bGwgPyB2b2lkIDAgOiB0b29scy5sZW5ndGgpIHtcbiAgICByZXF1ZXN0LnRvb2xfY2hvaWNlID0gdG9vbENob2ljZTIodG9vbF9jaG9pY2UpO1xuICAgIGlmICghKChfYSA9IG1vZGVsLm9wdGlvbnMubW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhcIm8zXCIpKSAmJiAhKChfYiA9IG1vZGVsLm9wdGlvbnMubW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcIm8xXCIpKSkge1xuICAgICAgcmVxdWVzdC5wYXJhbGxlbF90b29sX2NhbGxzID0gZmFsc2U7XG4gICAgfVxuICAgIHJlcXVlc3QudG9vbHMgPSB0b29scy5tYXAoKHQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICBuYW1lOiB0Lm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdC5wYXJhbWV0ZXJzICYmIHpvZFRvSnNvblNjaGVtYTIodC5wYXJhbWV0ZXJzLCB7IHRhcmdldDogXCJvcGVuQWlcIiB9KSxcbiAgICAgICAgICBzdHJpY3Q6IHR5cGVvZiB0LnN0cmljdCAhPT0gXCJ1bmRlZmluZWRcIiA/IHQuc3RyaWN0IDogQm9vbGVhbih0LnBhcmFtZXRlcnMpXG4gICAgICAgICAgLy8gc3RyaWN0IG1vZGUgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBwYXJhbWV0ZXJzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xudmFyIHJlc3BvbnNlUGFyc2VyMiA9IChpbnB1dCkgPT4ge1xuICB2YXIgX2E7XG4gIGlmIChpbnB1dC5lcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGlucHV0LmVycm9yLm1lc3NhZ2UgfHwgYE9wZW5BSSByZXF1ZXN0IGZhaWxlZDogJHtKU09OLnN0cmluZ2lmeShpbnB1dC5lcnJvcil9YFxuICAgICk7XG4gIH1cbiAgcmV0dXJuICgoX2EgPSBpbnB1dCA9PSBudWxsID8gdm9pZCAwIDogaW5wdXQuY2hvaWNlcykgIT0gbnVsbCA/IF9hIDogW10pLnJlZHVjZSgoYWNjLCBjaG9pY2UpID0+IHtcbiAgICB2YXIgX2EyLCBfYjtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIGZpbmlzaF9yZWFzb24gfSA9IGNob2ljZTtcbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuICAgIGNvbnN0IGJhc2UgPSB7XG4gICAgICByb2xlOiBjaG9pY2UubWVzc2FnZS5yb2xlLFxuICAgICAgc3RvcF9yZWFzb246IG9wZW5BaVN0b3BSZWFzb25Ub1N0YXRlU3RvcFJlYXNvbltmaW5pc2hfcmVhc29uICE9IG51bGwgPyBmaW5pc2hfcmVhc29uIDogXCJcIl0gfHwgXCJzdG9wXCJcbiAgICB9O1xuICAgIGlmIChtZXNzYWdlLmNvbnRlbnQgJiYgbWVzc2FnZS5jb250ZW50LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgYWNjLnB1c2goX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYmFzZSksIHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoKChfYiA9IChfYTIgPSBtZXNzYWdlLnRvb2xfY2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIubGVuZ3RoKSAhPSBudWxsID8gX2IgOiAwKSA+IDApIHtcbiAgICAgIGFjYy5wdXNoKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGJhc2UpLCB7XG4gICAgICAgIHR5cGU6IFwidG9vbF9jYWxsXCIsXG4gICAgICAgIHRvb2xzOiBtZXNzYWdlLnRvb2xfY2FsbHMubWFwKCh0b29sKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgaWQ6IHRvb2wuaWQsXG4gICAgICAgICAgICBuYW1lOiB0b29sLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICBmdW5jdGlvbjogdG9vbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgLy8gRHVwbGljYXRlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAvLyBVc2Ugc2FmZSBwYXJzZXIgdG8gaGFuZGxlIE9wZW5BSSdzIEpTT04gcXVpcmtzIChsaWtlIGJhY2t0aWNrcyBpbiBzdHJpbmdzKVxuICAgICAgICAgICAgaW5wdXQ6IHNhZmVQYXJzZU9wZW5BSUpzb24odG9vbC5mdW5jdGlvbi5hcmd1bWVudHMgfHwgXCJ7fVwiKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIFtdKTtcbn07XG52YXIgc2FmZVBhcnNlT3BlbkFJSnNvbiA9IChzdHIpID0+IHtcbiAgY29uc3QgdHJpbW1lZCA9IHN0ci5yZXBsYWNlKC9eW1wiJ118W1wiJ10kL2csIFwiXCIpO1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRyaW1tZWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdpdGhRdW90ZXMgPSB0cmltbWVkLnJlcGxhY2UoXG4gICAgICAgIC9gKFtcXHNcXFNdKj8pYC9nLFxuICAgICAgICAoXywgY29udGVudCkgPT4gSlNPTi5zdHJpbmdpZnkoY29udGVudClcbiAgICAgICk7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh3aXRoUXVvdGVzKTtcbiAgICB9IGNhdGNoIChlMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIHBhcnNlIEpTT04gd2l0aCBiYWNrdGlja3M6ICR7c3RyaW5naWZ5RXJyb3IoZTIpfWBcbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xudmFyIG9wZW5BaVN0b3BSZWFzb25Ub1N0YXRlU3RvcFJlYXNvbiA9IHtcbiAgdG9vbF9jYWxsczogXCJ0b29sXCIsXG4gIHN0b3A6IFwic3RvcFwiLFxuICBsZW5ndGg6IFwic3RvcFwiLFxuICBjb250ZW50X2ZpbHRlcjogXCJzdG9wXCIsXG4gIGZ1bmN0aW9uX2NhbGw6IFwidG9vbFwiXG59O1xudmFyIHRvb2xDaG9pY2UyID0gKGNob2ljZSkgPT4ge1xuICBzd2l0Y2ggKGNob2ljZSkge1xuICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICByZXR1cm4gXCJhdXRvXCI7XG4gICAgY2FzZSBcImFueVwiOlxuICAgICAgcmV0dXJuIFwicmVxdWlyZWRcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBmdW5jdGlvbjogeyBuYW1lOiBjaG9pY2UgfVxuICAgICAgfTtcbiAgfVxufTtcblxuLy8gc3JjL2FkYXB0ZXJzL2dlbWluaS50c1xuaW1wb3J0IFwiQGlubmdlc3QvYWlcIjtcbmltcG9ydCB7IHogYXMgejIgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgYXMgem9kVG9Kc29uU2NoZW1hMyB9IGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbnZhciByZXF1ZXN0UGFyc2VyMyA9IChfbW9kZWwyLCBtZXNzYWdlcywgdG9vbHMsIHRvb2xfY2hvaWNlID0gXCJhdXRvXCIpID0+IHtcbiAgY29uc3QgY29udGVudHMgPSBtZXNzYWdlcy5tYXAoKG0pID0+IG1lc3NhZ2VUb0NvbnRlbnQobSkpO1xuICBjb25zdCBmdW5jdGlvbkRlY2xhcmF0aW9ucyA9IHRvb2xzLm1hcCgodCkgPT4gKHtcbiAgICBuYW1lOiB0Lm5hbWUsXG4gICAgZGVzY3JpcHRpb246IHQuZGVzY3JpcHRpb24sXG4gICAgcGFyYW1ldGVyczogdC5wYXJhbWV0ZXJzID8gZ2VtaW5pWm9kVG9Kc29uU2NoZW1hKHQucGFyYW1ldGVycykgOiAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgZ2VtaW5pWm9kVG9Kc29uU2NoZW1hKHoyLm9iamVjdCh7fSkpXG4gICAgKVxuICB9KSk7XG4gIHJldHVybiBfX3NwcmVhZFZhbHVlcyh7XG4gICAgY29udGVudHNcbiAgfSwgdG9vbHMubGVuZ3RoID4gMCA/IHtcbiAgICB0b29sczogW1xuICAgICAge1xuICAgICAgICBmdW5jdGlvbkRlY2xhcmF0aW9uc1xuICAgICAgfVxuICAgIF0sXG4gICAgdG9vbF9jb25maWc6IHRvb2xDaG9pY2UzKHRvb2xfY2hvaWNlKVxuICB9IDoge30pO1xufTtcbnZhciBtZXNzYWdlQ29udGVudFRvU3RyaW5nID0gKGNvbnRlbnQpID0+IHtcbiAgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQubWFwKChjKSA9PiBjLnRleHQpLmpvaW4oXCJcIik7XG59O1xudmFyIHJlc3BvbnNlUGFyc2VyMyA9IChpbnB1dCkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgaWYgKGlucHV0LmVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgKChfYSA9IGlucHV0LmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWVzc2FnZSkgfHwgYEdlbWluaSByZXF1ZXN0IGZhaWxlZDogJHtKU09OLnN0cmluZ2lmeShpbnB1dC5lcnJvcil9YFxuICAgICk7XG4gIH1cbiAgY29uc3QgbWVzc2FnZXMgPSBbXTtcbiAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgKF9iID0gaW5wdXQuY2FuZGlkYXRlcykgIT0gbnVsbCA/IF9iIDogW10pIHtcbiAgICBpZiAoY2FuZGlkYXRlLmZpbmlzaFJlYXNvbiA9PT0gXCJNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTFwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiR2VtaW5pIHJldHVybmVkIE1BTEZPUk1FRF9GVU5DVElPTl9DQUxMLCBza2lwcGluZyB0aGlzIGNhbmRpZGF0ZS4gVGhpcyB0eXBpY2FsbHkgaW5kaWNhdGVzIGFuIGlzc3VlIHdpdGggdG9vbC9mdW5jdGlvbiBjYWxsIGZvcm1hdHRpbmcuIENoZWNrIHlvdXIgdG9vbCBkZWZpbml0aW9ucyBhbmQgcGFyYW1ldGVycy5cIlxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoISgoX2MgPSBjYW5kaWRhdGUuY29udGVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnBhcnRzKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY29udGVudCBvZiBjYW5kaWRhdGUuY29udGVudC5wYXJ0cykge1xuICAgICAgaWYgKGNhbmRpZGF0ZS5jb250ZW50LnJvbGUgPT09IFwidXNlclwiICYmIFwidGV4dFwiIGluIGNvbnRlbnQpIHtcbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgY29udGVudDogY29udGVudC50ZXh0XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChjYW5kaWRhdGUuY29udGVudC5yb2xlID09PSBcIm1vZGVsXCIgJiYgXCJ0ZXh0XCIgaW4gY29udGVudCkge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQudGV4dFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoY2FuZGlkYXRlLmNvbnRlbnQucm9sZSA9PT0gXCJtb2RlbFwiICYmIFwiZnVuY3Rpb25DYWxsXCIgaW4gY29udGVudCkge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIHR5cGU6IFwidG9vbF9jYWxsXCIsXG4gICAgICAgICAgc3RvcF9yZWFzb246IFwidG9vbFwiLFxuICAgICAgICAgIHRvb2xzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IGNvbnRlbnQuZnVuY3Rpb25DYWxsLm5hbWUsXG4gICAgICAgICAgICAgIGlucHV0OiBjb250ZW50LmZ1bmN0aW9uQ2FsbC5hcmdzLFxuICAgICAgICAgICAgICB0eXBlOiBcInRvb2xcIixcbiAgICAgICAgICAgICAgaWQ6IGNvbnRlbnQuZnVuY3Rpb25DYWxsLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChjYW5kaWRhdGUuY29udGVudC5yb2xlID09PSBcInVzZXJcIiAmJiBcImZ1bmN0aW9uUmVzcG9uc2VcIiBpbiBjb250ZW50KSB7XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgIHJvbGU6IFwidG9vbF9yZXN1bHRcIixcbiAgICAgICAgICB0eXBlOiBcInRvb2xfcmVzdWx0XCIsXG4gICAgICAgICAgc3RvcF9yZWFzb246IFwidG9vbFwiLFxuICAgICAgICAgIHRvb2w6IHtcbiAgICAgICAgICAgIG5hbWU6IGNvbnRlbnQuZnVuY3Rpb25SZXNwb25zZS5uYW1lLFxuICAgICAgICAgICAgaW5wdXQ6IGNvbnRlbnQuZnVuY3Rpb25SZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgIHR5cGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgaWQ6IGNvbnRlbnQuZnVuY3Rpb25SZXNwb25zZS5uYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShjb250ZW50LmZ1bmN0aW9uUmVzcG9uc2UucmVzcG9uc2UpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb250ZW50IHR5cGVcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXNzYWdlcztcbn07XG52YXIgbWVzc2FnZVRvQ29udGVudCA9IChtKSA9PiB7XG4gIHN3aXRjaCAobS5yb2xlKSB7XG4gICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgIHBhcnRzOiBbeyB0ZXh0OiBtZXNzYWdlQ29udGVudFRvU3RyaW5nKG0uY29udGVudCkgfV1cbiAgICAgIH07XG4gICAgY2FzZSBcInVzZXJcIjpcbiAgICAgIHN3aXRjaCAobS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxcIjpcbiAgICAgICAgICBpZiAobS50b29scy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvb2wgY2FsbCBtZXNzYWdlIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgdG9vbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvbGU6IFwibW9kZWxcIixcbiAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbkNhbGw6IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IG0udG9vbHNbMF0ubmFtZSxcbiAgICAgICAgICAgICAgICAgIGFyZ3M6IG0udG9vbHNbMF0uaW5wdXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgIHBhcnRzOiBbeyB0ZXh0OiBtZXNzYWdlQ29udGVudFRvU3RyaW5nKG0uY29udGVudCkgfV1cbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgIGNhc2UgXCJhc3Npc3RhbnRcIjpcbiAgICAgIHN3aXRjaCAobS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxcIjpcbiAgICAgICAgICBpZiAobS50b29scy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvb2wgY2FsbCBtZXNzYWdlIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgdG9vbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvbGU6IFwibW9kZWxcIixcbiAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbkNhbGw6IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IG0udG9vbHNbMF0ubmFtZSxcbiAgICAgICAgICAgICAgICAgIGFyZ3M6IG0udG9vbHNbMF0uaW5wdXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb2xlOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogbWVzc2FnZUNvbnRlbnRUb1N0cmluZyhtLmNvbnRlbnQpIH1dXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICBjYXNlIFwidG9vbF9yZXN1bHRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBwYXJ0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uUmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgbmFtZTogbS50b29sLm5hbWUsXG4gICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogbS50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY29udGVudDogdHlwZW9mIG0uY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IG0uY29udGVudCA6IEpTT04uc3RyaW5naWZ5KG0uY29udGVudClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHttLnJvbGV9YCk7XG4gIH1cbn07XG52YXIgdG9vbENob2ljZTMgPSAoY2hvaWNlKSA9PiB7XG4gIHN3aXRjaCAoY2hvaWNlKSB7XG4gICAgY2FzZSBcImF1dG9cIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZzoge1xuICAgICAgICAgIG1vZGU6IFwiQVVUT1wiXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgY2FzZSBcImFueVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnOiB7XG4gICAgICAgICAgbW9kZTogXCJBTllcIlxuICAgICAgICB9XG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAodHlwZW9mIGNob2ljZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZzoge1xuICAgICAgICAgICAgbW9kZTogXCJBTllcIixcbiAgICAgICAgICAgIGFsbG93ZWRGdW5jdGlvbk5hbWVzOiBbY2hvaWNlXVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgfVxufTtcbnZhciByZWN1cnNpdmVHZW1pbmlab2RUb0pzb25TY2hlbWEgPSAob2JqKSA9PiB7XG4gIGlmIChvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmoubWFwKHJlY3Vyc2l2ZUdlbWluaVpvZFRvSnNvblNjaGVtYSk7XG4gIH1cbiAgY29uc3QgbmV3T2JqID0gX19zcHJlYWRWYWx1ZXMoe30sIG9iaik7XG4gIGZvciAoY29uc3Qga2V5IGluIG5ld09iaikge1xuICAgIGlmIChuZXdPYmpba2V5XSAhPSBudWxsKSB7XG4gICAgICBuZXdPYmpba2V5XSA9IHJlY3Vyc2l2ZUdlbWluaVpvZFRvSnNvblNjaGVtYShcbiAgICAgICAgbmV3T2JqW2tleV1cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGlmICgobmV3T2JqID09IG51bGwgPyB2b2lkIDAgOiBuZXdPYmpbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSkgIT0gbnVsbCkge1xuICAgIGRlbGV0ZSBuZXdPYmpbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXTtcbiAgfVxuICByZXR1cm4gbmV3T2JqO1xufTtcbnZhciBnZW1pbmlab2RUb0pzb25TY2hlbWEgPSAoem9kKSA9PiB7XG4gIGxldCBzY2hlbWEgPSB6b2RUb0pzb25TY2hlbWEzKHpvZCwgeyB0YXJnZXQ6IFwib3BlbkFwaTNcIiB9KTtcbiAgc2NoZW1hID0gcmVjdXJzaXZlR2VtaW5pWm9kVG9Kc29uU2NoZW1hKHNjaGVtYSk7XG4gIHJldHVybiBzY2hlbWE7XG59O1xuXG4vLyBzcmMvYWRhcHRlcnMvZ3Jvay50c1xudmFyIHJlcXVlc3RQYXJzZXI0ID0gKG1vZGVsLCBtZXNzYWdlcywgdG9vbHMsIHRvb2xfY2hvaWNlID0gXCJhdXRvXCIpID0+IHtcbiAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RQYXJzZXIyKFxuICAgIG1vZGVsLFxuICAgIG1lc3NhZ2VzLFxuICAgIHRvb2xzLFxuICAgIHRvb2xfY2hvaWNlXG4gICk7XG4gIHJlcXVlc3QudG9vbHMgPSAocmVxdWVzdC50b29scyB8fCBbXSkubWFwKCh0b29sKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCB0b29sKSwge1xuICAgIGZ1bmN0aW9uOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCB0b29sLmZ1bmN0aW9uKSwge1xuICAgICAgc3RyaWN0OiBmYWxzZVxuICAgIH0pXG4gIH0pKTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xudmFyIHJlc3BvbnNlUGFyc2VyNCA9IHJlc3BvbnNlUGFyc2VyMjtcblxuLy8gc3JjL2FkYXB0ZXJzL2luZGV4LnRzXG52YXIgYWRhcHRlcnMgPSB7XG4gIFwib3BlbmFpLWNoYXRcIjoge1xuICAgIHJlcXVlc3Q6IHJlcXVlc3RQYXJzZXIyLFxuICAgIHJlc3BvbnNlOiByZXNwb25zZVBhcnNlcjJcbiAgfSxcbiAgYW50aHJvcGljOiB7XG4gICAgcmVxdWVzdDogcmVxdWVzdFBhcnNlcixcbiAgICByZXNwb25zZTogcmVzcG9uc2VQYXJzZXJcbiAgfSxcbiAgZ2VtaW5pOiB7XG4gICAgcmVxdWVzdDogcmVxdWVzdFBhcnNlcjMsXG4gICAgcmVzcG9uc2U6IHJlc3BvbnNlUGFyc2VyM1xuICB9LFxuICBncm9rOiB7XG4gICAgcmVxdWVzdDogcmVxdWVzdFBhcnNlcjQsXG4gICAgcmVzcG9uc2U6IHJlc3BvbnNlUGFyc2VyNFxuICB9XG59O1xuXG4vLyBzcmMvbW9kZWwudHNcbnZhciBjcmVhdGVBZ2VudGljTW9kZWxGcm9tQWlBZGFwdGVyID0gKGFkYXB0ZXIpID0+IHtcbiAgY29uc3Qgb3B0cyA9IGFkYXB0ZXJzW2FkYXB0ZXIuZm9ybWF0XTtcbiAgcmV0dXJuIG5ldyBBZ2VudGljTW9kZWwoe1xuICAgIG1vZGVsOiBhZGFwdGVyLFxuICAgIHJlcXVlc3RQYXJzZXI6IG9wdHMucmVxdWVzdCxcbiAgICByZXNwb25zZVBhcnNlcjogb3B0cy5yZXNwb25zZVxuICB9KTtcbn07XG52YXIgX21vZGVsO1xudmFyIEFnZW50aWNNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsLFxuICAgIHJlcXVlc3RQYXJzZXI6IHJlcXVlc3RQYXJzZXI1LFxuICAgIHJlc3BvbnNlUGFyc2VyOiByZXNwb25zZVBhcnNlcjVcbiAgfSkge1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbW9kZWwpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfbW9kZWwsIG1vZGVsKTtcbiAgICB0aGlzLnJlcXVlc3RQYXJzZXIgPSByZXF1ZXN0UGFyc2VyNTtcbiAgICB0aGlzLnJlc3BvbnNlUGFyc2VyID0gcmVzcG9uc2VQYXJzZXI1O1xuICB9XG4gIGFzeW5jIGluZmVyKHN0ZXBJRCwgaW5wdXQsIHRvb2xzLCB0b29sX2Nob2ljZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgYm9keSA9IHRoaXMucmVxdWVzdFBhcnNlcihfX3ByaXZhdGVHZXQodGhpcywgX21vZGVsKSwgaW5wdXQsIHRvb2xzLCB0b29sX2Nob2ljZSk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBzdGVwID0gYXdhaXQgZ2V0U3RlcFRvb2xzKCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHN0ZXAuYWkuaW5mZXIoc3RlcElELCB7XG4gICAgICAgIG1vZGVsOiBfX3ByaXZhdGVHZXQodGhpcywgX21vZGVsKSxcbiAgICAgICAgYm9keVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1vZGVsQ29weSA9IF9fc3ByZWFkVmFsdWVzKHt9LCBfX3ByaXZhdGVHZXQodGhpcywgX21vZGVsKSk7XG4gICAgICAoX2IgPSAoX2EgPSBfX3ByaXZhdGVHZXQodGhpcywgX21vZGVsKSkub25DYWxsKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChfYSwgbW9kZWxDb3B5LCBib2R5KTtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwobW9kZWxDb3B5LnVybCB8fCBcIlwiKTtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9O1xuICAgICAgY29uc3QgZm9ybWF0SGFuZGxlcnMgPSB7XG4gICAgICAgIFwib3BlbmFpLWNoYXRcIjogKCkgPT4ge1xuICAgICAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke21vZGVsQ29weS5hdXRoS2V5fWA7XG4gICAgICAgIH0sXG4gICAgICAgIGFudGhyb3BpYzogKCkgPT4ge1xuICAgICAgICAgIGhlYWRlcnNbXCJ4LWFwaS1rZXlcIl0gPSBtb2RlbENvcHkuYXV0aEtleTtcbiAgICAgICAgICBoZWFkZXJzW1wiYW50aHJvcGljLXZlcnNpb25cIl0gPSBcIjIwMjMtMDYtMDFcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2VtaW5pOiAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgIGdyb2s6ICgpID0+IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZvcm1hdEhhbmRsZXJzW21vZGVsQ29weS5mb3JtYXRdKCk7XG4gICAgICByZXN1bHQgPSBhd2FpdCAoYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9KSkuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4geyBvdXRwdXQ6IHRoaXMucmVzcG9uc2VQYXJzZXIocmVzdWx0KSwgcmF3OiByZXN1bHQgfTtcbiAgfVxufTtcbl9tb2RlbCA9IG5ldyBXZWFrTWFwKCk7XG5cbi8vIHNyYy9hZ2VudC50c1xudmFyIGNyZWF0ZUFnZW50ID0gKG9wdHMpID0+IG5ldyBBZ2VudChvcHRzKTtcbnZhciBjcmVhdGVSb3V0aW5nQWdlbnQgPSAob3B0cykgPT4gbmV3IFJvdXRpbmdBZ2VudChvcHRzKTtcbnZhciBBZ2VudCA9IGNsYXNzIF9BZ2VudCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICB0aGlzLm5hbWUgPSBvcHRzLm5hbWU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb24gfHwgXCJcIjtcbiAgICB0aGlzLnN5c3RlbSA9IG9wdHMuc3lzdGVtO1xuICAgIHRoaXMuYXNzaXN0YW50ID0gb3B0cy5hc3Npc3RhbnQgfHwgXCJcIjtcbiAgICB0aGlzLnRvb2xzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnRvb2xfY2hvaWNlID0gb3B0cy50b29sX2Nob2ljZTtcbiAgICB0aGlzLmxpZmVjeWNsZXMgPSBvcHRzLmxpZmVjeWNsZTtcbiAgICB0aGlzLm1vZGVsID0gb3B0cy5tb2RlbDtcbiAgICB0aGlzLmhpc3RvcnkgPSBvcHRzLmhpc3Rvcnk7XG4gICAgdGhpcy5zZXRUb29scyhvcHRzLnRvb2xzKTtcbiAgICB0aGlzLm1jcFNlcnZlcnMgPSBvcHRzLm1jcFNlcnZlcnM7XG4gICAgdGhpcy5fbWNwQ2xpZW50cyA9IFtdO1xuICB9XG4gIHNldFRvb2xzKHRvb2xzKSB7XG4gICAgZm9yIChjb25zdCB0b29sIG9mIHRvb2xzIHx8IFtdKSB7XG4gICAgICBpZiAoaXNJbm5nZXN0Rm4odG9vbCkpIHtcbiAgICAgICAgdGhpcy50b29scy5zZXQodG9vbFtcImFic29sdXRlSWRcIl0sIHtcbiAgICAgICAgICBuYW1lOiB0b29sW1wiYWJzb2x1dGVJZFwiXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAvLyBUT0RPIFNob3VsZCB3ZSBlcnJvciBoZXJlIGlmIHdlIGNhbid0IGZpbmQgYW4gaW5wdXQgc2NoZW1hP1xuICAgICAgICAgIHBhcmFtZXRlcnM6IGdldElubmdlc3RGbklucHV0KHRvb2wpLFxuICAgICAgICAgIGhhbmRsZXI6IGFzeW5jIChpbnB1dCwgb3B0cykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGF3YWl0IGdldFN0ZXBUb29scygpO1xuICAgICAgICAgICAgaWYgKCFzdGVwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklubmdlc3QgdG9vbCBjYWxsZWQgb3V0c2lkZSBvZiBJbm5nZXN0IGNvbnRleHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGVwSWQgPSBgJHtvcHRzLmFnZW50Lm5hbWV9L3Rvb2xzLyR7dG9vbFtcImFic29sdXRlSWRcIl19YDtcbiAgICAgICAgICAgIHJldHVybiBzdGVwLmludm9rZShzdGVwSWQsIHtcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHJlZmVyZW5jZUZ1bmN0aW9uKHtcbiAgICAgICAgICAgICAgICBhcHBJZDogdG9vbFtcImNsaWVudFwiXVtcImlkXCJdLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uSWQ6IHRvb2wuaWQoKVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgZGF0YTogaW5wdXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRvb2xzLnNldCh0b29sLm5hbWUsIHRvb2wpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB3aXRoTW9kZWwobW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IF9BZ2VudCh7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIHN5c3RlbTogdGhpcy5zeXN0ZW0sXG4gICAgICBhc3Npc3RhbnQ6IHRoaXMuYXNzaXN0YW50LFxuICAgICAgdG9vbHM6IEFycmF5LmZyb20odGhpcy50b29scy52YWx1ZXMoKSksXG4gICAgICBsaWZlY3ljbGU6IHRoaXMubGlmZWN5Y2xlcyxcbiAgICAgIG1vZGVsXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJ1biBydW5zIGFuIGFnZW50IHdpdGggdGhlIGdpdmVuIHVzZXIgaW5wdXQsIHRyZWF0ZWQgYXMgYSB1c2VyIG1lc3NhZ2UuICBJZlxuICAgKiB0aGUgaW5wdXQgaXMgYW4gZW1wdHkgc3RyaW5nLCBvbmx5IHRoZSBzeXN0ZW0gcHJvbXB0IHdpbGwgZXhlY3V0ZS5cbiAgICovXG4gIGFzeW5jIHJ1bihpbnB1dCwgeyBtb2RlbCwgbmV0d29yaywgc3RhdGUsIG1heEl0ZXIgPSAwIH0gPSB7fSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgYXdhaXQgdGhpcy5pbml0TUNQKCk7XG4gICAgY29uc3QgcmF3TW9kZWwgPSBtb2RlbCB8fCB0aGlzLm1vZGVsIHx8IChuZXR3b3JrID09IG51bGwgPyB2b2lkIDAgOiBuZXR3b3JrLmRlZmF1bHRNb2RlbCk7XG4gICAgaWYgKCFyYXdNb2RlbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbW9kZWwgcHJvdmlkZWQgdG8gYWdlbnRcIik7XG4gICAgfVxuICAgIGNvbnN0IHAgPSBjcmVhdGVBZ2VudGljTW9kZWxGcm9tQWlBZGFwdGVyKHJhd01vZGVsKTtcbiAgICBjb25zdCBzID0gc3RhdGUgfHwgKG5ldHdvcmsgPT0gbnVsbCA/IHZvaWQgMCA6IG5ldHdvcmsuc3RhdGUpIHx8IG5ldyBTdGF0ZSgpO1xuICAgIGNvbnN0IHJ1biA9IG5ldyBOZXR3b3JrUnVuKFxuICAgICAgbmV0d29yayB8fCBjcmVhdGVOZXR3b3JrKHsgbmFtZTogXCJkZWZhdWx0XCIsIGFnZW50czogW10gfSksXG4gICAgICBzXG4gICAgKTtcbiAgICBhd2FpdCBpbml0aWFsaXplVGhyZWFkKHtcbiAgICAgIHN0YXRlOiBzLFxuICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LFxuICAgICAgaW5wdXQsXG4gICAgICBuZXR3b3JrOiBydW5cbiAgICB9KTtcbiAgICBhd2FpdCBsb2FkVGhyZWFkRnJvbVN0b3JhZ2Uoe1xuICAgICAgc3RhdGU6IHMsXG4gICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICBpbnB1dCxcbiAgICAgIG5ldHdvcms6IHJ1blxuICAgIH0pO1xuICAgIGxldCBoaXN0b3J5ID0gcyA/IHMuZm9ybWF0SGlzdG9yeSgpIDogW107XG4gICAgbGV0IHByb21wdCA9IGF3YWl0IHRoaXMuYWdlbnRQcm9tcHQoaW5wdXQsIHJ1bik7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBBZ2VudFJlc3VsdChcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIFtdLFxuICAgICAgW10sXG4gICAgICAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgIHByb21wdCxcbiAgICAgIGhpc3RvcnksXG4gICAgICBcIlwiXG4gICAgKTtcbiAgICBsZXQgaGFzTW9yZUFjdGlvbnMgPSB0cnVlO1xuICAgIGxldCBpdGVyID0gMDtcbiAgICBjb25zdCBpbml0aWFsUmVzdWx0Q291bnQgPSBzLnJlc3VsdHMubGVuZ3RoO1xuICAgIGRvIHtcbiAgICAgIGlmICgoX2EgPSB0aGlzLmxpZmVjeWNsZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vblN0YXJ0KSB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkID0gYXdhaXQgdGhpcy5saWZlY3ljbGVzLm9uU3RhcnQoe1xuICAgICAgICAgIGFnZW50OiB0aGlzLFxuICAgICAgICAgIG5ldHdvcms6IHJ1bixcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgaGlzdG9yeVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG1vZGlmaWVkLnN0b3ApIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHByb21wdCA9IG1vZGlmaWVkLnByb21wdDtcbiAgICAgICAgaGlzdG9yeSA9IG1vZGlmaWVkLmhpc3Rvcnk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbmZlcmVuY2UgPSBhd2FpdCB0aGlzLnBlcmZvcm1JbmZlcmVuY2UocCwgcHJvbXB0LCBoaXN0b3J5LCBydW4pO1xuICAgICAgaGFzTW9yZUFjdGlvbnMgPSBCb29sZWFuKFxuICAgICAgICB0aGlzLnRvb2xzLnNpemUgPiAwICYmIGluZmVyZW5jZS5vdXRwdXQubGVuZ3RoICYmIGluZmVyZW5jZS5vdXRwdXRbaW5mZXJlbmNlLm91dHB1dC5sZW5ndGggLSAxXS5zdG9wX3JlYXNvbiAhPT0gXCJzdG9wXCJcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSBpbmZlcmVuY2U7XG4gICAgICBoaXN0b3J5ID0gWy4uLmluZmVyZW5jZS5vdXRwdXRdO1xuICAgICAgaXRlcisrO1xuICAgIH0gd2hpbGUgKGhhc01vcmVBY3Rpb25zICYmIGl0ZXIgPCBtYXhJdGVyKTtcbiAgICBpZiAoKF9iID0gdGhpcy5saWZlY3ljbGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Iub25GaW5pc2gpIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMubGlmZWN5Y2xlcy5vbkZpbmlzaCh7XG4gICAgICAgIGFnZW50OiB0aGlzLFxuICAgICAgICBuZXR3b3JrOiBydW4sXG4gICAgICAgIHJlc3VsdFxuICAgICAgfSk7XG4gICAgfVxuICAgIGF3YWl0IHNhdmVUaHJlYWRUb1N0b3JhZ2Uoe1xuICAgICAgc3RhdGU6IHMsXG4gICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICBpbnB1dCxcbiAgICAgIGluaXRpYWxSZXN1bHRDb3VudCxcbiAgICAgIG5ldHdvcms6IHJ1blxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgcGVyZm9ybUluZmVyZW5jZShwLCBwcm9tcHQsIGhpc3RvcnksIG5ldHdvcmspIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyBvdXRwdXQsIHJhdyB9ID0gYXdhaXQgcC5pbmZlcihcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHByb21wdC5jb25jYXQoaGlzdG9yeSksXG4gICAgICBBcnJheS5mcm9tKHRoaXMudG9vbHMudmFsdWVzKCkpLFxuICAgICAgdGhpcy50b29sX2Nob2ljZSB8fCBcImF1dG9cIlxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBBZ2VudFJlc3VsdChcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIG91dHB1dCxcbiAgICAgIFtdLFxuICAgICAgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICBwcm9tcHQsXG4gICAgICBoaXN0b3J5LFxuICAgICAgdHlwZW9mIHJhdyA9PT0gXCJzdHJpbmdcIiA/IHJhdyA6IEpTT04uc3RyaW5naWZ5KHJhdylcbiAgICApO1xuICAgIGlmICgoX2EgPSB0aGlzLmxpZmVjeWNsZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vblJlc3BvbnNlKSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLmxpZmVjeWNsZXMub25SZXNwb25zZSh7XG4gICAgICAgIGFnZW50OiB0aGlzLFxuICAgICAgICBuZXR3b3JrLFxuICAgICAgICByZXN1bHRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB0b29sQ2FsbE91dHB1dCA9IGF3YWl0IHRoaXMuaW52b2tlVG9vbHMocmVzdWx0Lm91dHB1dCwgbmV0d29yayk7XG4gICAgaWYgKHRvb2xDYWxsT3V0cHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC50b29sQ2FsbHMgPSByZXN1bHQudG9vbENhbGxzLmNvbmNhdCh0b29sQ2FsbE91dHB1dCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIGludm9rZVRvb2xzIHRha2VzIG91dHB1dCBtZXNzYWdlcyBmcm9tIGFuIGluZmVyZW5jZSBjYWxsIHRoZW4gaW52b2tlcyBhbnkgdG9vbHNcbiAgICogaW4gdGhlIG1lc3NhZ2UgcmVzcG9uc2VzLlxuICAgKi9cbiAgYXN5bmMgaW52b2tlVG9vbHMobXNncywgbmV0d29yaykge1xuICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgIGZvciAoY29uc3QgbXNnIG9mIG1zZ3MpIHtcbiAgICAgIGlmIChtc2cudHlwZSAhPT0gXCJ0b29sX2NhbGxcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShtc2cudG9vbHMpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCB0b29sIG9mIG1zZy50b29scykge1xuICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMudG9vbHMuZ2V0KHRvb2wubmFtZSk7XG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgSW5mZXJlbmNlIHJlcXVlc3RlZCBhIG5vbi1leGlzdGVudCB0b29sOiAke3Rvb2wubmFtZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgZm91bmQuaGFuZGxlcih0b29sLmlucHV0LCB7XG4gICAgICAgICAgICBhZ2VudDogdGhpcyxcbiAgICAgICAgICAgIG5ldHdvcmssXG4gICAgICAgICAgICBzdGVwOiBhd2FpdCBnZXRTdGVwVG9vbHMoKVxuICAgICAgICAgIH0pXG4gICAgICAgICkudGhlbigocikgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgICAgICAgICBkYXRhOiB0eXBlb2YgciA9PT0gXCJ1bmRlZmluZWRcIiA/IGAke3Rvb2wubmFtZX0gc3VjY2Vzc2Z1bGx5IGV4ZWN1dGVkYCA6IHJcbiAgICAgICAgICB9O1xuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IHNlcmlhbGl6ZUVycm9yKGVycikgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIG91dHB1dC5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcInRvb2xfcmVzdWx0XCIsXG4gICAgICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgICAgIHRvb2w6IHtcbiAgICAgICAgICAgIHR5cGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgaWQ6IHRvb2wuaWQsXG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgICBpbnB1dDogdG9vbC5pbnB1dC5hcmd1bWVudHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdCxcbiAgICAgICAgICBzdG9wX3JlYXNvbjogXCJ0b29sXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbiAgYXN5bmMgYWdlbnRQcm9tcHQoaW5wdXQsIG5ldHdvcmspIHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6IHR5cGVvZiB0aGlzLnN5c3RlbSA9PT0gXCJzdHJpbmdcIiA/IHRoaXMuc3lzdGVtIDogYXdhaXQgdGhpcy5zeXN0ZW0oeyBuZXR3b3JrIH0pXG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgbWVzc2FnZXMucHVzaCh7IHR5cGU6IFwidGV4dFwiLCByb2xlOiBcInVzZXJcIiwgY29udGVudDogaW5wdXQgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmFzc2lzdGFudC5sZW5ndGggPiAwKSB7XG4gICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IHRoaXMuYXNzaXN0YW50XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VzO1xuICB9XG4gIC8vIGluaXRNQ1AgZmV0Y2hlcyBhbGwgdG9vbHMgZnJvbSB0aGUgYWdlbnQncyBNQ1Agc2VydmVycywgYWRkaW5nIHRoZW0gdG8gdGhlIHRvb2wgbGlzdC5cbiAgLy8gVGhpcyBpcyBhbGwgdGhhdCdzIG5lY2Vzc2FyeSBpbiBvcmRlciB0byBlbmFibGUgTUNQIHRvb2wgdXNlIHdpdGhpbiBhZ2VudHNcbiAgYXN5bmMgaW5pdE1DUCgpIHtcbiAgICBpZiAoIXRoaXMubWNwU2VydmVycyB8fCB0aGlzLl9tY3BDbGllbnRzLmxlbmd0aCA+PSB0aGlzLm1jcFNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgZm9yIChjb25zdCBzZXJ2ZXIgb2YgdGhpcy5tY3BTZXJ2ZXJzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHRoaXMubGlzdE1DUFRvb2xzKHNlcnZlcikpO1xuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgLyoqXG4gICAqIGxpc3RNQ1BUb29scyBsaXN0cyBhbGwgYXZhaWxhYmxlIHRvb2xzIGZvciBhIGdpdmVuIE1DUCBzZXJ2ZXJcbiAgICovXG4gIGFzeW5jIGxpc3RNQ1BUb29scyhzZXJ2ZXIpIHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCB0aGlzLm1jcENsaWVudChzZXJ2ZXIpO1xuICAgIHRoaXMuX21jcENsaWVudHMucHVzaChjbGllbnQpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgY2xpZW50LnJlcXVlc3QoXG4gICAgICAgIHsgbWV0aG9kOiBcInRvb2xzL2xpc3RcIiB9LFxuICAgICAgICBMaXN0VG9vbHNSZXN1bHRTY2hlbWFcbiAgICAgICk7XG4gICAgICByZXN1bHRzLnRvb2xzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke3NlcnZlci5uYW1lfS0ke3QubmFtZX1gO1xuICAgICAgICBsZXQgenNjaGVtYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB6c2NoZW1hID0gSlNPTlNjaGVtYVRvWm9kLmNvbnZlcnQodC5pbnB1dFNjaGVtYSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB6c2NoZW1hID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9vbHMuc2V0KG5hbWUsIHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHBhcmFtZXRlcnM6IHpzY2hlbWEsXG4gICAgICAgICAgbWNwOiB7XG4gICAgICAgICAgICBzZXJ2ZXIsXG4gICAgICAgICAgICB0b29sOiB0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gKCkgPT4gY2xpZW50LmNhbGxUb29sKHtcbiAgICAgICAgICAgICAgbmFtZTogdC5uYW1lLFxuICAgICAgICAgICAgICBhcmd1bWVudHM6IGlucHV0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBhd2FpdCBnZXRTdGVwVG9vbHMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICgoX2EgPSBzdGVwID09IG51bGwgPyB2b2lkIDAgOiBzdGVwLnJ1bihuYW1lLCBmbikpICE9IG51bGwgPyBfYSA6IGZuKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jb250ZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJlcnJvciBsaXN0aW5nIG1jcCB0b29sc1wiLCBlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIG1jcENsaWVudCBjcmVhdGVzIGEgbmV3IE1DUCBjbGllbnQgZm9yIHRoZSBnaXZlbiBzZXJ2ZXIuXG4gICAqL1xuICBhc3luYyBtY3BDbGllbnQoc2VydmVyKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0ID0gKCgpID0+IHtcbiAgICAgIHN3aXRjaCAoc2VydmVyLnRyYW5zcG9ydC50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJlYW1hYmxlLWh0dHBcIjpcbiAgICAgICAgICByZXR1cm4gbmV3IFN0cmVhbWFibGVIVFRQQ2xpZW50VHJhbnNwb3J0KFxuICAgICAgICAgICAgbmV3IFVSTChzZXJ2ZXIudHJhbnNwb3J0LnVybCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlcXVlc3RJbml0OiBzZXJ2ZXIudHJhbnNwb3J0LnJlcXVlc3RJbml0LFxuICAgICAgICAgICAgICBhdXRoUHJvdmlkZXI6IHNlcnZlci50cmFuc3BvcnQuYXV0aFByb3ZpZGVyLFxuICAgICAgICAgICAgICByZWNvbm5lY3Rpb25PcHRpb25zOiBzZXJ2ZXIudHJhbnNwb3J0LnJlY29ubmVjdGlvbk9wdGlvbnMsXG4gICAgICAgICAgICAgIHNlc3Npb25JZDogc2VydmVyLnRyYW5zcG9ydC5zZXNzaW9uSWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwic3NlXCI6XG4gICAgICAgICAgaWYgKGdsb2JhbC5FdmVudFNvdXJjZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBnbG9iYWwuRXZlbnRTb3VyY2UgPSBFdmVudFNvdXJjZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBTU0VDbGllbnRUcmFuc3BvcnQobmV3IFVSTChzZXJ2ZXIudHJhbnNwb3J0LnVybCksIHtcbiAgICAgICAgICAgIGV2ZW50U291cmNlSW5pdDogc2VydmVyLnRyYW5zcG9ydC5ldmVudFNvdXJjZUluaXQsXG4gICAgICAgICAgICByZXF1ZXN0SW5pdDogc2VydmVyLnRyYW5zcG9ydC5yZXF1ZXN0SW5pdFxuICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIFwid3NcIjpcbiAgICAgICAgICByZXR1cm4gbmV3IFdlYlNvY2tldENsaWVudFRyYW5zcG9ydChuZXcgVVJMKHNlcnZlci50cmFuc3BvcnQudXJsKSk7XG4gICAgICAgIGNhc2UgXCJzdGRpb1wiOiB7XG4gICAgICAgICAgY29uc3QgeyBjb21tYW5kLCBhcmdzLCBlbnYgfSA9IHNlcnZlci50cmFuc3BvcnQ7XG4gICAgICAgICAgY29uc3Qgc2FmZVByb2Nlc3NFbnYgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhwcm9jZXNzLmVudikuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gdm9pZCAwKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgZmluYWxFbnYgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgc2FmZVByb2Nlc3NFbnYpLCBlbnYpO1xuICAgICAgICAgIHJldHVybiBuZXcgU3RkaW9DbGllbnRUcmFuc3BvcnQoe1xuICAgICAgICAgICAgY29tbWFuZCxcbiAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICBlbnY6IGZpbmFsRW52XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBNQ1BDbGllbnQoXG4gICAgICB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgLy8gWFhYOiBUaGlzIHZlcnNpb24gc2hvdWxkIGNoYW5nZS5cbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjYXBhYmlsaXRpZXM6IHt9XG4gICAgICB9XG4gICAgKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LmNvbm5lY3QodHJhbnNwb3J0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJtY3Agc2VydmVyIGRpc2Nvbm5lY3RlZFwiLCBzZXJ2ZXIsIGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2xpZW50O1xuICB9XG59O1xudmFyIFJvdXRpbmdBZ2VudCA9IGNsYXNzIF9Sb3V0aW5nQWdlbnQgZXh0ZW5kcyBBZ2VudCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLnR5cGUgPSBcInJvdXRpbmdcIjtcbiAgICB0aGlzLmxpZmVjeWNsZXMgPSBvcHRzLmxpZmVjeWNsZTtcbiAgfVxuICB3aXRoTW9kZWwobW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IF9Sb3V0aW5nQWdlbnQoe1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBzeXN0ZW06IHRoaXMuc3lzdGVtLFxuICAgICAgYXNzaXN0YW50OiB0aGlzLmFzc2lzdGFudCxcbiAgICAgIHRvb2xzOiBBcnJheS5mcm9tKHRoaXMudG9vbHMudmFsdWVzKCkpLFxuICAgICAgbGlmZWN5Y2xlOiB0aGlzLmxpZmVjeWNsZXMsXG4gICAgICBtb2RlbFxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBzcmMvbmV0d29yay50c1xudmFyIGNyZWF0ZU5ldHdvcmsgPSAob3B0cykgPT4gbmV3IE5ldHdvcmsob3B0cyk7XG52YXIgTmV0d29yayA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgYWdlbnRzLFxuICAgIGRlZmF1bHRNb2RlbCxcbiAgICBtYXhJdGVyLFxuICAgIGRlZmF1bHRTdGF0ZSxcbiAgICByb3V0ZXIsXG4gICAgZGVmYXVsdFJvdXRlcixcbiAgICBoaXN0b3J5XG4gIH0pIHtcbiAgICB0aGlzLl9jb3VudGVyID0gMDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmFnZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5fYWdlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLmRlZmF1bHRNb2RlbCA9IGRlZmF1bHRNb2RlbDtcbiAgICB0aGlzLnJvdXRlciA9IGRlZmF1bHRSb3V0ZXIgIT0gbnVsbCA/IGRlZmF1bHRSb3V0ZXIgOiByb3V0ZXI7XG4gICAgdGhpcy5tYXhJdGVyID0gbWF4SXRlciB8fCAwO1xuICAgIHRoaXMuX3N0YWNrID0gW107XG4gICAgdGhpcy5oaXN0b3J5ID0gaGlzdG9yeTtcbiAgICBpZiAoZGVmYXVsdFN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlID0gZGVmYXVsdFN0YXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBhZ2VudCBvZiBhZ2VudHMpIHtcbiAgICAgIHRoaXMuYWdlbnRzLnNldChhZ2VudC5uYW1lLCBhZ2VudCk7XG4gICAgICB0aGlzLl9hZ2VudHMuc2V0KGFnZW50Lm5hbWUsIGFnZW50KTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgYXZhaWxhYmxlQWdlbnRzKG5ldHdvcmtSdW4gPSBuZXcgTmV0d29ya1J1bih0aGlzLCBuZXcgU3RhdGUoKSkpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYXZhaWxhYmxlID0gW107XG4gICAgY29uc3QgYWxsID0gQXJyYXkuZnJvbSh0aGlzLmFnZW50cy52YWx1ZXMoKSk7XG4gICAgZm9yIChjb25zdCBhIG9mIGFsbCkge1xuICAgICAgY29uc3QgZW5hYmxlZCA9IChfYSA9IGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEubGlmZWN5Y2xlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmVuYWJsZWQ7XG4gICAgICBpZiAoIWVuYWJsZWQgfHwgYXdhaXQgZW5hYmxlZCh7IGFnZW50OiBhLCBuZXR3b3JrOiBuZXR3b3JrUnVuIH0pKSB7XG4gICAgICAgIGF2YWlsYWJsZS5wdXNoKGEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXZhaWxhYmxlO1xuICB9XG4gIC8qKlxuICAgKiBhZGRBZ2VudCBhZGRzIGEgbmV3IGFnZW50IHRvIHRoZSBuZXR3b3JrLlxuICAgKi9cbiAgYWRkQWdlbnQoYWdlbnQpIHtcbiAgICB0aGlzLmFnZW50cy5zZXQoYWdlbnQubmFtZSwgYWdlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBydW4gaGFuZGxlcyBhIGdpdmVuIHJlcXVlc3QgdXNpbmcgdGhlIG5ldHdvcmsgb2YgYWdlbnRzLiAgSXQgaXMgbm90XG4gICAqIGNvbmN1cnJlbmN5LXNhZmU7IHlvdSBjYW4gb25seSBjYWxsIHJ1biBvbiBhIG5ldHdvcmsgb25jZSwgYXMgbmV0d29ya3MgYXJlXG4gICAqIHN0YXRlZnVsLlxuICAgKlxuICAgKi9cbiAgcnVuKC4uLltpbnB1dCwgb3ZlcnJpZGVzXSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgc3RhdGU7XG4gICAgaWYgKG92ZXJyaWRlcyA9PSBudWxsID8gdm9pZCAwIDogb3ZlcnJpZGVzLnN0YXRlKSB7XG4gICAgICBpZiAob3ZlcnJpZGVzLnN0YXRlIGluc3RhbmNlb2YgU3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBvdmVycmlkZXMuc3RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdGF0ZU9iaiA9IG92ZXJyaWRlcy5zdGF0ZTtcbiAgICAgICAgc3RhdGUgPSBuZXcgU3RhdGUoe1xuICAgICAgICAgIGRhdGE6IHN0YXRlT2JqLmRhdGEgfHwge30sXG4gICAgICAgICAgbWVzc2FnZXM6IHN0YXRlT2JqLl9tZXNzYWdlcyB8fCBbXSxcbiAgICAgICAgICByZXN1bHRzOiBzdGF0ZU9iai5fcmVzdWx0cyB8fCBbXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUgPSAoKF9hID0gdGhpcy5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNsb25lKCkpIHx8IG5ldyBTdGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5ldHdvcmtSdW4odGhpcywgc3RhdGUpW1wiZXhlY3V0ZVwiXShpbnB1dCwgb3ZlcnJpZGVzKTtcbiAgfVxufTtcbnZhciBkZWZhdWx0Um91dGluZ0FnZW50O1xudmFyIGdldERlZmF1bHRSb3V0aW5nQWdlbnQgPSAoKSA9PiB7XG4gIGRlZmF1bHRSb3V0aW5nQWdlbnQgIT0gbnVsbCA/IGRlZmF1bHRSb3V0aW5nQWdlbnQgOiBkZWZhdWx0Um91dGluZ0FnZW50ID0gY3JlYXRlUm91dGluZ0FnZW50KHtcbiAgICBuYW1lOiBcIkRlZmF1bHQgcm91dGluZyBhZ2VudFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdHMgd2hpY2ggYWdlbnRzIHRvIHdvcmsgb24gYmFzZWQgb2ZmIG9mIHRoZSBjdXJyZW50IHByb21wdCBhbmQgaW5wdXQuXCIsXG4gICAgbGlmZWN5Y2xlOiB7XG4gICAgICBvblJvdXRlOiAoeyByZXN1bHQgfSkgPT4ge1xuICAgICAgICBjb25zdCB0b29sID0gcmVzdWx0LnRvb2xDYWxsc1swXTtcbiAgICAgICAgaWYgKCF0b29sKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG9vbC5jb250ZW50ID09PSBcIm9iamVjdFwiICYmIHRvb2wuY29udGVudCAhPT0gbnVsbCAmJiBcImRhdGFcIiBpbiB0b29sLmNvbnRlbnQgJiYgdHlwZW9mIHRvb2wuY29udGVudC5kYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgcmV0dXJuIFt0b29sLmNvbnRlbnQuZGF0YV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHM6IFtcbiAgICAgIC8vIFRoaXMgdG9vbCBkb2VzIG5vdGhpbmcgYnV0IGVuc3VyZSB0aGF0IHRoZSBtb2RlbCByZXNwb25kcyB3aXRoIHRoZVxuICAgICAgLy8gYWdlbnQgbmFtZSBhcyB2YWxpZCBKU09OLlxuICAgICAgY3JlYXRlVG9vbCh7XG4gICAgICAgIG5hbWU6IFwic2VsZWN0X2FnZW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcInNlbGVjdCBhbiBhZ2VudCB0byBoYW5kbGUgdGhlIGlucHV0LCBiYXNlZCBvZmYgb2YgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uXCIsXG4gICAgICAgIHBhcmFtZXRlcnM6IHozLm9iamVjdCh7XG4gICAgICAgICAgbmFtZTogejMuc3RyaW5nKCkuZGVzY3JpYmUoXCJUaGUgbmFtZSBvZiB0aGUgYWdlbnQgdGhhdCBzaG91bGQgaGFuZGxlIHRoZSByZXF1ZXN0XCIpXG4gICAgICAgIH0pLnN0cmljdCgpLFxuICAgICAgICBoYW5kbGVyOiAoeyBuYW1lIH0sIHsgbmV0d29yayB9KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcm91dGluZyBhZ2VudCByZXF1ZXN0ZWQgYW4gaW52YWxpZCBhZ2VudFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYWdlbnQgPSBuZXR3b3JrLmFnZW50cy5nZXQobmFtZSk7XG4gICAgICAgICAgaWYgKGFnZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFRoZSByb3V0aW5nIGFnZW50IHJlcXVlc3RlZCBhbiBhZ2VudCB0aGF0IGRvZXNuJ3QgZXhpc3Q6ICR7bmFtZX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWdlbnQubmFtZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdLFxuICAgIHRvb2xfY2hvaWNlOiBcInNlbGVjdF9hZ2VudFwiLFxuICAgIHN5c3RlbTogYXN5bmMgKHsgbmV0d29yayB9KSA9PiB7XG4gICAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiVGhlIHJvdXRpbmcgYWdlbnQgY2FuIG9ubHkgYmUgdXNlZCB3aXRoaW4gYSBuZXR3b3JrIG9mIGFnZW50c1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBhZ2VudHMgPSBhd2FpdCAobmV0d29yayA9PSBudWxsID8gdm9pZCAwIDogbmV0d29yay5hdmFpbGFibGVBZ2VudHMoKSk7XG4gICAgICByZXR1cm4gYFlvdSBhcmUgdGhlIG9yY2hlc3RyYXRvciBiZXR3ZWVuIGEgZ3JvdXAgb2YgYWdlbnRzLiAgRWFjaCBhZ2VudCBpcyBzdWl0ZWQgZm9yIGEgc2V0IG9mIHNwZWNpZmljIHRhc2tzLCBhbmQgaGFzIGEgbmFtZSwgaW5zdHJ1Y3Rpb25zLCBhbmQgYSBzZXQgb2YgdG9vbHMuXG5cblRoZSBmb2xsb3dpbmcgYWdlbnRzIGFyZSBhdmFpbGFibGU6XG48YWdlbnRzPlxuICAke2FnZW50cy5tYXAoKGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICA8YWdlbnQ+XG4gICAgICA8bmFtZT4ke2EubmFtZX08L25hbWU+XG4gICAgICA8ZGVzY3JpcHRpb24+JHthLmRlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XG4gICAgICA8dG9vbHM+JHtKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGEudG9vbHMudmFsdWVzKCkpKX08L3Rvb2xzPlxuICAgIDwvYWdlbnQ+YDtcbiAgICAgIH0pLmpvaW4oXCJcXG5cIil9XG48L2FnZW50cz5cblxuRm9sbG93IHRoZSBzZXQgb2YgaW5zdHJ1Y3Rpb25zOlxuXG48aW5zdHJ1Y3Rpb25zPlxuICBUaGluayBhYm91dCB0aGUgY3VycmVudCBoaXN0b3J5IGFuZCBzdGF0dXMuICBEZXRlcm1pbmUgd2hpY2ggYWdlbnQgdG8gdXNlIHRvIGhhbmRsZSB0aGUgdXNlcidzIHJlcXVlc3QsIGJhc2VkIG9mZiBvZiB0aGUgY3VycmVudCBhZ2VudHMgYW5kIHRoZWlyIHRvb2xzLlxuXG4gIFlvdXIgYWltIGlzIHRvIHRob3JvdWdobHkgY29tcGxldGUgdGhlIHJlcXVlc3QsIHRoaW5raW5nIHN0ZXAgYnkgc3RlcCwgY2hvb3NpbmcgdGhlIHJpZ2h0IGFnZW50IGJhc2VkIG9mZiBvZiB0aGUgY29udGV4dC5cbjwvaW5zdHJ1Y3Rpb25zPlxuICAgIGA7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRlZmF1bHRSb3V0aW5nQWdlbnQ7XG59O1xudmFyIE5ldHdvcmtSdW4gPSBjbGFzcyBleHRlbmRzIE5ldHdvcmsge1xuICBjb25zdHJ1Y3RvcihuZXR3b3JrLCBzdGF0ZSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5ldHdvcmsubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBuZXR3b3JrLmRlc2NyaXB0aW9uLFxuICAgICAgYWdlbnRzOiBBcnJheS5mcm9tKG5ldHdvcmsuYWdlbnRzLnZhbHVlcygpKSxcbiAgICAgIGRlZmF1bHRNb2RlbDogbmV0d29yay5kZWZhdWx0TW9kZWwsXG4gICAgICBkZWZhdWx0U3RhdGU6IG5ldHdvcmsuc3RhdGUsXG4gICAgICByb3V0ZXI6IG5ldHdvcmsucm91dGVyLFxuICAgICAgbWF4SXRlcjogbmV0d29yay5tYXhJdGVyLFxuICAgICAgaGlzdG9yeTogbmV0d29yay5oaXN0b3J5XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICB9XG4gIHJ1bigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrUnVuIGRvZXMgbm90IHN1cHBvcnQgcnVuXCIpO1xuICB9XG4gIGFzeW5jIGF2YWlsYWJsZUFnZW50cygpIHtcbiAgICByZXR1cm4gc3VwZXIuYXZhaWxhYmxlQWdlbnRzKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBpcyB1c2VkIHRvIHB1c2ggYW4gYWdlbnQncyBydW4gZnVuY3Rpb24gb250byB0aGUgc3RhY2suXG4gICAqL1xuICBzY2hlZHVsZShhZ2VudE5hbWUpIHtcbiAgICB0aGlzW1wiX3N0YWNrXCJdLnB1c2goYWdlbnROYW1lKTtcbiAgfVxuICBhc3luYyBleGVjdXRlKC4uLltpbnB1dCwgb3ZlcnJpZGVzXSkge1xuICAgIGF3YWl0IGluaXRpYWxpemVUaHJlYWQoe1xuICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICBpbnB1dCxcbiAgICAgIG5ldHdvcms6IHRoaXNcbiAgICB9KTtcbiAgICBhd2FpdCBsb2FkVGhyZWFkRnJvbVN0b3JhZ2Uoe1xuICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICBpbnB1dCxcbiAgICAgIG5ldHdvcms6IHRoaXNcbiAgICB9KTtcbiAgICBjb25zdCBhdmFpbGFibGUgPSBhd2FpdCB0aGlzLmF2YWlsYWJsZUFnZW50cygpO1xuICAgIGlmIChhdmFpbGFibGUubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBhZ2VudHMgZW5hYmxlZCBpbiBuZXR3b3JrXCIpO1xuICAgIH1cbiAgICBjb25zdCBpbml0aWFsUmVzdWx0Q291bnQgPSB0aGlzLnN0YXRlLnJlc3VsdHMubGVuZ3RoO1xuICAgIGNvbnN0IG5leHQgPSBhd2FpdCB0aGlzLmdldE5leHRBZ2VudHMoXG4gICAgICBpbnB1dCxcbiAgICAgIChvdmVycmlkZXMgPT0gbnVsbCA/IHZvaWQgMCA6IG92ZXJyaWRlcy5yb3V0ZXIpIHx8IChvdmVycmlkZXMgPT0gbnVsbCA/IHZvaWQgMCA6IG92ZXJyaWRlcy5kZWZhdWx0Um91dGVyKSB8fCB0aGlzLnJvdXRlclxuICAgICk7XG4gICAgaWYgKCEobmV4dCA9PSBudWxsID8gdm9pZCAwIDogbmV4dC5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZm9yIChjb25zdCBhZ2VudCBvZiBuZXh0KSB7XG4gICAgICB0aGlzLnNjaGVkdWxlKGFnZW50Lm5hbWUpO1xuICAgIH1cbiAgICB3aGlsZSAodGhpcy5fc3RhY2subGVuZ3RoID4gMCAmJiAodGhpcy5tYXhJdGVyID09PSAwIHx8IHRoaXMuX2NvdW50ZXIgPCB0aGlzLm1heEl0ZXIpKSB7XG4gICAgICBjb25zdCBhZ2VudE5hbWUgPSB0aGlzLl9zdGFjay5zaGlmdCgpO1xuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudE5hbWUgJiYgdGhpcy5fYWdlbnRzLmdldChhZ2VudE5hbWUpO1xuICAgICAgaWYgKCFhZ2VudCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhbGwgPSBhd2FpdCBhZ2VudC5ydW4oaW5wdXQsIHsgbmV0d29yazogdGhpcywgbWF4SXRlcjogMCB9KTtcbiAgICAgIHRoaXMuX2NvdW50ZXIgKz0gMTtcbiAgICAgIHRoaXMuc3RhdGUuYXBwZW5kUmVzdWx0KGNhbGwpO1xuICAgICAgY29uc3QgbmV4dDIgPSBhd2FpdCB0aGlzLmdldE5leHRBZ2VudHMoXG4gICAgICAgIGlucHV0LFxuICAgICAgICAob3ZlcnJpZGVzID09IG51bGwgPyB2b2lkIDAgOiBvdmVycmlkZXMucm91dGVyKSB8fCAob3ZlcnJpZGVzID09IG51bGwgPyB2b2lkIDAgOiBvdmVycmlkZXMuZGVmYXVsdFJvdXRlcikgfHwgdGhpcy5yb3V0ZXJcbiAgICAgICk7XG4gICAgICBmb3IgKGNvbnN0IGEgb2YgbmV4dDIgfHwgW10pIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZShhLm5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBzYXZlVGhyZWFkVG9TdG9yYWdlKHtcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LFxuICAgICAgaW5wdXQsXG4gICAgICBpbml0aWFsUmVzdWx0Q291bnQsXG4gICAgICBuZXR3b3JrOiB0aGlzXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXN5bmMgZ2V0TmV4dEFnZW50cyhpbnB1dCwgcm91dGVyKSB7XG4gICAgaWYgKCFyb3V0ZXIgJiYgIXRoaXMuZGVmYXVsdE1vZGVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gcm91dGVyIG9yIG1vZGVsIGRlZmluZWQgaW4gbmV0d29yay4gIFlvdSBtdXN0IHBhc3MgYSByb3V0ZXIgb3IgYSBkZWZhdWx0IG1vZGVsIHRvIHVzZSB0aGUgYnVpbHQtaW4gYWdlbnRpYyByb3V0ZXIuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghcm91dGVyKSB7XG4gICAgICByb3V0ZXIgPSBnZXREZWZhdWx0Um91dGluZ0FnZW50KCk7XG4gICAgfVxuICAgIGlmIChyb3V0ZXIgaW5zdGFuY2VvZiBSb3V0aW5nQWdlbnQpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldE5leHRBZ2VudHNWaWFSb3V0aW5nQWdlbnQocm91dGVyLCBpbnB1dCk7XG4gICAgfVxuICAgIGNvbnN0IHN0YWNrID0gdGhpcy5fc3RhY2subWFwKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBhZ2VudDIgPSB0aGlzLl9hZ2VudHMuZ2V0KG5hbWUpO1xuICAgICAgaWYgKCFhZ2VudDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGFnZW50IGluIHRoZSBuZXR3b3JrIHN0YWNrOiAke25hbWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWdlbnQyO1xuICAgIH0pO1xuICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgcm91dGVyKHtcbiAgICAgIGlucHV0LFxuICAgICAgbmV0d29yazogdGhpcyxcbiAgICAgIHN0YWNrLFxuICAgICAgbGFzdFJlc3VsdDogdGhpcy5zdGF0ZS5yZXN1bHRzLnBvcCgpLFxuICAgICAgY2FsbENvdW50OiB0aGlzLl9jb3VudGVyXG4gICAgfSk7XG4gICAgaWYgKCFhZ2VudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWdlbnQgaW5zdGFuY2VvZiBSb3V0aW5nQWdlbnQpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldE5leHRBZ2VudHNWaWFSb3V0aW5nQWdlbnQoYWdlbnQsIGlucHV0KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBhIG9mIEFycmF5LmlzQXJyYXkoYWdlbnQpID8gYWdlbnQgOiBbYWdlbnRdKSB7XG4gICAgICBpZiAoIXRoaXMuX2FnZW50cy5oYXMoYS5uYW1lKSkge1xuICAgICAgICB0aGlzLl9hZ2VudHMuc2V0KGEubmFtZSwgYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFnZW50KSA/IGFnZW50IDogW2FnZW50XTtcbiAgfVxuICBhc3luYyBnZXROZXh0QWdlbnRzVmlhUm91dGluZ0FnZW50KHJvdXRpbmdBZ2VudCwgaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByb3V0aW5nQWdlbnQucnVuKGlucHV0LCB7XG4gICAgICBuZXR3b3JrOiB0aGlzLFxuICAgICAgbW9kZWw6IHJvdXRpbmdBZ2VudC5tb2RlbCB8fCB0aGlzLmRlZmF1bHRNb2RlbFxuICAgIH0pO1xuICAgIGNvbnN0IGFnZW50TmFtZXMgPSByb3V0aW5nQWdlbnQubGlmZWN5Y2xlcy5vblJvdXRlKHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIGFnZW50OiByb3V0aW5nQWdlbnQsXG4gICAgICBuZXR3b3JrOiB0aGlzXG4gICAgfSk7XG4gICAgcmV0dXJuIChhZ2VudE5hbWVzIHx8IFtdKS5tYXAoKG5hbWUpID0+IHRoaXMuYWdlbnRzLmdldChuYW1lKSkuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG59O1xuXG4vLyBzcmMvaGlzdG9yeS50c1xuaW1wb3J0IFwiaW5uZ2VzdFwiO1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVRocmVhZChjb25maWcpIHtcbiAgY29uc3QgeyBzdGF0ZSwgaGlzdG9yeSwgaW5wdXQsIG5ldHdvcmsgfSA9IGNvbmZpZztcbiAgaWYgKCFoaXN0b3J5KSByZXR1cm47XG4gIGNvbnN0IHN0ZXAgPSBhd2FpdCBnZXRTdGVwVG9vbHMoKTtcbiAgaWYgKCFzdGF0ZS50aHJlYWRJZCAmJiBoaXN0b3J5LmNyZWF0ZVRocmVhZCkge1xuICAgIGNvbnN0IHsgdGhyZWFkSWQgfSA9IGF3YWl0IGhpc3RvcnkuY3JlYXRlVGhyZWFkKHtcbiAgICAgIHN0YXRlLFxuICAgICAgbmV0d29yayxcbiAgICAgIGlucHV0LFxuICAgICAgc3RlcFxuICAgIH0pO1xuICAgIHN0YXRlLnRocmVhZElkID0gdGhyZWFkSWQ7XG4gIH0gZWxzZSBpZiAoIXN0YXRlLnRocmVhZElkICYmIGhpc3RvcnkuZ2V0KSB7XG4gICAgc3RhdGUudGhyZWFkSWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGlmIChoaXN0b3J5LmNyZWF0ZVRocmVhZCkge1xuICAgICAgYXdhaXQgaGlzdG9yeS5jcmVhdGVUaHJlYWQoe1xuICAgICAgICBzdGF0ZSxcbiAgICAgICAgbmV0d29yayxcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIHN0ZXBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gbG9hZFRocmVhZEZyb21TdG9yYWdlKGNvbmZpZykge1xuICBjb25zdCB7IHN0YXRlLCBoaXN0b3J5LCBpbnB1dCwgbmV0d29yayB9ID0gY29uZmlnO1xuICBpZiAoIShoaXN0b3J5ID09IG51bGwgPyB2b2lkIDAgOiBoaXN0b3J5LmdldCkgfHwgIXN0YXRlLnRocmVhZElkIHx8IHN0YXRlLnJlc3VsdHMubGVuZ3RoID4gMCB8fCBzdGF0ZS5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHN0ZXAgPSBhd2FpdCBnZXRTdGVwVG9vbHMoKTtcbiAgY29uc3QgaGlzdG9yeVJlc3VsdHMgPSBhd2FpdCBoaXN0b3J5LmdldCh7XG4gICAgc3RhdGUsXG4gICAgbmV0d29yayxcbiAgICBpbnB1dCxcbiAgICBzdGVwLFxuICAgIHRocmVhZElkOiBzdGF0ZS50aHJlYWRJZFxuICB9KTtcbiAgc3RhdGUuc2V0UmVzdWx0cyhoaXN0b3J5UmVzdWx0cyk7XG59XG5hc3luYyBmdW5jdGlvbiBzYXZlVGhyZWFkVG9TdG9yYWdlKGNvbmZpZykge1xuICBjb25zdCB7IHN0YXRlLCBoaXN0b3J5LCBpbnB1dCwgaW5pdGlhbFJlc3VsdENvdW50LCBuZXR3b3JrIH0gPSBjb25maWc7XG4gIGlmICghKGhpc3RvcnkgPT0gbnVsbCA/IHZvaWQgMCA6IGhpc3RvcnkuYXBwZW5kUmVzdWx0cykpIHJldHVybjtcbiAgY29uc3Qgc3RlcCA9IGF3YWl0IGdldFN0ZXBUb29scygpO1xuICBjb25zdCBuZXdSZXN1bHRzID0gc3RhdGUuZ2V0UmVzdWx0c0Zyb20oaW5pdGlhbFJlc3VsdENvdW50KTtcbiAgY29uc3QgdXNlck1lc3NhZ2UgPSBpbnB1dC50cmltKCkgPyB7XG4gICAgY29udGVudDogaW5wdXQsXG4gICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgdGltZXN0YW1wOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxuICB9IDogdm9pZCAwO1xuICBhd2FpdCBoaXN0b3J5LmFwcGVuZFJlc3VsdHMoe1xuICAgIHN0YXRlLFxuICAgIG5ldHdvcmssXG4gICAgc3RlcCxcbiAgICBuZXdSZXN1bHRzLFxuICAgIGlucHV0LFxuICAgIHRocmVhZElkOiBzdGF0ZS50aHJlYWRJZCxcbiAgICB1c2VyTWVzc2FnZVxuICB9KTtcbn1cblxuZXhwb3J0IHtcbiAgX19zcHJlYWRWYWx1ZXMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIEFnZW50UmVzdWx0LFxuICBjcmVhdGVTdGF0ZSxcbiAgU3RhdGUsXG4gIHN0cmluZ2lmeUVycm9yLFxuICBnZXRTdGVwVG9vbHMsXG4gIGlzSW5uZ2VzdEZuLFxuICBnZXRJbm5nZXN0Rm5JbnB1dCxcbiAgaW5pdGlhbGl6ZVRocmVhZCxcbiAgbG9hZFRocmVhZEZyb21TdG9yYWdlLFxuICBzYXZlVGhyZWFkVG9TdG9yYWdlLFxuICBjcmVhdGVOZXR3b3JrLFxuICBOZXR3b3JrLFxuICBnZXREZWZhdWx0Um91dGluZ0FnZW50LFxuICBOZXR3b3JrUnVuLFxuICBjcmVhdGVUb29sLFxuICBjcmVhdGVBZ2VudGljTW9kZWxGcm9tQWlBZGFwdGVyLFxuICBBZ2VudGljTW9kZWwsXG4gIGNyZWF0ZUFnZW50LFxuICBjcmVhdGVSb3V0aW5nQWdlbnQsXG4gIEFnZW50LFxuICBSb3V0aW5nQWdlbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1KNzZNNEtMVy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/dist/chunk-J76M4KLW.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@inngest/agent-kit/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@inngest/agent-kit/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Agent: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.Agent),\n/* harmony export */   AgentResult: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.AgentResult),\n/* harmony export */   AgenticModel: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.AgenticModel),\n/* harmony export */   Network: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.Network),\n/* harmony export */   NetworkRun: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.NetworkRun),\n/* harmony export */   RoutingAgent: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.RoutingAgent),\n/* harmony export */   State: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.State),\n/* harmony export */   anthropic: () => (/* reexport safe */ _inngest_ai__WEBPACK_IMPORTED_MODULE_1__.anthropic),\n/* harmony export */   createAgent: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.createAgent),\n/* harmony export */   createAgenticModelFromAiAdapter: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.createAgenticModelFromAiAdapter),\n/* harmony export */   createNetwork: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.createNetwork),\n/* harmony export */   createRoutingAgent: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.createRoutingAgent),\n/* harmony export */   createState: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.createState),\n/* harmony export */   createTool: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.createTool),\n/* harmony export */   gemini: () => (/* reexport safe */ _inngest_ai__WEBPACK_IMPORTED_MODULE_1__.gemini),\n/* harmony export */   getDefaultRoutingAgent: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.getDefaultRoutingAgent),\n/* harmony export */   getInngestFnInput: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.getInngestFnInput),\n/* harmony export */   getStepTools: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.getStepTools),\n/* harmony export */   grok: () => (/* reexport safe */ _inngest_ai__WEBPACK_IMPORTED_MODULE_1__.grok),\n/* harmony export */   initializeThread: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.initializeThread),\n/* harmony export */   isInngestFn: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.isInngestFn),\n/* harmony export */   loadThreadFromStorage: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.loadThreadFromStorage),\n/* harmony export */   openai: () => (/* reexport safe */ _inngest_ai__WEBPACK_IMPORTED_MODULE_1__.openai),\n/* harmony export */   saveThreadToStorage: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.saveThreadToStorage),\n/* harmony export */   stringifyError: () => (/* reexport safe */ _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__.stringifyError)\n/* harmony export */ });\n/* harmony import */ var _chunk_J76M4KLW_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-J76M4KLW.js */ \"(rsc)/./node_modules/@inngest/agent-kit/dist/chunk-J76M4KLW.js\");\n/* harmony import */ var _inngest_ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @inngest/ai */ \"(rsc)/./node_modules/@inngest/agent-kit/node_modules/@inngest/ai/dist/index.js\");\n\n\n// src/models.ts\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGlubmdlc3QvYWdlbnQta2l0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0I2Qjs7QUFFN0I7QUFDOEQ7QUEyQjVEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXZlLXZpYmUtYWktbmV4dC8uL25vZGVfbW9kdWxlcy9AaW5uZ2VzdC9hZ2VudC1raXQvZGlzdC9pbmRleC5qcz9jMDliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFnZW50LFxuICBBZ2VudFJlc3VsdCxcbiAgQWdlbnRpY01vZGVsLFxuICBOZXR3b3JrLFxuICBOZXR3b3JrUnVuLFxuICBSb3V0aW5nQWdlbnQsXG4gIFN0YXRlLFxuICBjcmVhdGVBZ2VudCxcbiAgY3JlYXRlQWdlbnRpY01vZGVsRnJvbUFpQWRhcHRlcixcbiAgY3JlYXRlTmV0d29yayxcbiAgY3JlYXRlUm91dGluZ0FnZW50LFxuICBjcmVhdGVTdGF0ZSxcbiAgY3JlYXRlVG9vbCxcbiAgZ2V0RGVmYXVsdFJvdXRpbmdBZ2VudCxcbiAgZ2V0SW5uZ2VzdEZuSW5wdXQsXG4gIGdldFN0ZXBUb29scyxcbiAgaW5pdGlhbGl6ZVRocmVhZCxcbiAgaXNJbm5nZXN0Rm4sXG4gIGxvYWRUaHJlYWRGcm9tU3RvcmFnZSxcbiAgc2F2ZVRocmVhZFRvU3RvcmFnZSxcbiAgc3RyaW5naWZ5RXJyb3Jcbn0gZnJvbSBcIi4vY2h1bmstSjc2TTRLTFcuanNcIjtcblxuLy8gc3JjL21vZGVscy50c1xuaW1wb3J0IHsgYW50aHJvcGljLCBnZW1pbmksIG9wZW5haSwgZ3JvayB9IGZyb20gXCJAaW5uZ2VzdC9haVwiO1xuZXhwb3J0IHtcbiAgQWdlbnQsXG4gIEFnZW50UmVzdWx0LFxuICBBZ2VudGljTW9kZWwsXG4gIE5ldHdvcmssXG4gIE5ldHdvcmtSdW4sXG4gIFJvdXRpbmdBZ2VudCxcbiAgU3RhdGUsXG4gIGFudGhyb3BpYyxcbiAgY3JlYXRlQWdlbnQsXG4gIGNyZWF0ZUFnZW50aWNNb2RlbEZyb21BaUFkYXB0ZXIsXG4gIGNyZWF0ZU5ldHdvcmssXG4gIGNyZWF0ZVJvdXRpbmdBZ2VudCxcbiAgY3JlYXRlU3RhdGUsXG4gIGNyZWF0ZVRvb2wsXG4gIGdlbWluaSxcbiAgZ2V0RGVmYXVsdFJvdXRpbmdBZ2VudCxcbiAgZ2V0SW5uZ2VzdEZuSW5wdXQsXG4gIGdldFN0ZXBUb29scyxcbiAgZ3JvayxcbiAgaW5pdGlhbGl6ZVRocmVhZCxcbiAgaXNJbm5nZXN0Rm4sXG4gIGxvYWRUaHJlYWRGcm9tU3RvcmFnZSxcbiAgb3BlbmFpLFxuICBzYXZlVGhyZWFkVG9TdG9yYWdlLFxuICBzdHJpbmdpZnlFcnJvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@inngest/agent-kit/dist/index.js\n");

/***/ })

};
;